{"version":3,"file":"lowcode-lib.cjs.development.js","sources":["../src/core/command/runtime.ts","../src/core/utils/special.ts","../src/core/utils/index.ts","../src/hooks/index.ts","../src/core/innerDrag/state.ts","../src/core/selectRange/sat.ts","../src/core/selectRange/index.ts","../src/core/contextMenu/index.tsx","../src/core/focusHandler/index.tsx","../src/core/components/createBlock.ts","../src/core/crossDrag/index.ts","../src/core/markline/marklineConfig.ts","../src/core/resizeHandler/state.ts","../src/core/resizeHandler/calcWithRotate.ts","../src/core/resizeHandler/cursor.ts","../src/core/resizeHandler/index.tsx","../src/components/control/state.ts","../src/core/resizeHandler/containerResizer.ts","../src/components/wrapperMove/event.ts","../src/components/IframeWrapperMove/event.ts","../src/core/rotateHandler/index.tsx","../src/core/markline/state.ts","../src/components/timeLine/timelineItem.tsx","../node_modules/regenerator-runtime/runtime.js","../src/locale/en.ts","../src/locale/zh-CN.ts","../src/locale/index.tsx","../src/components/timeLine/timeline.tsx","../src/core/innerDrag/index.ts","../src/core/markline/normalMode.ts","../src/core/markline/calcRender.ts","../src/core/markline/index.tsx","../src/core/transfer/index.ts","../src/core/utils/animate.ts","../src/components/blocks.tsx","../src/components/container.tsx","../src/components/leftConfig.tsx","../src/components/preview.tsx","../src/components/colorPicker/index.tsx","../src/components/rightConfig.tsx","../src/core/scale/cancel.ts","../src/core/scale/index.ts","../src/components/wrapperMove/ticker.tsx","../src/components/wrapperMove/index.tsx","../src/components/control/settings.tsx","../src/components/control/control.tsx","../src/components/leftDataPannel.tsx","../src/core/components/formComponentRegister.ts","../src/core/functionCenter/index.ts","../src/core/eventCenter/eventQuene.ts","../src/core/eventCenter/index.ts","../src/core/dataCenter/index.ts","../src/components/modalRender.tsx","../src/core/scale/state.ts","../src/core/components/abstract.ts","../src/core/components/defaultFormComponents/modalMask.tsx","../src/core/command/keycode.ts","../src/core/command/index.ts","../src/core/focusHandler/state.ts","../src/core/components/index.ts","../src/core/store/createModal.ts","../src/core/store/index.ts","../src/core/AnimateFactory/index.ts","../src/config/index.tsx","../src/core/components/formTypes.ts","../src/core/command/abstract.ts","../src/hooks/useRegistFunc.ts","../src/components/iframeContainer.tsx","../src/components/IframeWrapperMove/ticker.tsx","../src/components/IframeWrapperMove/index.tsx","../src/components/iframeTarget.tsx"],"sourcesContent":["/*\n\n * @Date: 2021-07-04 14:18:18\n * @LastEditors: \n * @LastEditTime: 2021-07-04 14:21:33\n * @FilePath: \\DooringV2\\packages\\dooring-v2-lib\\src\\core\\command\\runtime.ts\n */\nimport CommanderWrapper from \".\";\nimport { CommanderItemFactory } from \"./abstract\";\n\nexport const registCommandFn = (\n  module: CommanderItemFactory[],\n  commander: CommanderWrapper\n) => {\n  module.forEach((v) => {\n    commander.register(v);\n  });\n};\nexport const unRegistCommandFn = (\n  module: CommanderItemFactory[],\n  commander: CommanderWrapper\n) => {\n  module.forEach((v) => {\n    commander.unRegister(v.name);\n  });\n};\n","/*\n\n * @Date: 2021-07-09 00:05:51\n * @LastEditors: \n * @LastEditTime: 2022-04-23 23:01:25\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\utils\\special.ts\n */\nexport const specialCoList = [\"modalMask\"];\nexport const specialFnList = [\"_inner\"];\n","import { message } from \"antd\";\nimport { RGBColor } from \"react-color\";\nimport { nanoid } from \"nanoid\";\nimport Store from \"../store\";\nimport { IBlockType, IStoreData } from \"../store/storetype\";\nimport { specialCoList } from \"./special\";\nimport deepCopys from \"deepcopy\";\nimport { FunctionDataMap } from \"../functionCenter/config\";\nimport UserConfig from \"../../config\";\n\nexport function deepCopy<T = any>(obj: T): T {\n  return deepCopys(obj);\n}\n\nexport function swap(indexa: number, indexb: number, arr: Array<any>) {\n  arr[indexa] = arr.splice(indexb, 1, arr[indexa])[0];\n  return arr;\n}\n\nexport function randomColor() {\n  return (\n    \"#\" + (\"00000\" + ((Math.random() * 0x1000000) << 0).toString(16)).slice(-6)\n  );\n}\n\n// 将rgba字符串对象转化为rgba对象\nexport function rgba2Obj(rgba = \"\") {\n  let reg = /rgba\\(\\s*?(\\d+)\\s*?,\\s*?(\\d+)\\s*?,\\s*?(\\d+)\\s*?,\\s*?(\\d+)\\s*?\\)/g;\n  let rgbaObj: RGBColor = { r: 0, g: 0, b: 0, a: 0 };\n\n  rgba.replace(reg, (_m, r, g, b, a) => {\n    rgbaObj = { r, g, b, a };\n    return rgba;\n  });\n  return rgbaObj;\n}\n\nexport function createUid(name?: string) {\n  if (name) {\n    return name + \"-\" + nanoid();\n  } else {\n    return nanoid();\n  }\n}\n\nexport const isMac = () => {\n  const isMac = /macintosh|mac os x/i.test(navigator.userAgent);\n  if (isMac) {\n    return true;\n  }\n  return false;\n};\n\nexport const changeItem = (\n  store: Store,\n  id: string,\n  property: keyof IBlockType,\n  value: IBlockType[keyof IBlockType]\n) => {\n  const clonedata: IStoreData = deepCopy(store.getData());\n  let canchange = true;\n  clonedata.block.forEach((v) => {\n    if (v.id === id) {\n      if (specialCoList.includes(v.name)) {\n        message.error(\"该组件不可调整\");\n        canchange = false;\n      }\n      v[property] = value as never;\n    }\n  });\n  if (canchange) {\n    store.setData(clonedata);\n  }\n};\n\n/**\n *\n * 清除所有聚焦，选中某个元素\n * @param {Store} store\n * @param {string} id\n */\nexport const focusEle = (store: Store, id: string) => {\n  const clonedata: IStoreData = deepCopy(store.getData());\n  clonedata.block.forEach((v) => {\n    if (v.id === id) {\n      v.focus = true;\n    } else {\n      v.focus = false;\n    }\n  });\n  store.setData(clonedata);\n};\n\nexport const changeLayer = (\n  store: Store,\n  id: string,\n  action: \"up\" | \"down\" | \"delete\",\n  msg = {\n    adjust: \"该组件不可调整\",\n    remove: \"该组件无法删除\",\n  }\n) => {\n  const clonedata: IStoreData = deepCopy(store.getData());\n  let index = -1;\n  switch (action) {\n    case \"up\":\n      clonedata.block.forEach((v, i) => {\n        if (v.id === id) {\n          if (specialCoList.includes(v.name)) {\n            message.error(msg.adjust);\n            return;\n          } else {\n            index = i;\n          }\n        }\n      });\n      if (index > 0) {\n        // 查看上一个元素\n        const item = clonedata.block[index - 1];\n        if (specialCoList.includes(item.name)) {\n          return;\n        }\n        swap(index, index - 1, clonedata.block);\n        store.setData(clonedata);\n      }\n      return;\n    case \"down\":\n      clonedata.block.forEach((v, i) => {\n        if (v.id === id) {\n          if (specialCoList.includes(v.name)) {\n            message.error(msg.adjust);\n            return;\n          } else {\n            index = i;\n          }\n        }\n      });\n      if (index > -1 && index + 1 < clonedata.block.length) {\n        const item = clonedata.block[index + 1];\n        if (specialCoList.includes(item.name)) {\n          return;\n        }\n        swap(index, index + 1, clonedata.block);\n        store.setData(clonedata);\n      }\n      return;\n    case \"delete\":\n      let candelete = true;\n      clonedata.block = clonedata.block.filter((v) => {\n        if (v.id === id) {\n          if (specialCoList.includes(v.name)) {\n            candelete = false;\n          }\n          return false;\n        }\n        return true;\n      });\n      if (candelete) {\n        store.setData(clonedata);\n      } else {\n        message.error(msg.remove);\n      }\n      return;\n  }\n};\n\n/**\n *\n * @param {*} array\n * @param {*} from\n * @param {*} to\n */\nexport const arrayMove = (array: Array<any>, from: number, to: number) => {\n  array = [...array];\n  arrayMoveMutate(array, from, to);\n  return array;\n};\n\n/**\n *\n * @param {*} length\n * @param {*} index\n */\nconst indexSub = (arrLength: number, toIndex: number) => {\n  return toIndex < 0 ? arrLength + toIndex : toIndex;\n  // return resIndex;\n};\n\n/**\n * 数组换位\n * @param {Array} array The array with the item to move. / [1,2,3]\n * @param {Number} from Index of item to move. If negative, it will begin that many elements from the end / 0 / -1 / 2\n * @param {Number} to Index of where to move the item. If negative, it will begin that many elements from the end / 0 / -1 / 2\n * returns A new array with the item moved to the new position [1,2,3] -> [1,3,2]\n */\nconst arrayMoveMutate = (array: Array<any>, from: number, to: number) => {\n  const arrLength = array.length;\n  const startIndex = indexSub(arrLength, from);\n  if (startIndex >= 0 && startIndex < arrLength) {\n    const endIndex = indexSub(arrLength, to);\n    const [item] = array.splice(from, 1);\n    array.splice(endIndex, 0, item);\n  }\n};\n\n/**\n *\n * 这个函数将返回值全部统一成数组// modal的不走此方法\n * @param {keyof FunctionDataMap} v\n * @param {Record<string, any>} args\n * @param {string} name\n * @param {UserConfig} config\n * @param {Record<string, any>} ctx\n * @return {Array<string, any>}\n */\nexport const changeUserValue = (\n  v: keyof FunctionDataMap,\n  args: Record<string, any>,\n  name: string,\n  config: UserConfig,\n  ctx: Record<string, any>\n) => {\n  const userChoose = args[name];\n  switch (v) {\n    case \"ctx\":\n      if (Array.isArray(userChoose)) {\n        return userChoose.reduce((pr: Array<string>, ne: string) => {\n          const val = ctx[ne];\n          pr.push(val);\n          return pr;\n        }, []);\n      }\n      return [];\n    case \"dataSource\":\n      const dataCenter = config.getDataCenter().getDataMap();\n      if (Array.isArray(userChoose)) {\n        return userChoose.reduce((pr: Array<string>, ne: string) => {\n          const val = dataCenter[ne];\n          pr.push(val);\n          return pr;\n        }, []);\n      }\n      return [];\n    default:\n      if (Array.isArray(userChoose)) {\n        return userChoose;\n      }\n      return [];\n  }\n};\n/**\n *\n * 这个函数将返回值全部统一成对象 modal的不走此方法\n * @param {keyof FunctionDataMap} v\n * @param {Record<string, any>} args\n * @param {string} name\n * @param {UserConfig} config\n * @param {Record<string, any>} ctx\n * @return {Record<string, any>}\n */\nexport const changeUserValueRecord = (\n  v: keyof FunctionDataMap,\n  args: Record<string, any>,\n  name: string,\n  config: UserConfig,\n  ctx: Record<string, any>\n) => {\n  const userChoose = args[name];\n  switch (v) {\n    case \"ctx\":\n      if (Array.isArray(userChoose)) {\n        return userChoose.reduce((pr: Record<string, any>, ne: string) => {\n          const val = ctx[ne];\n          return Object.assign(pr, { [ne]: val });\n        }, {});\n      }\n      return {};\n    case \"dataSource\":\n      const dataCenter = config.getDataCenter().getDataMap();\n      if (Array.isArray(userChoose)) {\n        return userChoose.reduce((pr: Record<string, any>, ne: string) => {\n          const val = dataCenter[ne];\n          return Object.assign(pr, { [ne]: val });\n        }, {});\n      }\n      return {};\n    default:\n      if (Array.isArray(userChoose)) {\n        return userChoose.reduce((pr: Record<string, any>, ne: string) => {\n          return Object.assign(pr, { [ne]: ne });\n        }, {});\n      }\n      return {};\n  }\n};\n\nexport function postMessage(\n  value: any,\n  src: string,\n  target = \"yh-container-iframe\"\n) {\n  const search = \"#\" + target;\n  const iframe = document.querySelector(search) as HTMLIFrameElement;\n\n  if (iframe) {\n    iframe.contentWindow?.postMessage(value, src);\n  } else {\n    console.warn(`can not find iframe ${search}`);\n  }\n}\n\nexport function angleToRadian(angle: number) {\n  return (angle * Math.PI) / 180;\n}\n\nexport function getContainer() {\n  let container = document.querySelector(\"#yh-container\");\n  if (!container) {\n    container = document.querySelector(\"#yh-container-iframe\");\n  }\n  return container;\n}\n\nexport function binarySearchRemain<T extends Record<string, number>>(\n  target: number,\n  arr: Array<T>,\n  attribute: keyof T,\n  indent: number\n): null | [T, number] {\n  let start = 0;\n  let end = arr.length - 1;\n\n  while (start <= end) {\n    let mid = parseInt(start + (end - start) / 2 + \"\");\n    if (\n      target === arr[mid][attribute] ||\n      Math.abs(target - arr[mid][attribute]) < indent\n    ) {\n      return [arr[mid], Math.abs(target - arr[mid][attribute])];\n    } else if (target > arr[mid][attribute]) {\n      start = mid + 1;\n    } else {\n      end = mid - 1;\n    }\n  }\n  return null;\n}\n","/*\n\n * @Date: 2021-03-14 05:35:15\n * @LastEditors: \n * @LastEditTime: 2022-04-23 23:34:15\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\hooks\\index.ts\n */\nimport { useEffect, useMemo, useState } from \"react\";\nimport UserConfig from \"../config\";\nimport { ComponentRenderConfigProps } from \"../core/components/componentItem\";\nimport { registCommandFn, unRegistCommandFn } from \"../core/command/runtime\";\nimport { postMessage } from \"../core/utils\";\n\nexport function useStoreState(\n  config: UserConfig,\n  extraFn: Function = () => {},\n  everyFn: Function = () => {}\n) {\n  const store = config.getStore();\n  const [state, setState] = useState(store.getData());\n  const forceUpdate = useState(0)[1];\n  useEffect(() => {\n    const unRegister = store.subscribe(() => {\n      const data = store.getData();\n      setState(data);\n      config.getEventCenter().syncEventMap(store.getData(), config.getStore());\n      config.getEventCenter().getFunctionCenter().syncFunction(store);\n      extraFn();\n    });\n    store.setForceUpdate(() => forceUpdate((v) => v + 1));\n    const commandModules = config.getConfig().initCommandModule;\n    const commander = config.getCommanderRegister();\n    registCommandFn(commandModules, commander);\n    return () => {\n      unRegister();\n      unRegistCommandFn(commandModules, commander);\n    };\n  }, [config, extraFn, forceUpdate, store]);\n  useEffect(() => {\n    everyFn();\n  }, [everyFn]);\n\n  // 去除默认滚动\n  useEffect(() => {\n    const fn1 = function (event: Event) {\n      if (\n        (event as MouseEvent).ctrlKey === true ||\n        (event as MouseEvent).metaKey\n      ) {\n        event.preventDefault();\n      }\n    };\n    const fn2 = function (event: Event) {\n      if (\n        (event as MouseEvent).ctrlKey === true ||\n        (event as MouseEvent).metaKey\n      ) {\n        event.preventDefault();\n      }\n    };\n    window.addEventListener(\"mousewheel\", fn1, { passive: false });\n    //firefox\n    window.addEventListener(\"DOMMouseScroll\", fn2, { passive: false });\n    return () => {\n      window.removeEventListener(\"mousewheel\", fn1);\n      window.removeEventListener(\"mousewheel\", fn2);\n    };\n  }, []);\n\n  return [state];\n}\n\n/**\n *\n * 组件动态注册eventMap与eventCenter\n * @export\n * @param {ComponentRenderConfigProps} props render参数传来的\n * @param {string} eventName 同一个组件名称不能重复\n * @returns\n */\nexport function useDynamicAddEventCenter(\n  props: ComponentRenderConfigProps,\n  eventName: string,\n  displayName: string\n) {\n  const eventCenter = useMemo(() => {\n    return props.config.getEventCenter();\n  }, [props.config]);\n\n  useEffect(() => {\n    const data = props.store.getData();\n    const map = props.data.eventMap;\n    const storeItem = data.block.find((v) => v.id === props.data.id);\n    if (storeItem) {\n      if (!map[eventName]) {\n        //动态store加属性需要通过hook\n        storeItem.eventMap[eventName] = {\n          arr: [],\n          displayName,\n          userSelect: [],\n        };\n        eventCenter.manualUpdateMap(eventName, displayName);\n      }\n    }\n  }, [\n    displayName,\n    eventCenter,\n    eventName,\n    props.data.eventMap,\n    props.data.id,\n    props.store,\n  ]);\n  return;\n}\n\n/**\n *\n *\n * @export\n * @param {string} origin iframe地址\n * @param {UserConfig} config\n * @param {boolean} sign iframe onload\n * @param {string} [target]  iframeid 默认是yh-container-iframe\n * @return {*}\n */\nexport function useIframePostMessage(\n  origin: string,\n  config: UserConfig,\n  sign: boolean,\n  target?: string\n) {\n  const store = config.getStore();\n\n  const fn = useMemo(() => {\n    config.iframeId = target || config.iframeId;\n    config.iframeOrigin = origin;\n    return () => {\n      const data = {\n        store: store.getData(),\n        scaleState: config.getScaleState(),\n        wrapperState: config.getWrapperMove().iframe,\n      };\n      postMessage(data, origin, target);\n    };\n  }, [config, origin, store, target]);\n\n  useEffect(() => {\n    let unRegister = () => {};\n    if (sign) {\n      config.refreshIframe = fn;\n      unRegister = store.subscribe(() => {\n        // dom等无法传递\n        // config由context带去，传递store和必要state\n        fn();\n      });\n    }\n    return () => {\n      unRegister();\n    };\n  }, [config.refreshIframe, fn, sign, store]);\n\n  return [fn];\n}\n\nexport function useIframeHook(origin: string, config: UserConfig) {\n  const [iframeReady, setIframeReady] = useState(false);\n  const [fnx] = useIframePostMessage(origin, config, iframeReady);\n  useEffect(() => {\n    //@ts-ignore\n    const fn = (e: MessageEvent<any>) => {\n      if (e.data === \"ready\") {\n        setIframeReady(true);\n        fnx();\n      }\n      if (typeof e.data === \"object\") {\n        if (e.data.type === \"update\") {\n          if (e.data.column === \"scale\") {\n            config.scaleState = e.data.data;\n            config.getStore().forceUpdate();\n            config.refreshIframe();\n          }\n        }\n      }\n    };\n\n    window.addEventListener(\"message\", fn);\n    return () => {\n      window.removeEventListener(\"message\", fn);\n    };\n  }, [config, fnx]);\n}\n","/*\n\n * @Date: 2021-03-14 12:09:11\n * @LastEditors: \n * @LastEditTime: 2021-09-28 16:57:05\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\innerDrag\\state.ts\n */\nimport { RefObject } from \"react\";\n\nimport { IBlockType } from \"../store/storetype\";\n\nexport interface innerDragStateType {\n  startX: number;\n  startY: number;\n  item: null | IBlockType;\n  isDrag: boolean;\n  ref: RefObject<HTMLDivElement> | null;\n  current: number;\n  lastClick: null | IBlockType;\n  itemX: number;\n  itemY: number;\n}\n\nexport const innerDragState: innerDragStateType = {\n  startX: 0,\n  startY: 0,\n  item: null,\n  isDrag: false,\n  ref: null,\n  current: 0,\n  lastClick: null,\n  itemX: 0,\n  itemY: 0,\n};\n","/*\n\n * @Date: 2022-04-30 23:25:05\n * @LastEditors: \n * @LastEditTime: 2022-05-01 19:31:14\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\selectRange\\sat.ts\n */\n\nimport { angleToRadian } from \"../utils\";\n\ninterface BlockItem {\n  width: number;\n  left: number;\n  top: number;\n  height: number;\n  rotate: number;\n}\nfunction getCenter(item: BlockItem) {\n  return { x: item.left + item.width / 2, y: item.top + item.height / 2 };\n}\nfunction revert({ x, y }: { x: number; y: number }) {\n  return { x: y, y: -x };\n}\nfunction substract(a: { x: number; y: number }, b: { x: number; y: number }) {\n  return { x: a.x - b.x, y: a.y - b.y };\n}\nfunction getSides(list: { x: number; y: number }[]) {\n  let len = list.length;\n  let res = [];\n  for (let j = 1, pre = list[0]; j < len; j++) {\n    let p = list[j];\n    res.push(substract(p, pre));\n    pre = p;\n  }\n  res.push(substract(list[0], list[len - 1]));\n  return res;\n}\nfunction len(axis: { x: number; y: number }) {\n  return Math.sqrt(axis.x * axis.x + axis.y * axis.y);\n}\nfunction dot(a: { x: number; y: number }, b: { x: number; y: number }) {\n  return a.x * b.x + a.y * b.y;\n}\nfunction getProjection(\n  axis: { x: number; y: number },\n  list: { x: number; y: number }[]\n) {\n  let min = null;\n  let max = null;\n  for (let i = 0, l = list.length; i < l; i++) {\n    let p = list[i];\n    let pro = dot(p, axis) / len(axis);\n    if (min === null || pro < min) {\n      min = pro;\n    }\n    if (max === null || pro > max) {\n      max = pro;\n    }\n  }\n  return { min: min, max: max };\n}\n\nfunction getOriginPoint(item: BlockItem) {\n  const center = getCenter(item);\n  let a = center.x;\n  let b = center.y;\n  const transfer = [\n    { x: item.left, y: item.top },\n    { x: item.left + item.width, y: item.top },\n    { x: item.left + item.width, y: item.top + item.height },\n    { x: item.left, y: item.top + item.height },\n  ];\n  const relativePoint: { x: number; y: number }[] = [];\n  const rootPoint = transfer.map((v) => {\n    const x0 = v.x;\n    const y0 = v.y;\n    const rx =\n      a +\n      (x0 - a) * Math.cos(angleToRadian(item.rotate)) -\n      (y0 - b) * Math.sin(angleToRadian(item.rotate));\n    const ry =\n      b +\n      (x0 - a) * Math.sin(angleToRadian(item.rotate)) +\n      (y0 - b) * Math.cos(angleToRadian(item.rotate));\n    relativePoint.push({ x: a - rx, y: b - ry });\n    return { x: rx, y: ry };\n  });\n\n  return { rootPoint, relativePoint };\n}\n\nfunction polygonsCollisionTest(A: BlockItem, B: BlockItem) {\n  const resa = getOriginPoint(A);\n  const resb = getOriginPoint(B);\n  const sidesa = getSides(resa.relativePoint);\n  const sidesb = getSides(resb.relativePoint);\n  const sides = sidesa.concat(sidesb);\n  for (let j = 0, l = sides.length; j < l; j++) {\n    let axis = revert(sides[j]);\n    let proA = getProjection(axis, resa.rootPoint),\n      proB = getProjection(axis, resb.rootPoint);\n    if (isOverlay(proA, proB)) {\n      return false;\n    }\n  }\n\n  return true;\n}\nfunction isOverlay(proA: any, proB: any) {\n  let min, max;\n  if (proA.min < proB.min) {\n    min = proA.min;\n  } else {\n    min = proB.min;\n  }\n  if (proA.max > proB.max) {\n    max = proA.max;\n  } else {\n    max = proB.max;\n  }\n  return proA.max - proA.min + (proB.max - proB.min) < max - min;\n}\n\nexport function Sat(v: BlockItem, select: BlockItem) {\n  return polygonsCollisionTest(v, select);\n}\n","import { IStoreData } from \"../store/storetype\";\nimport { deepCopy } from \"../utils\";\nimport style from \"../../index.less\";\nimport UserConfig from \"../../config\";\nimport { Sat } from \"./sat\";\nexport interface SelectDataProps {\n  selectDiv: HTMLDivElement | null;\n  posx: number;\n  posy: number;\n  startX: number;\n  startY: number;\n}\n\nexport const selectData: SelectDataProps = {\n  selectDiv: null,\n  posx: 0,\n  posy: 0,\n  startX: 0,\n  startY: 0,\n};\n\nexport function selectRangeMouseDown(e: React.MouseEvent, config: UserConfig) {\n  if (!selectData.selectDiv) {\n    selectData.selectDiv = document.createElement(\"div\");\n  }\n  if (selectData.selectDiv) {\n    selectData.startX = e.nativeEvent.offsetX;\n    selectData.startY = e.nativeEvent.offsetY;\n    selectData.posx = e.clientX;\n    selectData.posy = e.clientY;\n    selectData.selectDiv.className = style.yhTempDiv;\n    selectData.selectDiv.style.left = e.clientX + \"px\";\n    selectData.selectDiv.style.top = e.clientY + \"px\";\n    selectData.selectDiv.style.position = \"fixed\";\n    document.body.appendChild(selectData.selectDiv);\n    selectData.selectDiv.onmouseup = (e) => selectRangeMouseUp(e, config);\n    selectData.selectDiv.onmousemove = (e) => selectRangeMouseMove(e);\n  }\n}\n\nexport function selectRangeMouseMove(ev: React.MouseEvent | MouseEvent) {\n  if (selectData.selectDiv) {\n    selectData.selectDiv.style.left =\n      Math.min(ev.clientX, selectData.posx) + \"px\";\n    selectData.selectDiv.style.top =\n      Math.min(ev.clientY, selectData.posy) + \"px\";\n    selectData.selectDiv.style.width =\n      Math.abs(selectData.posx - ev.clientX) + \"px\";\n    selectData.selectDiv.style.height =\n      Math.abs(selectData.posy - ev.clientY) + \"px\";\n  }\n}\n\nfunction typeGuard(e: React.MouseEvent | MouseEvent): e is React.MouseEvent {\n  return !(e instanceof Event);\n}\n\nfunction selectFocus(\n  left: number,\n  top: number,\n  width: number,\n  height: number,\n  config: UserConfig\n) {\n  if (width === 0 || height === 0) {\n    return;\n  }\n  const store = config.getStore();\n  const clonedata: IStoreData = deepCopy(store.getData());\n  const focusState = config.getFocusState();\n  const blocks = clonedata.block;\n  let change = false;\n  blocks.forEach((v) => {\n    const l = v.left;\n    const t = v.top;\n    const w = v.width;\n    const h = v.height;\n    if (\n      typeof l === \"number\" &&\n      typeof t === \"number\" &&\n      typeof w === \"number\" &&\n      typeof h === \"number\" &&\n      v.canDrag === true\n    ) {\n      const curItem = {\n        left: l,\n        top: t,\n        width: w,\n        height: h,\n        rotate: v.rotate.value,\n      };\n      const res = Sat(curItem, {\n        left,\n        width,\n        height,\n        top,\n        rotate: 0,\n      });\n      if (res) {\n        change = true;\n        v.focus = true;\n        focusState.blocks.push(v);\n      }\n    }\n  });\n  if (change) {\n    store.setData(clonedata);\n  }\n}\n\nexport function selectRangeMouseUp(\n  e: React.MouseEvent | MouseEvent,\n  config: UserConfig\n) {\n  if (selectData.selectDiv) {\n    // 这里需要判定区域\n    // 如果是react触发 ，left和top就是起始值和终止值的最小值\n    // 如果是原生触发，left和top是起始点减去其宽高\n    let left = 0;\n    let top = 0;\n    const scaleState = config.getScaleState();\n    const { width, height } = selectData.selectDiv.getBoundingClientRect();\n    const scale = scaleState.value;\n    const wwidth = width / scale;\n    const wheight = height / scale;\n    if (typeGuard(e)) {\n      left = Math.min(e.nativeEvent.offsetX, selectData.startX);\n      top = Math.min(e.nativeEvent.offsetY, selectData.startY);\n    } else {\n      left = selectData.startX - wwidth;\n      top = selectData.startY - wheight;\n    }\n    selectFocus(left, top, wwidth, wheight, config);\n    selectData.selectDiv.parentNode!.removeChild(selectData.selectDiv);\n    selectData.selectDiv = null;\n  }\n}\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-07-13 19:57:45\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\contextMenu\\index.tsx\n */\nimport { Button } from \"antd\";\nimport React, { RefObject, useState } from \"react\";\nimport { ReactElement } from \"react\";\nimport ReactDOM, { unmountComponentAtNode } from \"react-dom\";\nimport UserConfig from \"../../config\";\nimport { isMac } from \"../utils\";\n\nconst ContextMenu = () => {\n  const handleclick = () => {\n    unmountContextMenu();\n  };\n  const forceUpdate = useState(0)[1];\n  contextMenuState.forceUpdate = () => {\n    forceUpdate((pre) => pre + 1);\n  };\n  return (\n    <div\n      style={{\n        left: contextMenuState.left,\n        top: contextMenuState.top,\n        position: \"fixed\",\n        background: \"rgb(24, 23, 23)\",\n      }}\n    >\n      <Button\n        onClick={() => {\n          handleclick();\n        }}\n      >\n        请参考文档自定义右键菜单\n      </Button>\n    </div>\n  );\n};\nexport interface ContextMenuStateProps {\n  left: number;\n  top: number;\n  menu: HTMLElement | null;\n  parent: HTMLDivElement | null;\n  contextMenu: ReactElement;\n  unmountContextMenu: () => void;\n  observer: null | MutationObserver;\n  initLeft: number;\n  initTop: number;\n  forceUpdate: Function;\n  state: boolean;\n}\nexport const contextMenuState: ContextMenuStateProps = {\n  left: 0,\n  top: 0,\n  menu: null,\n  parent: null,\n  contextMenu: <ContextMenu />,\n  unmountContextMenu: unmountContextMenu,\n  observer: null,\n  initLeft: 0,\n  initTop: 0,\n  forceUpdate: () => {},\n  state: false,\n};\n\nexport function contextMenuEvent(\n  e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n  ref: RefObject<HTMLDivElement>,\n  userConfig: UserConfig\n) {\n  e.preventDefault();\n  const scaleState = userConfig.getScaleState();\n  contextMenuState.unmountContextMenu();\n  const config: MutationObserverInit = {\n    attributes: true,\n  };\n  const callback: MutationCallback = (mutationsList) => {\n    if (isMac()) {\n      //mac 有bug\n      contextMenuState.unmountContextMenu();\n    } else {\n      for (let mutation of mutationsList) {\n        if (mutation.type === \"attributes\") {\n          const scale = scaleState.value;\n          const curLeft = parseFloat(\n            (mutation.target as HTMLDivElement).style.left\n          );\n          const curTop = parseFloat(\n            (mutation.target as HTMLDivElement).style.top\n          );\n          const diffL = (curLeft - contextMenuState.initLeft) * scale;\n          const diffT = (curTop - contextMenuState.initTop) * scale;\n          contextMenuState.initLeft = curLeft;\n          contextMenuState.initTop = curTop;\n          contextMenuState.left = contextMenuState.left + diffL;\n          contextMenuState.top = contextMenuState.top + diffT;\n          contextMenuState.forceUpdate();\n        }\n      }\n    }\n  };\n  contextMenuState.state = true;\n  contextMenuState.observer = new MutationObserver(callback);\n  if (ref.current) {\n    //记录初始值\n    contextMenuState.initTop = parseFloat(ref.current.style.top);\n    contextMenuState.initLeft = parseFloat(ref.current.style.left);\n    contextMenuState.observer.observe(ref.current, config);\n  }\n  contextMenuState.left = e.clientX;\n  contextMenuState.top = e.clientY;\n  if (!contextMenuState.menu) {\n    contextMenuState.menu = document.createElement(\"div\");\n    document.body && document.body.appendChild(contextMenuState.menu);\n  }\n  if (!contextMenuState.parent) {\n    contextMenuState.parent = document.createElement(\"div\");\n  }\n  contextMenuState.menu.appendChild(contextMenuState.parent);\n  ReactDOM.render(contextMenuState.contextMenu, contextMenuState.parent);\n}\n\nexport function unmountContextMenu() {\n  contextMenuState.state = false;\n  if (contextMenuState.observer) {\n    contextMenuState.observer.disconnect();\n  }\n  if (contextMenuState.menu && contextMenuState.parent) {\n    unmountComponentAtNode(contextMenuState.parent);\n    contextMenuState.menu.removeChild(contextMenuState.parent);\n    contextMenuState.parent = null;\n  }\n}\n\nexport default ContextMenu;\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-10-07 12:40:32\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\focusHandler\\index.tsx\n */\nimport { innerDragState } from \"../innerDrag/state\";\nimport { IBlockType } from \"../store/storetype\";\nimport { deepCopy } from \"../utils\";\nimport { selectRangeMouseDown } from \"../selectRange\";\nimport { unmountContextMenu } from \"../contextMenu\";\nimport UserConfig from \"../../config\";\n\nfunction resolveRemove(config: UserConfig) {\n  const store = config.getStore();\n  const focusState = config.getFocusState();\n  const clonedata = deepCopy(store.getData());\n  const newBlock = clonedata.block.map((v: IBlockType) => {\n    v.focus = false;\n    return v;\n  });\n  focusState.blocks = [];\n  store.setData({ ...clonedata, block: newBlock });\n  unmountContextMenu();\n}\n\nexport function innerRemoveFocus(config: UserConfig) {\n  resolveRemove(config);\n}\n\nexport function containerFocusRemove(config: UserConfig) {\n  const onMouseDown = (e: React.MouseEvent) => {\n    resolveRemove(config);\n    if (!innerDragState.item) {\n      selectRangeMouseDown(e, config);\n    }\n  };\n  return {\n    onMouseDown,\n  };\n}\n\nexport function blockFocus(\n  e: React.MouseEvent,\n  item: IBlockType,\n  config: UserConfig\n) {\n  const store = config.getStore();\n  const clonedata = deepCopy(store.getData());\n  const focusState = config.getFocusState();\n  if (e.shiftKey) {\n    const newBlock = clonedata.block.map((v: IBlockType) => {\n      if (v.id === item.id) {\n        v.focus = true;\n        focusState.blocks.push(item);\n      }\n      return v;\n    });\n    store.setData({ ...clonedata, block: newBlock });\n  } else {\n    let blocks: IBlockType[] = [];\n    const newBlock = clonedata.block.map((v: IBlockType) => {\n      if (v.id === item.id) {\n        blocks.push(item);\n        v.focus = true;\n      } else {\n        v.focus = false;\n      }\n      return v;\n    });\n    focusState.blocks = blocks;\n    store.setData({ ...clonedata, block: newBlock });\n  }\n}\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-10-07 12:45:49\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\components\\createBlock.ts\n */\nimport { UserConfig } from \"../..\";\nimport { innerRemoveFocus } from \"../focusHandler\";\nimport { IBlockType } from \"../store/storetype\";\nimport { createUid } from \"../utils\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { ComponentItem } from \"./componentItem\";\n\nexport function createBlock(\n  top: number,\n  left: number,\n  ComponentItem: ComponentItem,\n  config: UserConfig\n): IBlockType {\n  innerRemoveFocus(config);\n  return {\n    id: createUid(ComponentItem.name),\n    name: ComponentItem.name,\n    top,\n    left,\n    zIndex: ComponentItem.initData.zIndex || 0,\n    props: ComponentItem.initData.props || {},\n    resize: ComponentItem.initData.resize || ComponentItem.resize,\n    focus: ComponentItem.initData.focus ?? true,\n    position: ComponentItem.initData.position || \"absolute\",\n    display: ComponentItem.initData.display || \"block\",\n    width: ComponentItem.initData.width,\n    height: ComponentItem.initData.height,\n    syncList: ComponentItem.initData.syncList || [],\n    canDrag: ComponentItem.initData.canDrag ?? true,\n    canSee: ComponentItem.initData.canSee ?? true,\n    eventMap: ComponentItem.initData.eventMap || {},\n    functionList: ComponentItem.initData.functionList || [],\n    animate: ComponentItem.initData.animate || [],\n    fixed: ComponentItem.initData.fixed || false,\n    rotate: ComponentItem.initData.rotate || {\n      value: 0,\n      canRotate: true,\n    },\n  };\n}\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-10-07 12:45:30\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\crossDrag\\index.ts\n */\nimport React, { DragEvent, ReactNode } from \"react\";\nimport { createBlock } from \"../components/createBlock\";\nimport { IBlockType } from \"../store/storetype\";\nimport { deepCopy } from \"../utils\";\nimport UserConfig from \"../../config\";\n\n/**\n *\n * @export\n * @interface LeftRegistComponentMapItem\n * @img 图片地址\n * @urlFn 组件异步加载函数\n */\nexport interface LeftRegistComponentMapItem {\n  type: string;\n  component: string;\n  img: string;\n  imgCustom?: ReactNode;\n  displayName: string;\n  urlFn?: () => Promise<any>;\n}\n\nlet currentDrag: LeftRegistComponentMapItem | null = null;\n\nfunction resolveDrop(\n  config: UserConfig,\n  item: LeftRegistComponentMapItem,\n  e: DragEvent<HTMLDivElement> | React.MouseEvent,\n  x: number,\n  y: number,\n  dbclick: boolean = false\n) {\n  const componentRegister = config.getComponentRegister();\n  const store = config.getStore();\n  const origin = componentRegister.getComp(item.component);\n  if (!origin) {\n    console.log(item.component, \"wait the chunk pull compeletely and retry\");\n    return;\n  }\n  const target = e.target as HTMLElement;\n  let newblock: IBlockType;\n  //如果有宽高，那么让其在中间\n  let fixX = x;\n  let fixY = y;\n  if (origin.initData.width && typeof origin.initData.width === \"number\") {\n    fixX = x - origin.initData.width / 2;\n  }\n  if (origin.initData.height && typeof origin.initData.height === \"number\") {\n    fixY = y - origin.initData.height / 2;\n  }\n\n  if (!origin.needPosition) {\n    newblock = createBlock(\n      origin.initData.top ?? fixY,\n      origin.initData.left ?? fixX,\n      origin,\n      config\n    );\n  } else {\n    if (dbclick) {\n      newblock = createBlock(fixY, fixX, origin, config);\n    } else {\n      if (target.id !== \"yh-container\") {\n        newblock = createBlock(\n          fixY + target.offsetTop,\n          fixX + target.offsetLeft,\n          origin,\n          config\n        );\n      } else {\n        newblock = createBlock(fixY, fixX, origin, config);\n      }\n    }\n  }\n  const data = deepCopy(store.getData());\n  data.block.push(newblock);\n  store.setData({ ...data });\n}\n\nexport const dragEventResolve = function (\n  item: LeftRegistComponentMapItem,\n  config: UserConfig\n) {\n  return {\n    draggable: true,\n    onDragStart: () => {\n      currentDrag = item;\n    },\n    onDragOver: (e: DragEvent<HTMLDivElement>) => {\n      e.preventDefault();\n    },\n    onDrop: () => {},\n    onDragEnd: () => {},\n    onDoubleClick: (e: React.MouseEvent) => {\n      const container = config.getStore().getData().container;\n      const x = container.width / 2;\n      const y = container.height / 2;\n      resolveDrop(config, item, e, x, y, true);\n    },\n  };\n};\n\nexport const containerDragResolve = (config: UserConfig) => {\n  return {\n    onDragStart: () => {},\n    onDragOver: (e: DragEvent<HTMLDivElement>) => {\n      e.preventDefault();\n    },\n    onDrop: (e: DragEvent<HTMLDivElement>) => {\n      const offsetX = Math.round(e.nativeEvent.offsetX);\n      const offestY = Math.round(e.nativeEvent.offsetY);\n      //drop后修改store，\n      if (currentDrag) {\n        resolveDrop(config, currentDrag, e, offsetX, offestY);\n      }\n      currentDrag = null;\n    },\n    onDragEnd: () => {},\n  };\n};\n","/*\n\n * @Date: 2021-03-14 11:49:13\n * @LastEditors: \n * @LastEditTime: 2022-01-21 10:44:50\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\markline\\marklineConfig.ts\n */\nimport { IBlockType } from \"../store/storetype\";\n\nexport interface MarklineConfigType {\n  indent: number;\n  isAbsorb: boolean;\n  mode: \"normal\" | \"grid\";\n  gridIndent: number;\n  resizeIndent: number;\n  marklineUnfocus: null | IBlockType[];\n  borderColor: string;\n  borderStyle: \"dotted\" | \"solid\" | \"dashed\";\n}\n\n// 间隔距离执行吸附\nexport const marklineConfig: MarklineConfigType = {\n  indent: 5,\n  isAbsorb: true,\n  mode: \"normal\",\n  gridIndent: 50,\n  resizeIndent: 0,\n  marklineUnfocus: null,\n  borderColor: \"rgba( 33 , 150 , 243, 1 )\",\n  borderStyle: \"dotted\",\n};\n","/*\n\n * @Date: 2021-07-23 20:31:30\n * @LastEditors: \n * @LastEditTime: 2021-07-26 11:12:02\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\resizeHandler\\state.ts\n */\n\nimport { RefObject } from \"react\";\nimport { IBlockType } from \"../store/storetype\";\n\nexport interface Point {\n  x: number;\n  y: number;\n}\n\ninterface resizeStateType {\n  startX: number;\n  startY: number;\n  item: null | IBlockType;\n  isResize: boolean;\n  direction: DirectionType;\n  ref: RefObject<HTMLDivElement> | null;\n  current: number;\n  currentTarget: HTMLDivElement | null;\n  symmetricPoint: Point;\n  curPosition: Point;\n}\nexport type DirectionType = \"lt\" | \"t\" | \"rt\" | \"r\" | \"rb\" | \"b\" | \"lb\" | \"l\";\nexport const directionArr: DirectionType[] = [\n  \"lt\",\n  \"t\",\n  \"rt\",\n  \"r\",\n  \"rb\",\n  \"b\",\n  \"lb\",\n  \"l\",\n];\n\nexport const resizeState: resizeStateType = {\n  startX: 0,\n  startY: 0,\n  item: null,\n  isResize: false,\n  direction: \"b\",\n  ref: null,\n  current: 0,\n  currentTarget: null,\n  symmetricPoint: {\n    x: 0,\n    y: 0,\n  },\n  curPosition: {\n    x: 0,\n    y: 0,\n  },\n};\n","/*\n\n * @Date: 2021-07-22 16:55:10\n * @LastEditors: \n * @LastEditTime: 2021-07-26 14:01:14\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\resizeHandler\\calcWithRotate.ts\n */\n\nimport { DirectionType, Point, resizeState } from \"./state\";\nimport { IBlockType } from \"../store/storetype\";\nimport { angleToRadian } from \"../utils\";\n\nfunction getCenterPoint(p1: Point, p2: Point) {\n  return {\n    x: p1.x + (p2.x - p1.x) / 2,\n    y: p1.y + (p2.y - p1.y) / 2,\n  };\n}\nfunction calculateRotatedPointCoordinate(\n  point: Point,\n  center: Point,\n  rotate: number\n) {\n  return {\n    x:\n      (point.x - center.x) * Math.cos(angleToRadian(rotate)) -\n      (point.y - center.y) * Math.sin(angleToRadian(rotate)) +\n      center.x,\n    y:\n      (point.x - center.x) * Math.sin(angleToRadian(rotate)) +\n      (point.y - center.y) * Math.cos(angleToRadian(rotate)) +\n      center.y,\n  };\n}\n\nexport function getRect(\n  direction: DirectionType,\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point,\n  itemWH: {\n    width: number;\n    height: number;\n  }\n) {\n  switch (direction) {\n    case \"lt\":\n      calculateTopLeft(item, rotate, curPositon, symmetricPoint);\n      break;\n    case \"r\":\n      calculateRight(item, rotate, curPositon, symmetricPoint, itemWH);\n      break;\n    case \"b\":\n      calculateBottom(item, rotate, curPositon, symmetricPoint, itemWH);\n      break;\n    case \"l\":\n      calculateLeft(item, rotate, curPositon, symmetricPoint, itemWH);\n      break;\n    case \"t\":\n      calculateTop(item, rotate, curPositon, symmetricPoint, itemWH);\n      break;\n    case \"rb\":\n      calculateBottomRight(item, rotate, curPositon, symmetricPoint);\n      break;\n    case \"rt\":\n      calculateTopRight(item, rotate, curPositon, symmetricPoint);\n      break;\n    case \"lb\":\n      calculateBottomLeft(item, rotate, curPositon, symmetricPoint);\n      break;\n    default:\n      break;\n  }\n}\n\nfunction calculateTopLeft(\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point\n) {\n  const newCenterPoint = getCenterPoint(curPositon, symmetricPoint);\n  const newTopLeftPoint = calculateRotatedPointCoordinate(\n    curPositon,\n    newCenterPoint,\n    -rotate\n  );\n  const newBottomRightPoint = calculateRotatedPointCoordinate(\n    symmetricPoint,\n    newCenterPoint,\n    -rotate\n  );\n  const newWidth = newBottomRightPoint.x - newTopLeftPoint.x;\n  const newHeight = newBottomRightPoint.y - newTopLeftPoint.y;\n  if (newWidth > 0 && newHeight > 0) {\n    item.width = Math.round(newWidth);\n    item.height = Math.round(newHeight);\n    item.left = Math.round(newTopLeftPoint.x);\n    item.top = Math.round(newTopLeftPoint.y);\n  }\n}\n\nfunction calculateTopRight(\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point\n) {\n  const newCenterPoint = getCenterPoint(curPositon, symmetricPoint);\n  const newTopRightPoint = calculateRotatedPointCoordinate(\n    curPositon,\n    newCenterPoint,\n    -rotate\n  );\n  const newBottomLeftPoint = calculateRotatedPointCoordinate(\n    symmetricPoint,\n    newCenterPoint,\n    -rotate\n  );\n\n  const newWidth = newTopRightPoint.x - newBottomLeftPoint.x;\n  const newHeight = newBottomLeftPoint.y - newTopRightPoint.y;\n\n  if (newWidth > 0 && newHeight > 0) {\n    item.width = Math.round(newWidth);\n    item.height = Math.round(newHeight);\n    item.left = Math.round(newBottomLeftPoint.x);\n    item.top = Math.round(newTopRightPoint.y);\n  }\n}\n\nfunction calculateBottomRight(\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point\n) {\n  const newCenterPoint = getCenterPoint(curPositon, symmetricPoint);\n  const newTopLeftPoint = calculateRotatedPointCoordinate(\n    symmetricPoint,\n    newCenterPoint,\n    -rotate\n  );\n  const newBottomRightPoint = calculateRotatedPointCoordinate(\n    curPositon,\n    newCenterPoint,\n    -rotate\n  );\n\n  const newWidth = newBottomRightPoint.x - newTopLeftPoint.x;\n  const newHeight = newBottomRightPoint.y - newTopLeftPoint.y;\n\n  if (newWidth > 0 && newHeight > 0) {\n    item.width = Math.round(newWidth);\n    item.height = Math.round(newHeight);\n    item.left = Math.round(newTopLeftPoint.x);\n    item.top = Math.round(newTopLeftPoint.y);\n  }\n}\n\nfunction calculateBottomLeft(\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point\n) {\n  const newCenterPoint = getCenterPoint(curPositon, symmetricPoint);\n  const newTopRightPoint = calculateRotatedPointCoordinate(\n    symmetricPoint,\n    newCenterPoint,\n    -rotate\n  );\n  const newBottomLeftPoint = calculateRotatedPointCoordinate(\n    curPositon,\n    newCenterPoint,\n    -rotate\n  );\n\n  const newWidth = newTopRightPoint.x - newBottomLeftPoint.x;\n  const newHeight = newBottomLeftPoint.y - newTopRightPoint.y;\n\n  if (newWidth > 0 && newHeight > 0) {\n    item.width = Math.round(newWidth);\n    item.height = Math.round(newHeight);\n    item.left = Math.round(newBottomLeftPoint.x);\n    item.top = Math.round(newTopRightPoint.y);\n  }\n}\n\nfunction calculateTop(\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point,\n  itemWH: {\n    width: number;\n    height: number;\n  }\n) {\n  const curPoint = resizeState.curPosition;\n  const rotatedcurPositon = calculateRotatedPointCoordinate(\n    curPositon,\n    curPoint,\n    -rotate\n  );\n  const rotatedTopMiddlePoint = calculateRotatedPointCoordinate(\n    {\n      x: curPoint.x,\n      y: rotatedcurPositon.y,\n    },\n    curPoint,\n    rotate\n  );\n\n  const newHeight = Math.sqrt(\n    (rotatedTopMiddlePoint.x - symmetricPoint.x) ** 2 +\n      (rotatedTopMiddlePoint.y - symmetricPoint.y) ** 2\n  );\n  if (newHeight > 0) {\n    const newCenter = {\n      x:\n        rotatedTopMiddlePoint.x -\n        (rotatedTopMiddlePoint.x - symmetricPoint.x) / 2,\n      y:\n        rotatedTopMiddlePoint.y +\n        (symmetricPoint.y - rotatedTopMiddlePoint.y) / 2,\n    };\n    const width = typeof item.width === \"number\" ? item.width : itemWH.width;\n    item.width = width;\n    item.height = Math.round(newHeight);\n    item.top = Math.round(newCenter.y - newHeight / 2);\n    item.left = Math.round(newCenter.x - width / 2);\n  }\n}\n\nfunction calculateRight(\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point,\n  itemWH: {\n    width: number;\n    height: number;\n  }\n) {\n  const curPoint = resizeState.curPosition;\n  const rotatedcurPositon = calculateRotatedPointCoordinate(\n    curPositon,\n    curPoint,\n    -rotate\n  );\n  const rotatedRightMiddlePoint = calculateRotatedPointCoordinate(\n    {\n      x: rotatedcurPositon.x,\n      y: curPoint.y,\n    },\n    curPoint,\n    rotate\n  );\n\n  const newWidth = Math.sqrt(\n    (rotatedRightMiddlePoint.x - symmetricPoint.x) ** 2 +\n      (rotatedRightMiddlePoint.y - symmetricPoint.y) ** 2\n  );\n  if (newWidth > 0) {\n    const newCenter = {\n      x:\n        rotatedRightMiddlePoint.x -\n        (rotatedRightMiddlePoint.x - symmetricPoint.x) / 2,\n      y:\n        rotatedRightMiddlePoint.y +\n        (symmetricPoint.y - rotatedRightMiddlePoint.y) / 2,\n    };\n    const height =\n      typeof item.height === \"number\" ? item.height : itemWH.height;\n    item.height = height;\n    item.width = Math.round(newWidth);\n    item.top = Math.round(newCenter.y - height / 2);\n    item.left = Math.round(newCenter.x - newWidth / 2);\n  }\n}\n\nfunction calculateBottom(\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point,\n  itemWH: {\n    width: number;\n    height: number;\n  }\n) {\n  const curPoint = resizeState.curPosition;\n  const rotatedcurPositon = calculateRotatedPointCoordinate(\n    curPositon,\n    curPoint,\n    -rotate\n  );\n  const rotatedBottomMiddlePoint = calculateRotatedPointCoordinate(\n    {\n      x: curPoint.x,\n      y: rotatedcurPositon.y,\n    },\n    curPoint,\n    rotate\n  );\n\n  const newHeight = Math.sqrt(\n    (rotatedBottomMiddlePoint.x - symmetricPoint.x) ** 2 +\n      (rotatedBottomMiddlePoint.y - symmetricPoint.y) ** 2\n  );\n  if (newHeight > 0) {\n    const newCenter = {\n      x:\n        rotatedBottomMiddlePoint.x -\n        (rotatedBottomMiddlePoint.x - symmetricPoint.x) / 2,\n      y:\n        rotatedBottomMiddlePoint.y +\n        (symmetricPoint.y - rotatedBottomMiddlePoint.y) / 2,\n    };\n    const width = typeof item.width === \"number\" ? item.width : itemWH.width;\n    item.width = width;\n    item.height = Math.round(newHeight);\n    item.top = Math.round(newCenter.y - newHeight / 2);\n    item.left = Math.round(newCenter.x - width / 2);\n  }\n}\n\nfunction calculateLeft(\n  item: IBlockType,\n  rotate: number,\n  curPositon: Point,\n  symmetricPoint: Point,\n  itemWH: {\n    width: number;\n    height: number;\n  }\n) {\n  const curPoint = resizeState.curPosition;\n  const rotatedcurPositon = calculateRotatedPointCoordinate(\n    curPositon,\n    curPoint,\n    -rotate\n  );\n  const rotatedLeftMiddlePoint = calculateRotatedPointCoordinate(\n    {\n      x: rotatedcurPositon.x,\n      y: curPoint.y,\n    },\n    curPoint,\n    rotate\n  );\n\n  const newWidth = Math.sqrt(\n    (rotatedLeftMiddlePoint.x - symmetricPoint.x) ** 2 +\n      (rotatedLeftMiddlePoint.y - symmetricPoint.y) ** 2\n  );\n  if (newWidth > 0) {\n    const newCenter = {\n      x:\n        rotatedLeftMiddlePoint.x -\n        (rotatedLeftMiddlePoint.x - symmetricPoint.x) / 2,\n      y:\n        rotatedLeftMiddlePoint.y +\n        (symmetricPoint.y - rotatedLeftMiddlePoint.y) / 2,\n    };\n    const height =\n      typeof item.height === \"number\" ? item.height : itemWH.height;\n    item.height = height;\n    item.width = Math.round(newWidth);\n    item.top = Math.round(newCenter.y - height / 2);\n    item.left = Math.round(newCenter.x - newWidth / 2);\n  }\n}\n","/*\n\n * @Date: 2021-07-26 10:55:23\n * @LastEditors: \n * @LastEditTime: 2021-07-26 11:12:23\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\resizeHandler\\cursor.ts\n */\n\nimport { directionArr } from \"./state\";\n\nconst initialAngle: Record<string, number> = {\n  lt: 0,\n  t: 45,\n  rt: 90,\n  r: 135,\n  rb: 180,\n  b: 225,\n  lb: 270,\n  l: 315,\n};\n\nconst angleToCursor = [\n  { start: 338, end: 23, cursor: \"nw\" },\n  { start: 23, end: 68, cursor: \"n\" },\n  { start: 68, end: 113, cursor: \"ne\" },\n  { start: 113, end: 158, cursor: \"e\" },\n  { start: 158, end: 203, cursor: \"se\" },\n  { start: 203, end: 248, cursor: \"s\" },\n  { start: 248, end: 293, cursor: \"sw\" },\n  { start: 293, end: 338, cursor: \"w\" },\n];\n\nfunction mod360(deg: number) {\n  return (deg + 360) % 360;\n}\n\nexport function getCursor(curRotate: number) {\n  const rotate = mod360(curRotate);\n  const result: Record<string, string> = {};\n  let lastMatchIndex = -1;\n  directionArr.forEach((point) => {\n    const angle = mod360(initialAngle[point] + rotate);\n    const len = angleToCursor.length;\n    while (true) {\n      lastMatchIndex = (lastMatchIndex + 1) % len;\n      const angleLimit = angleToCursor[lastMatchIndex];\n      if (angle < 23 || angle >= 338) {\n        result[point] = \"nw-resize\";\n        return;\n      }\n      if (angleLimit.start <= angle && angle < angleLimit.end) {\n        result[point] = angleLimit.cursor + \"-resize\";\n        return;\n      }\n    }\n  });\n\n  return result;\n}\n","import { RefObject, useMemo } from \"react\";\nimport { IBlockType } from \"../store/storetype\";\nimport { deepCopy, getContainer } from \"../utils\";\nimport React from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"../../index.less\";\nimport UserConfig from \"../../config\";\nimport { getRect } from \"./calcWithRotate\";\nimport { directionArr, DirectionType, resizeState } from \"./state\";\nimport { getCursor } from \"./cursor\";\ninterface BlockResizerProps {\n  data: IBlockType;\n  rect: RefObject<HTMLDivElement>;\n  config: UserConfig;\n}\n\nconst onMouseDown = (\n  e: React.MouseEvent,\n  direction: DirectionType,\n  item: IBlockType,\n  ref: RefObject<HTMLDivElement>,\n  config: UserConfig\n) => {\n  e.stopPropagation();\n  const store = config.getStore();\n  resizeState.isResize = true;\n  resizeState.item = item;\n  resizeState.startX = e.clientX;\n  resizeState.startY = e.clientY;\n  resizeState.direction = direction;\n  resizeState.ref = ref;\n  resizeState.current = store.getIndex();\n  resizeState.currentTarget = e.nativeEvent.target as HTMLDivElement;\n  const curDiv = resizeState.ref.current;\n  const container = getContainer();\n  if (!container) {\n    return;\n  }\n  if (curDiv && ref.current) {\n    const containerRect = container.getBoundingClientRect();\n    const scale = config.getScaleState().value;\n    const centerX = curDiv.offsetLeft + curDiv.offsetWidth / 2;\n    const centerY = curDiv.offsetTop + curDiv.offsetHeight / 2;\n    const poffsetLeft =\n      resizeState.currentTarget.getBoundingClientRect().left -\n      containerRect.left;\n    const poffsetTop =\n      resizeState.currentTarget.getBoundingClientRect().top - containerRect.top;\n    //点相对于画布位置 未缩放\n    const curPosition = {\n      x: poffsetLeft / scale,\n      y: poffsetTop / scale,\n    };\n    resizeState.symmetricPoint = {\n      x: centerX - (curPosition.x - centerX),\n      y: centerY - (curPosition.y - centerY),\n    };\n    resizeState.curPosition = curPosition;\n  }\n};\n\nexport const resizerMouseUp = (config: UserConfig) => {\n  resizeState.isResize = false;\n  resizeState.item = null;\n  const store = config.getStore();\n  if (resizeState.current) {\n    const endindex = store.getIndex();\n    store\n      .getStoreList()\n      .splice(resizeState.current, endindex - resizeState.current);\n    store.setIndex(resizeState.current);\n  }\n  resizeState.current = 0;\n};\n\n/**\n *\n * 无旋转时计算函数\n * @param {IBlockType} v\n * @param {number} durX\n * @param {number} durY\n * @param {{\n * \t\tvalue: number;\n * \t\tmaxValue: number;\n * \t\tminValue: number;\n * \t}} scaleState\n */\nexport const changePosition = (\n  v: IBlockType,\n  durX: number,\n  durY: number,\n  scaleState: {\n    value: number;\n    maxValue: number;\n    minValue: number;\n  }\n) => {\n  const direction = resizeState.direction;\n  const { width, height } = resizeState.ref!.current!.getBoundingClientRect();\n  const scale = scaleState.value;\n  let tmpy = height / scale - durY;\n  let tmpx = width / scale - durX;\n  switch (direction) {\n    case \"r\":\n      v.width = width / scale + durX;\n      break;\n    case \"b\":\n      v.height = height / scale + durY;\n      break;\n    case \"l\":\n      v.left = width / scale > 0 ? v.left + durX : v.left;\n      v.width = tmpx > 0 ? tmpx : 0;\n      break;\n    case \"t\":\n      v.top = height / scale > 0 ? v.top + durY : v.top;\n      v.height = tmpy > 0 ? tmpy : 0;\n      break;\n    case \"rb\":\n      v.width = width / scale + durX;\n      v.height = height / scale + durY;\n      break;\n    case \"rt\":\n      v.width = width / scale + durX;\n      v.top = height / scale > 0 ? v.top + durY : v.top;\n      v.height = tmpy > 0 ? tmpy : 0;\n      break;\n    case \"lt\":\n      v.top = height / scale > 0 ? v.top + durY : v.top;\n      v.height = tmpy > 0 ? tmpy : 0;\n      v.left = width / scale > 0 ? v.left + durX : v.left;\n      v.width = tmpx > 0 ? tmpx : 0;\n      break;\n    case \"lb\":\n      v.left = width / scale > 0 ? v.left + durX : v.left;\n      v.width = tmpx > 0 ? tmpx : 0;\n      v.height = height / scale + durY;\n      break;\n    default:\n      break;\n  }\n};\n\nexport const resizerMouseMove = (e: React.MouseEvent, config: UserConfig) => {\n  //根据direction修改位置\n  const scaleState = config.getScaleState();\n  const store = config.getStore();\n  if (\n    resizeState.isResize &&\n    resizeState.item &&\n    resizeState.ref?.current &&\n    resizeState.currentTarget\n  ) {\n    const { clientX: moveX, clientY: moveY } = e;\n    const scale = scaleState.value;\n\n    const container = getContainer();\n    if (!container) {\n      return;\n    }\n    const containerRect = container.getBoundingClientRect();\n\n    const rotate = resizeState.item.rotate.value;\n\n    const movePoint = {\n      x: (moveX - containerRect.left) / scale,\n      y: (moveY - containerRect.top) / scale,\n    };\n\n    const itemRef = resizeState.ref.current.getBoundingClientRect();\n    const itemWH = {\n      width: itemRef.width,\n      height: itemRef.height,\n    };\n\n    const symmetricPoint = resizeState.symmetricPoint;\n    const clonedata = deepCopy(store.getData());\n    const id = resizeState.item.id;\n    const newblock: IBlockType[] = clonedata.block.map((v: IBlockType) => {\n      if (v.id === id) {\n        getRect(\n          resizeState.direction,\n          v,\n          rotate,\n          movePoint,\n          symmetricPoint,\n          itemWH\n        );\n      }\n      return v;\n    });\n    resizeState.startX = moveX;\n    resizeState.startY = moveY;\n    store.setData({ ...clonedata, block: newblock });\n  }\n};\nexport function BlockResizer(props: BlockResizerProps) {\n  const rotate = props.data.rotate.value;\n  const cursorMap = getCursor(rotate);\n  const render = useMemo(() => {\n    if (props.data.focus && props.data.resize && props.data.canDrag) {\n      return (\n        <>\n          {directionArr.map((v) => {\n            return (\n              <div\n                style={{\n                  cursor: cursorMap[v],\n                }}\n                key={v}\n                className={classnames(styles.resizepoint, styles[v])}\n                onMouseDown={(e) => {\n                  onMouseDown(e, v, props.data, props.rect, props.config);\n                }}\n                onMouseUp={() => {\n                  resizerMouseUp(props.config);\n                }}\n              ></div>\n            );\n          })}\n        </>\n      );\n    } else {\n      return null;\n    }\n  }, [cursorMap, props.config, props.data, props.rect]);\n\n  return <>{render}</>;\n}\n","/*\n\n * @Date: 2021-09-27 20:56:21\n * @LastEditors: \n * @LastEditTime: 2021-09-27 20:57:01\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\control\\state.ts\n */\n\ninterface MoveStateType {\n  startX: number;\n  startY: number;\n  fn: Function;\n  isMove: boolean;\n}\n\nexport const moveState: MoveStateType = {\n  startX: 0,\n  startY: 0,\n  fn: () => {},\n  isMove: false,\n};\n\nexport const mouseUp = () => {\n  if (moveState.isMove) {\n    moveState.isMove = false;\n  }\n};\n\nexport const controlMouseMove = (e: React.MouseEvent) => {\n  if (moveState.isMove) {\n    const diffx = e.clientX - moveState.startX;\n    const diffy = e.clientY - moveState.startY;\n    const setXy = moveState.fn;\n    if (setXy)\n      setXy((pre: { x: number; y: number }) => ({\n        x: pre.x + diffx,\n        y: pre.y + diffy,\n      }));\n    moveState.startX = e.clientX;\n    moveState.startY = e.clientY;\n  }\n};\n","/*\n\n * @Date: 2021-03-09 15:19:36\n * @LastEditors: \n * @LastEditTime: 2021-09-27 20:58:13\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\resizeHandler\\containerResizer.ts\n */\n\nimport { controlMouseMove } from \"../../components/control/state\";\nimport UserConfig from \"../../config\";\nimport { IStoreData } from \"../store/storetype\";\nimport { deepCopy } from \"../utils\";\n\nexport const containerState = {\n  isDrag: false,\n  startY: 0,\n  startIndex: 0,\n  minHeight: 0,\n};\n\nexport const containerResizer = {\n  onMousedown: (e: React.MouseEvent, config: UserConfig) => {\n    const store = config.getStore();\n    containerState.isDrag = true;\n    containerState.startY = e.clientY;\n    containerState.startIndex = store.getIndex();\n  },\n  onMouseMove: (e: React.MouseEvent, config: UserConfig) => {\n    if (containerState.isDrag) {\n      const scaleState = config.getScaleState();\n      const store = config.getStore();\n      const scale = scaleState.value;\n      const diff = ((e.clientY - containerState.startY) / scale) * 2; //可以直接使用movementy\n      const clonedata: IStoreData = deepCopy(store.getData());\n      const height = clonedata.container.height;\n      let tmpHeight = Math.round(\n        height + diff < containerState.minHeight\n          ? containerState.minHeight\n          : height + diff\n      );\n      clonedata.container.height = tmpHeight;\n      store.setData(clonedata);\n      containerState.startY = e.clientY;\n    }\n    controlMouseMove(e);\n  },\n  onMouseUp: (config: UserConfig) => {\n    if (containerState.isDrag) {\n      const store = config.getStore();\n      containerState.isDrag = false;\n      const endIndex = store.getIndex();\n      store\n        .getStoreList()\n        .splice(\n          containerState.startIndex,\n          endIndex - containerState.startIndex\n        );\n      store.setIndex(containerState.startIndex);\n    }\n  },\n};\n","/*\n\n * @Date: 2021-02-21 22:17:29\n * @LastEditors: \n * @LastEditTime: 2021-07-13 14:29:36\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\wrapperMove\\event.ts\n */\nimport { RefObject } from \"react\";\nimport { containerResizer } from \"../../core/resizeHandler/containerResizer\";\nimport { contextMenuState } from \"../../core/contextMenu\";\nimport UserConfig from \"../../config\";\n\nexport interface WrapperMoveStateProps {\n  isDrag: boolean;\n  startX: number;\n  startY: number;\n  needX: number;\n  needY: number;\n  ref: null | RefObject<HTMLDivElement>;\n}\n\nexport const wrapperMoveState: WrapperMoveStateProps = {\n  isDrag: false,\n  startX: 0,\n  startY: 0,\n  needX: 0,\n  needY: 0,\n  ref: null,\n};\n\nexport const wrapperEvent = (\n  ref: RefObject<HTMLDivElement>,\n  config: UserConfig\n) => {\n  const scale = config.getScaleState().value;\n  const store = config.getStore();\n  return {\n    onMouseDown: (e: React.MouseEvent) => {\n      // e.preventDefault();// 不能使用preventDefault 否则弹窗输入框焦点无法触发\n      contextMenuState.unmountContextMenu();\n      if (e.target !== ref.current) {\n      } else {\n        wrapperMoveState.isDrag = true;\n        wrapperMoveState.startX = e.clientX;\n        wrapperMoveState.startY = e.clientY;\n        if (ref.current) {\n          ref.current.style.cursor = \"grab\";\n          wrapperMoveState.ref = ref;\n        }\n      }\n    },\n    onMouseMove: (e: React.MouseEvent) => {\n      //e.preventDefault();\n      if (wrapperMoveState.isDrag) {\n        const diffX = e.clientX - wrapperMoveState.startX;\n        const diffY = e.clientY - wrapperMoveState.startY;\n        wrapperMoveState.needX = wrapperMoveState.needX + diffX / scale;\n        wrapperMoveState.needY = wrapperMoveState.needY + diffY / scale;\n        wrapperMoveState.startX = e.clientX;\n        wrapperMoveState.startY = e.clientY;\n\n        store.forceUpdate();\n      }\n      containerResizer.onMouseMove(e, config);\n    },\n  };\n};\nexport const wrapperMoveMouseUp = (config: UserConfig) => {\n  if (wrapperMoveState.ref && wrapperMoveState.ref.current) {\n  }\n  containerResizer.onMouseUp(config);\n  wrapperMoveState.isDrag = false;\n};\n","/*\n\n * @Date: 2021-02-21 22:17:29\n * @LastEditors: \n * @LastEditTime: 2021-07-20 11:33:12\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\IframeWrapperMove\\event.ts\n */\nimport { RefObject } from \"react\";\nimport { containerResizer } from \"../../core/resizeHandler/containerResizer\";\nimport { contextMenuState } from \"../../core/contextMenu\";\nimport UserConfig from \"../../config\";\n\nexport interface WrapperMoveStateProps {\n  isDrag: boolean;\n  startX: number;\n  startY: number;\n  needX: number;\n  needY: number;\n}\n\nexport interface WrapperMoveRef {\n  ref: null | RefObject<HTMLDivElement>;\n}\n\nexport const wrapperMoveState: WrapperMoveStateProps = {\n  isDrag: false,\n  startX: 0,\n  startY: 0,\n  needX: 0,\n  needY: 0,\n};\n\nexport const wrapperRefState: WrapperMoveRef = {\n  ref: null,\n};\n\nexport const wrapperEvent = (\n  ref: RefObject<HTMLDivElement>,\n  config: UserConfig\n) => {\n  const store = config.getStore();\n  return {\n    onMouseDown: (e: React.MouseEvent) => {\n      // e.preventDefault();// 不能使用preventDefault 否则弹窗输入框焦点无法触发\n      contextMenuState.unmountContextMenu();\n      if (e.target !== ref.current) {\n      } else {\n        wrapperMoveState.isDrag = true;\n        wrapperMoveState.startX = e.clientX;\n        wrapperMoveState.startY = e.clientY;\n        if (ref.current) {\n          ref.current.style.cursor = \"grab\";\n          wrapperRefState.ref = ref;\n        }\n      }\n    },\n    onMouseMove: (e: React.MouseEvent) => {\n      //e.preventDefault();\n      if (wrapperMoveState.isDrag) {\n        const diffX = e.clientX - wrapperMoveState.startX;\n        const diffY = e.clientY - wrapperMoveState.startY;\n        wrapperMoveState.needX = wrapperMoveState.needX + diffX;\n        wrapperMoveState.needY = wrapperMoveState.needY + diffY;\n        wrapperMoveState.startX = e.clientX;\n        wrapperMoveState.startY = e.clientY;\n\n        store.forceUpdate();\n      }\n      containerResizer.onMouseMove(e, config);\n    },\n  };\n};\nexport const wrapperMoveMouseUp = (config: UserConfig) => {\n  if (wrapperRefState.ref && wrapperRefState.ref.current) {\n    wrapperRefState.ref.current.style.cursor = \"default\";\n  }\n  containerResizer.onMouseUp(config);\n  wrapperMoveState.isDrag = false;\n};\n","/*\n\n * @Date: 2021-07-21 20:51:58\n * @LastEditors: \n * @LastEditTime: 2021-07-27 16:32:30\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\rotateHandler\\index.tsx\n */\nimport React from \"react\";\nimport { RefObject, useMemo } from \"react\";\nimport UserConfig from \"../../config\";\nimport { IBlockType, IStoreData } from \"../store/storetype\";\nimport styles from \"../../index.less\";\nimport { deepCopy } from \"../utils\";\nimport { ReloadOutlined, RotateLeftOutlined } from \"@ant-design/icons\";\n\ninterface rotateStateType {\n  startX: number;\n  startY: number;\n  item: null | IBlockType;\n  isRotate: boolean;\n  ref: RefObject<HTMLDivElement> | null;\n  current: number;\n}\n\nexport const rotateState: rotateStateType = {\n  startX: 0,\n  startY: 0,\n  item: null,\n  isRotate: false,\n  ref: null,\n  current: 0,\n};\n\nconst onMouseDown = (\n  e: React.MouseEvent,\n  item: IBlockType,\n  ref: RefObject<HTMLDivElement>,\n  config: UserConfig\n) => {\n  e.stopPropagation();\n  const store = config.getStore();\n  rotateState.isRotate = true;\n  rotateState.item = item;\n  rotateState.startX = e.clientX;\n  rotateState.startY = e.clientY;\n  rotateState.ref = ref;\n  rotateState.current = store.getIndex();\n};\n\nexport const rotateMouseMove = (e: React.MouseEvent, config: UserConfig) => {\n  const store = config.getStore();\n  if (rotateState.isRotate && rotateState.item && rotateState.ref?.current) {\n    let { clientX: moveX, clientY: moveY } = e;\n    const { startX, startY } = rotateState;\n    const rect = rotateState.ref.current.getBoundingClientRect();\n    const centerX = rect.left + rect.width / 2;\n    const centerY = rect.top + rect.height / 2;\n    const rotateDegreeBefore =\n      Math.atan2(startY - centerY, startX - centerX) / (Math.PI / 180);\n    const rotateDegreeAfter =\n      Math.atan2(moveY - centerY, moveX - centerX) / (Math.PI / 180);\n    const startRotate = rotateState.item.rotate.value;\n    const frotate = startRotate + rotateDegreeAfter - rotateDegreeBefore;\n    const clonedata = deepCopy(store.getData());\n    const id = rotateState.item.id;\n    const newblock: IBlockType[] = clonedata.block.map((v: IBlockType) => {\n      if (v.id === id) {\n        v.rotate.value = frotate;\n      }\n      return v;\n    });\n    store.setData({ ...clonedata, block: newblock });\n  }\n};\n\nexport const rotateMouseUp = (config: UserConfig) => {\n  rotateState.isRotate = false;\n  rotateState.item = null;\n  const store = config.getStore();\n  if (rotateState.current) {\n    const endindex = store.getIndex();\n    store\n      .getStoreList()\n      .splice(rotateState.current, endindex - rotateState.current);\n    store.setIndex(rotateState.current);\n  }\n  rotateState.current = 0;\n};\n\ninterface RotateResizerProps {\n  data: IBlockType;\n  rect: RefObject<HTMLDivElement>;\n  config: UserConfig;\n}\nexport function RotateResizer(props: RotateResizerProps) {\n  const render = useMemo(() => {\n    if (props.data.focus && props.data.rotate.canRotate && props.data.canDrag) {\n      return (\n        <div\n          onMouseDown={(e) => {\n            onMouseDown(e, props.data, props.rect, props.config);\n          }}\n          className={styles.rotate}\n          title={\"rotate\"}\n        >\n          <ReloadOutlined\n            style={{\n              color: \"#2196f3\",\n            }}\n          />\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }, [props.config, props.data, props.rect]);\n\n  return <>{render}</>;\n}\n\nconst resetResolve = (\n  e: React.MouseEvent,\n  item: IBlockType,\n  config: UserConfig\n) => {\n  e.stopPropagation();\n  const store = config.getStore();\n  const clonedata: IStoreData = deepCopy(store.getData());\n  clonedata.block.forEach((v) => {\n    if (v.id === item.id) {\n      v.rotate.value = 0;\n    }\n  });\n  store.setData(clonedata);\n};\n\nexport function RotateReset(props: RotateResizerProps) {\n  const render = useMemo(() => {\n    if (props.data.focus && props.data.rotate.canRotate && props.data.canDrag) {\n      return (\n        <div\n          onMouseDown={(e) => {\n            resetResolve(e, props.data, props.config);\n          }}\n          className={styles.rotatereset}\n          title={\"rotate reset\"}\n        >\n          <RotateLeftOutlined />\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }, [props.config, props.data]);\n\n  return <>{render}</>;\n}\n","/*\n\n * @Date: 2021-12-30 23:02:30\n * @LastEditors: \n * @LastEditTime: 2021-12-31 00:13:09\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\markline\\state.ts\n */\nexport interface RealStyleType {\n  [x: string]: number;\n  left: number;\n  width: number;\n  height: number;\n  right: number;\n  top: number;\n  bottom: number;\n}\n\ninterface MarklineStateType {\n  cache: null | Record<string, RealStyleType>;\n  sortLeft: null | Array<RealStyleType>;\n  sortTop: null | Array<RealStyleType>;\n  sortRight: null | Array<RealStyleType>;\n  sortBottom: null | Array<RealStyleType>;\n}\nexport const marklineState: MarklineStateType = {\n  cache: null,\n  sortLeft: null,\n  sortTop: null,\n  sortRight: null,\n  sortBottom: null,\n};\n","/*\n\n * @Date: 2021-08-10 20:26:44\n * @LastEditors: \n * @LastEditTime: 2021-08-16 20:29:58\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\timeLine\\timelineItem.tsx\n */\nimport React, { CSSProperties } from \"react\";\nimport { AnimateItem } from \"../../core/store/storetype\";\nimport { randomColor } from \"../../core/utils\";\n\nexport const iter = 500;\nexport const itemHeight = 25;\nexport const interval = 19;\nconst diff = 6;\nconst square = 2.5;\nconst times = interval + 1;\n\n// 需要根据animate属性渲染div\n\nexport interface TimeLineItemProps {\n  animate: AnimateItem[];\n}\ninterface MoveStateTypes {\n  startX: number;\n  isMove: boolean;\n  uid: string;\n}\n\nconst moveState: MoveStateTypes = {\n  startX: 0,\n  isMove: false,\n  uid: \"\",\n};\ninterface resizeStateTypes extends MoveStateTypes {\n  left: boolean;\n}\nlet currentMoveItemId = \"\";\n\nconst resizeState: resizeStateTypes = {\n  startX: 0,\n  isMove: false,\n  uid: \"\",\n  left: true,\n};\nconst resizeMouseDown = (\n  e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n  v: AnimateItem,\n  left: boolean\n) => {\n  e.stopPropagation();\n  resizeState.startX = e.clientX;\n  resizeState.uid = v.uid;\n  resizeState.isMove = true;\n  resizeState.left = left;\n};\n\nexport const TimeLineItemMouseMove = function (\n  e: React.MouseEvent<HTMLDivElement, MouseEvent>,\n  animate: AnimateItem[],\n  forceUpdate: React.Dispatch<React.SetStateAction<number>>\n) {\n  if (moveState.isMove) {\n    //修改源属性\n    const diff = e.clientX - moveState.startX;\n    animate.forEach((v) => {\n      if (v.uid === moveState.uid) {\n        const f = parseFloat((v.animationDelay + diff / times).toFixed(1));\n        v.animationDelay = f < 0 ? 0 : f;\n        forceUpdate((p) => p + 1);\n      }\n    });\n    moveState.startX = e.clientX;\n  } else if (resizeState.isMove) {\n    const diff = e.clientX - resizeState.startX;\n    if (resizeState.left) {\n      animate.forEach((v) => {\n        if (v.uid === resizeState.uid) {\n          const count =\n            v.animationIterationCount === \"infinite\"\n              ? 500\n              : parseInt(v.animationIterationCount);\n          const f2 = parseFloat((v.animationDelay + diff / times).toFixed(1));\n          const f = parseFloat(\n            (v.animationDuration - (f2 - v.animationDelay) / count).toFixed(1)\n          );\n          v.animationDuration = f2 < 0 ? v.animationDuration : f < 0 ? 0 : f;\n          v.animationDelay = f2 < 0 ? 0 : f2;\n          forceUpdate((p) => p + 1);\n        }\n      });\n    } else {\n      animate.forEach((v) => {\n        if (v.uid === resizeState.uid) {\n          const count =\n            v.animationIterationCount === \"infinite\"\n              ? 500\n              : parseInt(v.animationIterationCount);\n          const f = parseFloat(\n            (v.animationDuration + diff / count / times).toFixed(1)\n          );\n          v.animationDuration = f < 0 ? 0 : f;\n          forceUpdate((p) => p + 1);\n        }\n      });\n    }\n    resizeState.startX = e.clientX;\n  }\n};\nexport const TimeLineItemMouseOver = function () {\n  moveState.isMove = false;\n  moveState.startX = 0;\n  moveState.uid = \"\";\n  resizeState.isMove = false;\n  resizeState.startX = 0;\n  resizeState.uid = \"\";\n};\nexport const resetCurrentMoveItemId = () => {\n  currentMoveItemId = \"\";\n};\n\nconst commonCss: CSSProperties = {\n  transform: `rotate(45deg)`,\n  height: square * 2,\n  width: square * 2,\n  position: \"absolute\",\n  background: \"rgba(0, 0, 0, 0.85)\",\n  top: (itemHeight - diff) / 2 - square,\n  cursor: \"e-resize\",\n};\n\nconst bgColorCache: Record<string, string> = {};\n\nexport function TimeLineItem(props: TimeLineItemProps) {\n  return (\n    <>\n      {props.animate.map((v) => {\n        const left = v.animationDelay * times + interval;\n        const repeat =\n          v.animationIterationCount === \"infinite\"\n            ? iter\n            : parseInt(v.animationIterationCount);\n        const width = v.animationDuration * times * repeat;\n\n        if (!bgColorCache[v.uid]) {\n          bgColorCache[v.uid] = randomColor();\n        }\n        return (\n          <div\n            key={v.uid}\n            onMouseDown={(e) => {\n              moveState.startX = e.clientX;\n              moveState.uid = v.uid;\n              moveState.isMove = true;\n              currentMoveItemId = v.uid;\n            }}\n            className=\"yh-timeline-item-mainblock\"\n            style={{\n              position: \"absolute\",\n              top: diff / 2,\n              left: left,\n              width: width,\n              height: itemHeight - diff,\n              background: bgColorCache[v.uid],\n              zIndex: 1,\n              cursor: \"move\",\n              borderRadius: \"4px\",\n              opacity: v.uid === currentMoveItemId ? 1 : 0.7,\n            }}\n          >\n            {v.uid === currentMoveItemId && (\n              <>\n                <div\n                  className=\"yh-timeline-item-left\"\n                  style={{ ...commonCss, left: -square }}\n                  onMouseDown={(e) => {\n                    resizeMouseDown(e, v, true);\n                  }}\n                ></div>\n                <div\n                  className=\"yh-timeline-item-right\"\n                  style={{ ...commonCss, right: -square }}\n                  onMouseDown={(e) => {\n                    resizeMouseDown(e, v, false);\n                  }}\n                ></div>\n              </>\n            )}\n          </div>\n        );\n      })}\n    </>\n  );\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/*\n\n * @Date: 2021-08-27 10:20:23\n * @LastEditors: \n * @LastEditTime: 2022-04-29 23:23:13\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\locale\\en.ts\n */\n\nimport { zhCN } from \"./zh-CN\";\n\nexport const en: typeof zhCN = {\n  \"timeline.name\": \"Component name\",\n  \"contorl.popup.absolute\":\n    \"Are you sure to change to absolutely positioned element\",\n  \"contorl.popup.static\": \"Are you sure to change to static positioned element\",\n  \"contorl.absolute\": \"Change to absolute\",\n  \"contorl.static\": \"Change to static\",\n  \"control.popup.delete\": \"Are you sure to delete\",\n  \"control.delete\": \"Delete\",\n  \"control.focus\": \"Focus\",\n  \"control.no-component\": \"No components\",\n  \"modal.new\": \"New modal\",\n  \"modal.control\": \"Control modal\",\n  \"modal.popup.exit\":\n    \"Please exit the edit modal and open the configuration again\",\n  \"modal.popup.edit\": \"Switch to this modal and edit it?\",\n  \"modal.popup.save\": \"Please save the modal and edit another modal\",\n  \"modal.popup.notfond\": \"Can not found {name} modal\",\n  \"modal.popup.repeat\": \"Duplicate name {name} already exists\",\n  \"modal.popup.remove\": \"Please save the modal before deleting\",\n  \"modal.popup.nomodal\": \"No modal\",\n  \"modal.popup.name\": \"Please enter modal name\",\n  \"modal.name\": \"Modal name\",\n  \"modal.control.remove\": \"Delete click to delete the effect of the modal\",\n  edit: \"Edit\",\n  yes: \"Ok\",\n  no: \"Cancel\",\n  \"right.noprops\": \"No properties have been configured\",\n  \"right.global\": \"Global config\",\n  \"right.containerheight\": \"Container height\",\n  \"right.containerwidth\": \"Container width\",\n  \"right.containerColor\": \"Container background color\",\n  \"right.bodyColor\": \"Body background color\",\n  \"right.fontSize\": \"Container font size\",\n  \"right.lineHeight\": \"Container line height\",\n  title: \"Title\",\n  description: \"Description\",\n  \"system.setting\": \"System Settings\",\n  \"settings.openabsorb\": \"Turn on adsorption\",\n  on: \"on\",\n  off: \"off\",\n  \"settings.absorbindent\": \"Adsorption spacing\",\n  \"settings.min\": \"Canvas zoom min\",\n  \"settings.max\": \"Canvas zoom max\",\n  \"settings.autofocus\": \"Auto scroll focus on the animation panel\",\n  \"error.minmax\":\n    \"The maximum value should be greater than or equal to the minimum value\",\n  \"settings.marklineColor\": \"Markline color\",\n  \"settings.marklineStyle\": \"Markline style\",\n  \"settings.containerOverflow\": \"Container Overflow\",\n  \"settings.Layout\": \"Layout config\",\n};\n","/*\n\n * @Date: 2021-08-27 10:20:15\n * @LastEditors: \n * @LastEditTime: 2022-04-29 23:19:30\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\locale\\zh-CN.ts\n */\nexport const zhCN = {\n  \"timeline.name\": \"组件名称\",\n  \"contorl.popup.absolute\": \"确认变更为绝对定位吗\",\n  \"contorl.popup.static\": \"确认变更为静态定位吗\",\n  \"contorl.absolute\": \"切换绝对定位\",\n  \"contorl.static\": \"切换静态定位\",\n  \"control.popup.delete\": \"确认删除吗\",\n  \"control.delete\": \"删除\",\n  \"control.focus\": \"选中聚焦\",\n  \"control.no-component\": \"暂无组件\",\n  \"modal.new\": \"新增弹窗\",\n  \"modal.control\": \"弹窗配置\",\n  \"modal.popup.exit\": \"请退出编辑弹窗后再打开该配置\",\n  \"modal.popup.edit\": \"是否切换至该弹窗并进行编辑?\",\n  \"modal.popup.save\": \"请保存弹窗后编辑其他弹窗\",\n  \"modal.popup.notfond\": \"未找到该弹窗 {name}\",\n  \"modal.popup.repeat\": \"已有重名弹窗 {name}\",\n  \"modal.popup.remove\": \"请保存弹窗后再删除\",\n  \"modal.popup.nomodal\": \"暂时没有弹窗\",\n  \"modal.popup.name\": \"请输入弹窗名称\",\n  \"modal.name\": \"弹窗名称\",\n  \"modal.control.remove\": \"取消点击删除弹窗\",\n  edit: \"编辑\",\n  yes: \"确定\",\n  no: \"取消\",\n  \"right.noprops\": \"还没有配置属性\",\n  \"right.global\": \"全局设置\",\n  \"right.containerheight\": \"容器高度\",\n  \"right.containerwidth\": \"容器宽度\",\n  \"right.containerColor\": \"容器底色\",\n  \"right.bodyColor\": \"body底色\",\n  \"right.fontSize\": \"容器字号\",\n  \"right.lineHeight\": \"容器行高\",\n  title: \"标题\",\n  description: \"描述\",\n  \"system.setting\": \"系统设置\",\n  \"settings.openabsorb\": \"开启吸附\",\n  on: \"开\",\n  off: \"关\",\n  \"settings.absorbindent\": \"吸附间距\",\n  \"settings.min\": \"画布缩放最小值\",\n  \"settings.max\": \"画布缩放最大值\",\n  \"settings.autofocus\": \"动画面板点击自动滚动聚焦\",\n  \"error.minmax\": \"最大值应大于等于最小值\",\n  \"settings.marklineColor\": \"辅助线颜色\",\n  \"settings.marklineStyle\": \"辅助线样式\",\n  \"settings.containerOverflow\": \"容器边界外不显示元素\",\n  \"settings.Layout\": \"外观设置\",\n};\n","/*\n\n * @Date: 2021-08-27 10:20:38\n * @LastEditors: \n * @LastEditTime: 2021-09-27 18:08:49\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\locale\\index.tsx\n */\n\nimport React from \"react\";\n\nimport { FormattedMessage } from \"react-intl\";\nimport { UserConfig } from \"..\";\nimport { en } from \"./en\";\nimport { zhCN } from \"./zh-CN\";\n\nexport const localeMap = {\n  \"zh-CN\": zhCN,\n  en,\n};\nexport type localeKey = keyof typeof localeMap;\n\nexport { en } from \"./en\";\nexport { zhCN } from \"./zh-CN\";\n\nexport const replaceLocale = (\n  id: string,\n  msg: string,\n  config: UserConfig,\n  param?: any,\n  paramString?: string\n) => {\n  if (config.i18n) {\n    // console.log('====================================');\n    // console.log(id, msg, config, param, paramString);\n    // console.log('====================================');\n    if (paramString) {\n      return (\n        <FormattedMessage\n          id={id}\n          defaultMessage={paramString}\n          values={param}\n        ></FormattedMessage>\n      );\n    }\n    return <FormattedMessage id={id} defaultMessage={msg}></FormattedMessage>;\n  }\n  return msg;\n};\n","/*\n\n * @Date: 2021-08-09 15:15:25\n * @LastEditors: \n * @LastEditTime: 2022-04-23 18:34:46\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\timeLine\\timeline.tsx\n */\nimport deepcopy from \"deepcopy\";\nimport React, {\n  CSSProperties,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport {\n  SortableContainer,\n  SortableElement,\n  SortableHandle,\n  SortEnd,\n} from \"react-sortable-hoc\";\nimport UserConfig from \"../../config\";\nimport { IBlockType, IStoreData } from \"../../core/store/storetype\";\nimport { arrayMove } from \"../../core/utils\";\nimport {\n  DeleteOutlined,\n  EyeInvisibleOutlined,\n  EyeOutlined,\n  MenuOutlined,\n  PauseCircleOutlined,\n  PlayCircleOutlined,\n  ReloadOutlined,\n} from \"@ant-design/icons\";\nimport {\n  TimeLineItem,\n  itemHeight,\n  TimeLineItemMouseMove,\n  TimeLineItemMouseOver,\n  interval,\n  iter,\n  resetCurrentMoveItemId,\n} from \"./timelineItem\";\nimport { specialCoList } from \"../../core/utils/special\";\nimport { replaceLocale } from \"../../locale\";\nimport { Popconfirm } from \"antd\";\n\nexport interface TimeLineProps {\n  style?: CSSProperties;\n  classes?: string;\n  config: UserConfig;\n}\nexport interface TimeLineConfigType {\n  autoFocus: boolean;\n  scrollDom: null | HTMLDivElement;\n}\nexport interface TimeLineNeedleConfigType {\n  status: \"stop\" | \"start\" | \"pause\";\n  runFunc: Function;\n  resetFunc: Function;\n  pauseFunc: Function;\n  current: number;\n  isRefresh: boolean;\n  setNeedle: Function;\n}\n\nconst animateTicker = new Array(iter).fill(1).map((_, y) => y);\n\nconst DragHandle = SortableHandle(() => <MenuOutlined />);\n\nconst leftWidth = 200;\nlet WAIT = false;\nconst widthInterval = interval * 10 + 9;\nconst ruleWidth = (widthInterval * iter) / 10 + 10;\nconst borderColor = \"1px solid rgb(204, 204, 204)\";\n\nconst SortableItem = SortableElement(\n  ({\n    value,\n  }: {\n    value: {\n      value: IBlockType;\n      config: UserConfig;\n    };\n  }) => (\n    <div\n      style={{\n        userSelect: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"100%\",\n        zIndex: 101,\n      }}\n    >\n      <div\n        className=\"yh-timeline-item\"\n        onClick={() => {\n          const store = value.config.getStore();\n          const clone = deepcopy(store.getData());\n          clone.block.forEach((v) => {\n            if (\n              v.id === value.value.id &&\n              !specialCoList.includes(value.value.name)\n            ) {\n              v.focus = true;\n            } else {\n              v.focus = false;\n            }\n          });\n          store.setData(clone);\n        }}\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          width: leftWidth,\n          overflow: \"auto\",\n          minWidth: leftWidth,\n          borderRight: borderColor,\n          borderBottom: borderColor,\n          backgroundColor: value.value.focus ? \"#76767680\" : \"initial\",\n          cursor: \"pointer\",\n        }}\n      >\n        <div style={{ width: 30, cursor: \"move\" }}>\n          {/*  @ts-ignore */}\n          <DragHandle></DragHandle>\n        </div>\n        <div>\n          {\n            value.config.getComponentRegister().getMap()[value.value.name]\n              .display\n          }\n        </div>\n        <div>{value.value.id.slice(-6)}</div>\n        <div\n          style={{\n            marginLeft: 5,\n            flex: 1,\n            textAlign: \"right\",\n            paddingRight: 5,\n          }}\n        >\n          <span\n            style={{ marginRight: 5 }}\n            onClick={() => {\n              const store = value.config.getStore();\n              const clone = deepcopy(store.getData());\n              clone.block = clone.block.map((v) => {\n                if (\n                  v.id === value.value.id &&\n                  !specialCoList.includes(value.value.name)\n                ) {\n                  v.canSee = !v.canSee;\n                  return v;\n                }\n                return v;\n              });\n              store.setData(clone);\n            }}\n          >\n            {value.value.canSee ? <EyeOutlined /> : <EyeInvisibleOutlined />}\n          </span>\n          <Popconfirm\n            title={replaceLocale(\n              \"control.popup.delete\",\n              \"确认删除么\",\n              value.config\n            )}\n            onConfirm={() => {\n              const store = value.config.getStore();\n              const clone = deepcopy(store.getData());\n              clone.block = clone.block.filter((v) => {\n                return !(\n                  v.id === value.value.id &&\n                  !specialCoList.includes(value.value.name)\n                );\n              });\n              store.setData(clone);\n            }}\n            okText={replaceLocale(\"yes\", \"确定\", value.config)}\n            cancelText={replaceLocale(\"no\", \"取消\", value.config)}\n          >\n            <DeleteOutlined />\n          </Popconfirm>\n        </div>\n      </div>\n    </div>\n  )\n);\n\nconst SortableList = SortableContainer(\n  ({\n    items,\n  }: {\n    items: {\n      data: IBlockType[];\n      config: UserConfig;\n    };\n  }) => {\n    return (\n      <div>\n        {items.data.map((value, index: number) => (\n          // @ts-ignore\n          <SortableItem\n            key={value.id}\n            index={index}\n            value={{ value, config: items.config }}\n          />\n        ))}\n      </div>\n    );\n  }\n);\n\nlet cacheBlock: IBlockType[] = [];\n\nconst needleWidth = 2;\nconst initialLeft = 20 - needleWidth / 2;\nconst needleHeadWidth = 15;\nconst needleHeadHeight = 22;\n\nlet timer: number | null = null;\n\nconst needleState = {\n  isDrag: false,\n  startX: 0,\n  origin: 0,\n};\n\nconst needleHeadEvent = (\n  setNeedle: React.Dispatch<React.SetStateAction<number>>,\n  config: UserConfig\n) => {\n  return {\n    onMouseDown: async (e: React.MouseEvent) => {\n      e.persist();\n      e.stopPropagation();\n      if (\n        config.timelineNeedleConfig.status === \"start\" ||\n        !config.timelineNeedleConfig.isRefresh\n      ) {\n        let init = initialLeft;\n        setNeedle((p) => {\n          init = p;\n          return p;\n        });\n        await config.timelineNeedleConfig.resetFunc();\n        // 重置后需要再回正\n        setNeedle(init);\n      }\n      setNeedle((p) => {\n        needleState.origin = p;\n        return p;\n      });\n      needleState.isDrag = true;\n      needleState.startX = e.clientX;\n      config.blockForceUpdate.forEach((v) => {\n        v();\n      });\n      if (timer) {\n        window.clearInterval(timer);\n      }\n    },\n  };\n};\nexport const needleMoveEvent = (config: UserConfig) => {\n  const setNeedle = config.timelineNeedleConfig.setNeedle;\n  return {\n    onMouseMove: async (e: React.MouseEvent) => {\n      if (needleState.isDrag) {\n        e.persist(); //不加这个很容易导致clientx为null\n        const diff = e.clientX - needleState.startX;\n        setNeedle(() => {\n          const shouldMoveX = needleState.origin + diff;\n          if (shouldMoveX < initialLeft) {\n            config.timelineNeedleConfig.current = 0;\n            return initialLeft;\n          } else if (shouldMoveX > ruleWidth) {\n            config.timelineNeedleConfig.current =\n              (ruleWidth - initialLeft) / 20;\n            return ruleWidth;\n          } else {\n            config.timelineNeedleConfig.current =\n              (shouldMoveX - initialLeft) / 20;\n            return shouldMoveX;\n          }\n        });\n        config.timelineNeedleConfig.status = \"stop\";\n        config.blockForceUpdate.forEach((v) => {\n          v();\n        });\n      }\n    },\n    onMouseUp: () => {\n      needleState.isDrag = false;\n      needleState.startX = 0;\n    },\n  };\n};\n\nconst needleDoubleClick = (config: UserConfig) => {\n  return {\n    onDoubleClick: async (e: React.MouseEvent) => {\n      const dom = config.timelineConfig.scrollDom;\n      if (dom) {\n        const setNeedle = config.timelineNeedleConfig.setNeedle;\n        const left = dom.getBoundingClientRect().left;\n        const mouseLeft = e.clientX + dom.scrollLeft;\n        e.persist();\n        e.stopPropagation();\n        await config.timelineNeedleConfig.resetFunc();\n        config.timelineNeedleConfig.status = \"stop\";\n        let diff = mouseLeft - left;\n        if (diff <= initialLeft) {\n          config.timelineNeedleConfig.current = 0;\n          diff = initialLeft;\n        } else if (diff > ruleWidth) {\n          config.timelineNeedleConfig.current = (ruleWidth - initialLeft) / 20;\n          diff = ruleWidth;\n        } else {\n          config.timelineNeedleConfig.current = (diff - initialLeft) / 20;\n        }\n        setNeedle(diff);\n        config.blockForceUpdate.forEach((v) => {\n          v();\n        });\n        if (timer) {\n          window.clearInterval(timer);\n        }\n      }\n    },\n  };\n};\n\nexport function TimeLine(props: TimeLineProps) {\n  const store = props.config.getStore();\n  const data = store.getData().block;\n  const forceUpdate = useState(0)[1];\n  const onSortEnd = (sort: SortEnd) => {\n    const { oldIndex, newIndex } = sort;\n    const newblocks: IBlockType[] = arrayMove(data, oldIndex, newIndex);\n    const isEdit = props.config.getStore().isEdit();\n    if (isEdit) {\n      const firstType = newblocks[0].name;\n      if (firstType !== \"modalMask\") {\n        return;\n      }\n    }\n    const store = props.config.getStore();\n    const cloneData: IStoreData = deepcopy(store.getData());\n    cloneData.block = newblocks;\n    store.setData(cloneData);\n  };\n\n  const [state, setState] = useState(0);\n  const [scrollx, setScrollx] = useState(0);\n\n  const content = (\n    <div style={{ width: \"100%\", height: \"100%\", overflow: \"hidden\" }}>\n      <div style={{ transform: `translate(0, -${state}px)` }}>\n        {/*  @ts-ignore */}\n        <SortableList\n          distance={2}\n          useDragHandle\n          items={{\n            data,\n            config: props.config,\n          }}\n          onSortEnd={onSortEnd}\n          axis=\"y\"\n        ></SortableList>\n      </div>\n    </div>\n  );\n\n  const renderData = useMemo(() => {\n    if (props.config.waitAnimate) {\n      return cacheBlock;\n    }\n    cacheBlock = data;\n    return cacheBlock;\n  }, [data, props.config.waitAnimate]);\n\n  const ref = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (ref.current) {\n      props.config.timelineConfig.scrollDom = ref.current;\n    }\n  }, [props.config]);\n\n  const [needle, setNeedle] = useState(initialLeft);\n\n  const resetAnimate = async () => {\n    // 重置动画后才能调整delay\n    return new Promise<void>((res) => {\n      if (!WAIT) {\n        WAIT = true;\n        props.config.waitAnimate = true;\n        const cache = data.map((v) => {\n          return v.animate;\n        });\n        const cloneData: IStoreData = deepcopy(store.getData());\n        cloneData.block.forEach((v) => {\n          v.animate = [];\n        });\n        store.setData(cloneData);\n        setTimeout(() => {\n          props.config.timelineNeedleConfig.status = \"pause\";\n          const cloneData: IStoreData = deepcopy(store.getData());\n          cloneData.block.forEach((v, i) => {\n            v.animate = cache[i];\n          });\n          WAIT = false;\n          props.config.waitAnimate = false;\n          store.setData(cloneData);\n          store.cleanLast();\n          res();\n        });\n      }\n    });\n  };\n\n  const refreshBlock = () => {\n    const cloneData: IStoreData = deepcopy(store.getData());\n    store.setData(cloneData);\n    store.cleanLast();\n  };\n\n  const needlePlay = async () => {\n    if (timer) {\n      window.clearInterval(timer);\n    }\n    //判断如果status不是pause，则要执行reset\n    if (props.config.timelineNeedleConfig.status !== \"pause\") {\n      await needleReset();\n    }\n    props.config.timelineNeedleConfig.status = \"start\";\n    props.config.timelineNeedleConfig.isRefresh = false;\n    refreshBlock();\n    setTimeout(() => {\n      timer = window.setInterval(() => {\n        setNeedle((pre) => {\n          if (pre < ruleWidth) {\n            props.config.timelineNeedleConfig.current =\n              (pre - initialLeft) / 20;\n            return pre + 2;\n          } else {\n            if (timer) {\n              window.clearInterval(timer);\n            }\n            return pre;\n          }\n        });\n        //\tprops.config.blockForceUpdate.forEach((v) => v());\n      }, 100);\n    });\n  };\n\n  const needleReset = async (needResetAnimate = true) => {\n    if (timer) {\n      window.clearInterval(timer);\n    }\n    props.config.timelineNeedleConfig.status = \"start\";\n    if (needResetAnimate) {\n      await resetAnimate();\n    }\n    return new Promise<void>((res) => {\n      setTimeout(() => {\n        props.config.timelineNeedleConfig.status = \"pause\";\n        props.config.timelineNeedleConfig.current = 0;\n        props.config.timelineNeedleConfig.isRefresh = true;\n        setNeedle(initialLeft);\n        refreshBlock();\n        res();\n      });\n    });\n  };\n\n  const needlePause = () => {\n    props.config.timelineNeedleConfig.status = \"pause\";\n    props.config.timelineNeedleConfig.isRefresh = false;\n    if (timer) {\n      window.clearInterval(timer);\n    }\n    refreshBlock();\n  };\n\n  props.config.timelineNeedleConfig.resetFunc = needleReset;\n  props.config.timelineNeedleConfig.runFunc = needlePlay;\n  props.config.timelineNeedleConfig.pauseFunc = needlePause;\n  props.config.timelineNeedleConfig.setNeedle = setNeedle;\n  return (\n    <div\n      className={`${props.classes} ant-menu yh-timeline-wrap`}\n      style={{\n        width: \"100%\",\n        position: \"absolute\",\n        height: \"150px\",\n        bottom: \"0\",\n        zIndex: 100,\n        display: \"flex\",\n        flexDirection: \"column\",\n        ...props.style,\n      }}\n      onMouseDown={(e) => {\n        const dom = e.target as HTMLDivElement;\n        if (\n          !(\n            dom.className &&\n            dom.className.indexOf &&\n            dom.className.indexOf(\"yh-timeline-item-mainblock\") > -1\n          )\n        ) {\n          resetCurrentMoveItemId();\n        }\n      }}\n    >\n      <>\n        <div\n          style={{\n            display: \"flex\",\n            lineHeight: \"24px\",\n            paddingLeft: 10,\n            height: \"100%\",\n          }}\n        >\n          <div>\n            <div\n              style={{\n                width: leftWidth,\n                borderRight: \"1px solid #dadada\",\n                minWidth: leftWidth,\n                borderBottom: \"1px solid #dadada\",\n                height: itemHeight,\n                display: \"flex\",\n              }}\n            >\n              {replaceLocale(\"timeline.name\", \"组件名称\", props.config)}\n              <div\n                style={{\n                  flex: 1,\n                  textAlign: \"right\",\n                }}\n              >\n                <span\n                  style={{\n                    display: \"inline-block\",\n                    cursor: \"pointer\",\n                    marginRight: \"10px\",\n                  }}\n                  title=\"reset\"\n                >\n                  <ReloadOutlined\n                    onClick={() => {\n                      needleReset();\n                    }}\n                  />\n                </span>\n                <span\n                  style={{\n                    display: \"inline-block\",\n                    cursor: \"pointer\",\n                    marginRight: \"10px\",\n                  }}\n                  title=\"pause\"\n                >\n                  <PauseCircleOutlined\n                    onClick={() => {\n                      needlePause();\n                    }}\n                  />\n                </span>\n                <span\n                  title=\"play\"\n                  style={{\n                    display: \"inline-block\",\n                    marginRight: \"20px\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => {\n                    needlePlay();\n                  }}\n                >\n                  <PlayCircleOutlined />\n                </span>\n              </div>\n            </div>\n            {content}\n          </div>\n\n          <div\n            className=\"yh-timeline-needle-head-wrap\"\n            style={{\n              width: `calc(100% -  ${leftWidth}px)`,\n              borderBottom: \"1px solid #dadada\",\n              overflow: \"hidden\",\n              position: \"relative\",\n              cursor: \"crosshair\",\n            }}\n            {...needleDoubleClick(props.config)}\n          >\n            <div\n              className=\"yh-timeline-needle-head\"\n              style={{\n                position: \"absolute\",\n                transform: `translate(-${scrollx}px, 0px)`,\n                width: needleHeadWidth,\n                height: needleHeadHeight,\n                backgroundColor: \"#ff5722\",\n                zIndex: 3,\n                left: needle - needleHeadWidth / 2,\n                transition: \"left linear\",\n                willChange: \"left\",\n                borderRadius: \"2px\",\n                cursor: \"col-resize\",\n              }}\n              {...needleHeadEvent(setNeedle, props.config)}\n            ></div>\n            <div\n              className=\"yh-timeline-needle\"\n              style={{\n                position: \"absolute\",\n                transform: `translate(-${scrollx}px, 0px)`,\n                width: needleWidth,\n                height: \"100%\",\n                backgroundColor: \"red\",\n                zIndex: 2,\n                left: needle,\n                transition: \"left linear\",\n                willChange: \"left\",\n                pointerEvents: \"none\",\n              }}\n            ></div>\n            <div\n              style={{\n                display: \"flex\",\n                height: itemHeight,\n                alignItems: \"flex-end\",\n                borderBottom: borderColor,\n                width: ruleWidth,\n                overflow: \"hidden\",\n                transform: `translate(-${scrollx}px, 0px)`,\n              }}\n            >\n              {animateTicker.map((v) => {\n                if (v % 10 === 0) {\n                  return (\n                    <div\n                      key={v}\n                      style={{\n                        marginLeft: interval,\n                        height: \"8px\",\n                        borderLeft: borderColor,\n                        position: \"relative\",\n                      }}\n                    >\n                      <div\n                        style={{\n                          position: \"absolute\",\n                          top: \"-20px\",\n                          transform: \"translate(-50%, 0px)\",\n                        }}\n                      >\n                        {v}\n                      </div>\n                    </div>\n                  );\n                } else {\n                  return (\n                    <div\n                      key={v}\n                      style={{\n                        marginLeft: interval,\n                        height: \"6px\",\n                        borderLeft: borderColor,\n                      }}\n                    ></div>\n                  );\n                }\n              })}\n            </div>\n            <div\n              onScroll={(e) => {\n                const target = e.target as HTMLDivElement;\n                setState(target.scrollTop);\n                setScrollx(target.scrollLeft);\n              }}\n              ref={ref}\n              style={{\n                overflow: \"auto\",\n                height: `calc(100% - ${itemHeight}px)`,\n              }}\n            >\n              {renderData.map((v) => {\n                return (\n                  <div\n                    key={v.id}\n                    style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      paddingLeft: interval,\n                      borderBottom: borderColor,\n                      width: ruleWidth,\n                      position: \"relative\",\n                      overflow: \"hidden\",\n                    }}\n                    onMouseMove={(e) => {\n                      TimeLineItemMouseMove(e, v.animate, forceUpdate);\n                    }}\n                    onMouseLeave={() => TimeLineItemMouseOver()}\n                    onMouseUp={() => TimeLineItemMouseOver()}\n                  >\n                    <TimeLineItem animate={v.animate}></TimeLineItem>\n                    {animateTicker.map((v) => {\n                      if (v % 10 === 0) {\n                        return (\n                          <div\n                            key={v}\n                            style={{\n                              marginRight: widthInterval, // 左右2根线\n                              borderLeft: borderColor,\n                              position: \"relative\",\n                              height: itemHeight - 1,\n                            }}\n                          ></div>\n                        );\n                      } else {\n                        return null;\n                      }\n                    })}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </>\n    </div>\n  );\n}\n\nexport default TimeLine;\n","import React, { RefObject } from \"react\";\nimport { blockFocus, containerFocusRemove } from \"../focusHandler\";\nimport { marklineConfig } from \"../markline/marklineConfig\";\nimport { resizerMouseMove, resizerMouseUp } from \"../resizeHandler\";\nimport {\n  selectRangeMouseMove,\n  selectData,\n  selectRangeMouseUp,\n} from \"../selectRange\";\nimport { IBlockType } from \"../store/storetype\";\nimport { deepCopy, isMac } from \"../utils\";\nimport { wrapperMoveMouseUp } from \"../../components/wrapperMove/event\";\nimport { wrapperMoveMouseUp as iframeWrapperMove } from \"../../components/IframeWrapperMove/event\";\nimport { contextMenuState } from \"../contextMenu\";\nimport { innerDragState } from \"./state\";\nimport UserConfig from \"../../config\";\nimport { rotateMouseMove, rotateMouseUp } from \"../rotateHandler\";\nimport { specialCoList } from \"../utils/special\";\nimport { marklineState } from \"../markline/state\";\nimport { itemHeight } from \"../../components/timeLine/timelineItem\";\nimport { needleMoveEvent } from \"../../components/timeLine/timeline\";\n\nexport const innerDrag = function (\n  item: IBlockType,\n  ref: RefObject<HTMLDivElement>,\n  config: UserConfig\n) {\n  const store = config.getStore();\n  return {\n    onMouseDown: (e: React.MouseEvent) => {\n      //e.preventDefault();\n      e.stopPropagation();\n      //特殊元素不可操作\n      if (specialCoList.includes(item.name)) {\n        containerFocusRemove(config).onMouseDown(e);\n        return;\n      }\n\n      if (\n        item.id &&\n        innerDragState.lastClick &&\n        item.id !== innerDragState.lastClick.id\n      ) {\n        contextMenuState.unmountContextMenu();\n      }\n      //candrag给选中，不给拖\n      blockFocus(e, item, config);\n      // 计算scrollTop值，更新dom\n      if (config.timelineConfig.autoFocus && config.timelineConfig.scrollDom) {\n        // 根据其为第几个block计算滚动高度\n        const index = store.getData().block.findIndex((v) => v.id === item.id);\n        if (index >= 0) {\n          config.timelineConfig.scrollDom.scrollTop = itemHeight * index;\n        }\n      }\n\n      if (!item.canDrag) {\n        //containerFocusRemove(config).onMouseDown(e);\n        return;\n      }\n      innerDragState.lastClick = item;\n\n      if (item.position === \"static\") {\n        return;\n      }\n      if (ref.current) {\n        ref.current.style.cursor = \"move\";\n        ref.current.style.willChange = \"left,right,width,height\";\n      }\n      innerDragState.startX = Math.round(e.clientX);\n      innerDragState.startY = Math.round(e.clientY);\n      innerDragState.item = item;\n      innerDragState.itemX = item.left; // 会导致框选后移动问题 进行分类判断 否则体验不是很好\n      innerDragState.itemY = item.top;\n      innerDragState.isDrag = true;\n      innerDragState.ref = ref;\n      innerDragState.current = store.getIndex();\n    },\n  };\n};\n\nexport const innerContainerDrag = function (config: UserConfig) {\n  let lastblock: null | IBlockType;\n  const store = config.getStore();\n  const scaleState = config.getScaleState();\n  const onMouseMove = (e: React.MouseEvent) => {\n    //e.preventDefault();\n    if (isMac() && contextMenuState.state) {\n      //mac有bug\n      return;\n    }\n\n    const id = innerDragState.item?.id;\n    if (id && innerDragState.isDrag) {\n      const current = store.getData().block.find((v) => v.id === id);\n      if (current?.position === \"static\") {\n        return;\n      }\n      const focus = config.getFocusState();\n      const isMulti = focus.blocks.length > 1;\n      let { clientX: moveX, clientY: moveY } = e;\n      const { startX, startY } = innerDragState;\n      const scale = scaleState.value;\n      let durX = Math.round((moveX - startX) / scale);\n      let durY = Math.round((moveY - startY) / scale);\n      let newblock: IBlockType[];\n      if (lastblock !== innerDragState.item) {\n        const cloneblock: IBlockType[] = deepCopy(store.getData().block);\n        lastblock = innerDragState.item;\n        newblock = cloneblock.map((v) => {\n          if (v.focus && v.position !== \"static\") {\n            if (isMulti) {\n              v.left = Math.round(v.left + durX);\n              v.top = Math.round(v.top + durY);\n            } else {\n              v.left = Math.round(innerDragState.itemX + durX);\n              v.top = Math.round(innerDragState.itemY + durY);\n            }\n          }\n          return v;\n        });\n      } else {\n        newblock = store.getData().block.map((v) => {\n          if (v.focus && v.position !== \"static\") {\n            if (isMulti) {\n              v.left = Math.round(v.left + durX);\n              v.top = Math.round(v.top + durY);\n            } else {\n              v.left = Math.round(innerDragState.itemX + durX);\n              v.top = Math.round(innerDragState.itemY + durY);\n            }\n          }\n          return v;\n        });\n      }\n      store.setData({ ...store.getData(), block: newblock });\n      if (isMulti) {\n        innerDragState.startX = moveX;\n        innerDragState.startY = moveY;\n      }\n    }\n    resizerMouseMove(e, config);\n    rotateMouseMove(e, config);\n    if (selectData.selectDiv) {\n      selectRangeMouseMove(e);\n    }\n  };\n  return {\n    onMouseMove,\n  };\n};\nexport const innerContainerDragUp = function (config: UserConfig) {\n  const store = config.getStore();\n  const onMouseUp = (e: React.MouseEvent) => {\n    // e.preventDefault(); 这个会导致无法取消选中\n    marklineState.cache = null;\n    marklineState.sortLeft = null;\n    marklineState.sortTop = null;\n    marklineState.sortRight = null;\n    marklineState.sortBottom = null;\n    iframeWrapperMove(config);\n    needleMoveEvent(config).onMouseUp();\n    wrapperMoveMouseUp(config);\n    selectRangeMouseUp(e, config);\n    if (innerDragState.ref && innerDragState.ref.current) {\n      innerDragState.ref.current.style.willChange = \"auto\";\n    }\n    resizerMouseUp(config);\n    rotateMouseUp(config);\n    if (innerDragState.current) {\n      const endindex = store.getIndex();\n      store\n        .getStoreList()\n        .splice(innerDragState.current, endindex - innerDragState.current);\n      store.setIndex(innerDragState.current);\n    }\n    innerDragState.ref = null;\n    innerDragState.isDrag = false;\n    innerDragState.item = null;\n    innerDragState.current = 0;\n    marklineConfig.marklineUnfocus = null;\n    store.forceupdate();\n  };\n  return {\n    onMouseUp,\n    onMouseMove: (e: React.MouseEvent) => {\n      needleMoveEvent(config).onMouseMove(e);\n    },\n  };\n};\n","import { IBlockType } from \"../store/storetype\";\nimport { LinesTypes } from \"./calcRender\";\nimport { marklineConfig } from \"./marklineConfig\";\n\nexport interface RealStyle {\n  width: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  bottom: number;\n}\n\n/**\n *\n *\n * @export 吸附间距之前已经算出，该函数直接做处理\n * @param {RealStyle} focusStyle\n * @param {RealStyle} unFocusStyle\n * @param {LinesTypes} lines\n * @param {IBlockType} focus\n * @param {number} diff 绝对值\n * @param {('left' | 'top' | 'bottom' | 'right' | 't-b' | 'b-t' |  'l-r' |  'r-l')} direction\n */\nexport function marklineDisplay(\n  focusStyle: RealStyle,\n  unFocusStyle: RealStyle,\n  lines: LinesTypes,\n  focus: IBlockType,\n  diff: number,\n  dirty: { dirtyX: boolean; dirtyY: boolean },\n  direction: \"left\" | \"top\" | \"bottom\" | \"right\" | \"t-b\" | \"b-t\" | \"l-r\" | \"r-l\"\n) {\n  const { top, height, left, width } = focusStyle;\n  const { top: t, height: h, left: l, width: w } = unFocusStyle;\n  let diffY = 0;\n  let diffX = 0;\n  switch (direction) {\n    case \"left\":\n      if (dirty.dirtyY) {\n        if (diff <= 1) {\n          lines.y.push(l);\n        }\n      } else {\n        lines.y.push(l);\n        diffX = l - left;\n        dirty.dirtyY = true;\n      }\n      break;\n    case \"right\":\n      if (dirty.dirtyY) {\n        if (diff <= 1) {\n          lines.y.push(l + w);\n        }\n      } else {\n        lines.y.push(l + w);\n        diffX = l + w - left - width;\n        dirty.dirtyY = true;\n      }\n      break;\n    case \"l-r\":\n      if (dirty.dirtyY) {\n        if (diff <= 1) {\n          lines.y.push(l + w);\n        }\n      } else {\n        lines.y.push(l + w);\n        diffX = l + w - left;\n        dirty.dirtyY = true;\n      }\n      break;\n    case \"r-l\":\n      if (dirty.dirtyY) {\n        if (diff <= 1) {\n          lines.y.push(l);\n        }\n      } else {\n        lines.y.push(l);\n        diffX = l - (left + width);\n        dirty.dirtyY = true;\n      }\n      break;\n    case \"top\":\n      if (dirty.dirtyX) {\n        if (diff <= 1) {\n          lines.x.push(t);\n        }\n      } else {\n        lines.x.push(t);\n        diffY = t - top;\n        dirty.dirtyX = true;\n      }\n      break;\n    case \"bottom\":\n      if (dirty.dirtyX) {\n        if (diff <= 1) {\n          lines.x.push(t + h);\n        }\n      } else {\n        lines.x.push(t + h);\n        diffY = t + h - top - height;\n        dirty.dirtyX = true;\n      }\n      break;\n    case \"t-b\":\n      if (dirty.dirtyX) {\n        if (diff <= 1) {\n          lines.x.push(t + h);\n        }\n      } else {\n        lines.x.push(t + h);\n        diffY = t + h - top;\n        dirty.dirtyX = true;\n      }\n      break;\n    case \"b-t\":\n      if (dirty.dirtyX) {\n        if (diff <= 1) {\n          lines.x.push(t);\n        }\n      } else {\n        lines.x.push(t);\n        diffY = t - (top + height);\n        dirty.dirtyX = true;\n      }\n      break;\n  }\n  if (marklineConfig.isAbsorb) {\n    focus.top = Math.round(focus.top + diffY);\n    focus.left = Math.round(focus.left + diffX);\n  }\n}\n\n/**\n *\n * 第一次运算时需要\n * @export\n * @param {RealStyle} focusStyle\n * @param {RealStyle} unFocusStyle\n * @param {LinesTypes} lines\n * @param {IBlockType} focus\n */\nexport function newMarklineDisplay(\n  focusStyle: RealStyle,\n  unFocusStyle: RealStyle,\n  lines: LinesTypes\n) {\n  const { top, height, left, width } = focusStyle;\n  const { top: t, height: h, left: l, width: w } = unFocusStyle;\n  // 头对头\n  if (Math.abs(t - top) <= 1) {\n    lines.x.push(t);\n  }\n  // 尾对头\n  else if (Math.abs(t - (top + height)) <= 1) {\n    lines.x.push(t);\n  }\n  // 头对尾\n  else if (Math.abs((t + h - top) / 2) <= 1) {\n    lines.x.push(t + h);\n  }\n  // 尾对尾\n  else if (Math.abs((t + h - top - height) / 2) <= 1) {\n    lines.x.push(t + h);\n  }\n  // 纵线\n  // 头对头\n  if (Math.abs(l - left) <= 1) {\n    lines.y.push(l);\n  }\n  // 尾对头\n  else if (Math.abs(l - (left + width)) <= 1) {\n    lines.y.push(l);\n  }\n  // 头对尾\n  else if (Math.abs(l + w - left) <= 1) {\n    lines.y.push(l + w);\n  }\n  // 尾对尾\n  else if (Math.abs(l + w - left - width) <= 1) {\n    lines.y.push(l + w);\n  }\n}\n\n/**\n *\n * @deprecated\n */\nexport function switchMarklineDisplay(\n  l: number,\n  t: number,\n  w: number | string | undefined,\n  h: number | string | undefined,\n  left: number,\n  top: number,\n  width: number,\n  height: number,\n  lines: LinesTypes,\n  focus: IBlockType\n) {\n  // 做吸附只能选择一个接近的吸，所以只匹配一个即可。\n  // 头对头\n  if (marklineConfig.isAbsorb) {\n    if (Math.abs(top - t) < marklineConfig.indent) {\n      lines.x.push(t);\n      focus.top = t;\n    }\n    // 中对头\n    else if (Math.abs(top + height / 2 - t) < marklineConfig.indent) {\n      lines.x.push(t);\n      focus.top = t - height / 2;\n    }\n    // 尾对头\n    else if (Math.abs(top + height - t) < marklineConfig.indent) {\n      lines.x.push(t);\n      focus.top = t - height;\n    } else if (h && typeof h === \"number\") {\n      // 头对中\n      if (Math.abs(t + h / 2 - top) < marklineConfig.indent) {\n        lines.x.push(t + h / 2);\n        focus.top = t + h / 2;\n      }\n      // 中对中\n      else if (Math.abs(t + h / 2 - top - height / 2) < marklineConfig.indent) {\n        lines.x.push(t + h / 2);\n        focus.top = t + h / 2 - height / 2;\n      }\n      // 尾对中\n      else if (Math.abs(t + h / 2 - top - height) < marklineConfig.indent) {\n        lines.x.push(t + h / 2);\n        focus.top = t + h / 2 - height;\n      }\n      // 头对尾\n      else if (Math.abs((t + h - top) / 2) < marklineConfig.indent) {\n        lines.x.push(t + h);\n        focus.top = t + h;\n      }\n      // 中对尾\n      else if (Math.abs(t + h - top - height / 2) < marklineConfig.indent) {\n        lines.x.push(t + h);\n        focus.top = t + h - height / 2;\n      }\n      // 尾对尾\n      else if (Math.abs((t + h - top - height) / 2) < marklineConfig.indent) {\n        lines.x.push(t + h);\n        focus.top = t + h - height;\n      }\n    }\n    // x轴方向\n    // 头对头\n    if (Math.abs(left - l) < marklineConfig.indent) {\n      lines.y.push(l);\n      focus.left = l;\n    }\n    // 中对头\n    else if (Math.abs(left + width / 2 - l) < marklineConfig.indent) {\n      lines.y.push(l);\n      focus.left = l - width / 2;\n    }\n    // 尾对头\n    else if (Math.abs(left + width - l) < marklineConfig.indent) {\n      lines.y.push(l);\n      focus.left = l - width;\n    } else if (w && typeof w === \"number\") {\n      // 头对中\n      if (Math.abs(l + w / 2 - left) < marklineConfig.indent) {\n        lines.y.push(l + w / 2);\n        focus.left = l + w / 2;\n      }\n      // 中对中\n      else if (Math.abs(l + w / 2 - left - width / 2) < marklineConfig.indent) {\n        lines.y.push(l + w / 2);\n        focus.left = l + w / 2 - width / 2;\n      }\n      // 尾对中\n      else if (Math.abs(l + w / 2 - left - width) < marklineConfig.indent) {\n        lines.y.push(l + w / 2);\n        focus.left = l + w / 2 - width;\n      }\n      // 头对尾\n      else if (Math.abs((l + w - left) / 2) < marklineConfig.indent) {\n        lines.y.push(l + w);\n        focus.left = l + w;\n      }\n      // 中对尾\n      else if (Math.abs(l + w - left - width / 2) < marklineConfig.indent) {\n        lines.y.push(l + w);\n        focus.left = l + w - width / 2;\n      }\n      // 尾对尾\n      else if (Math.abs((l + w - left - width) / 2) < marklineConfig.indent) {\n        lines.y.push(l + w);\n        focus.left = l + w - width;\n      }\n    }\n  } else {\n    if (Math.abs(top - t) < marklineConfig.indent) {\n      lines.x.push(t);\n    }\n    // 中对头\n    if (Math.abs(top + height / 2 - t) < marklineConfig.indent) {\n      lines.x.push(t);\n    }\n    // 尾对头\n    if (Math.abs(top + height - t) < marklineConfig.indent) {\n      lines.x.push(t);\n    }\n    if (h && typeof h === \"number\") {\n      // 头对中\n      if (Math.abs(t + h / 2 - top) < marklineConfig.indent) {\n        lines.x.push(t + h / 2);\n      }\n      // 中对中\n      if (Math.abs(t + h / 2 - top - height / 2) < marklineConfig.indent) {\n        lines.x.push(t + h / 2);\n      }\n      // 尾对中\n      if (Math.abs(t + h / 2 - top - height) < marklineConfig.indent) {\n        lines.x.push(t + h / 2);\n      }\n      // 头对尾\n      if (Math.abs((t + h - top) / 2) < marklineConfig.indent) {\n        lines.x.push(t + h);\n      }\n      // 中对尾\n      if (Math.abs(t + h - top - height / 2) < marklineConfig.indent) {\n        lines.x.push(t + h);\n      }\n      // 尾对尾\n      if (Math.abs((t + h - top - height) / 2) < marklineConfig.indent) {\n        lines.x.push(t + h);\n      }\n    }\n    // x轴方向\n    // 头对头\n    if (Math.abs(left - l) < marklineConfig.indent) {\n      lines.y.push(l);\n    }\n    // 中对头\n    if (Math.abs(left + width / 2 - l) < marklineConfig.indent) {\n      lines.y.push(l);\n    }\n    // 尾对头\n    if (Math.abs(left + width - l) < marklineConfig.indent) {\n      lines.y.push(l);\n    }\n    if (w && typeof w === \"number\") {\n      // 头对中\n      if (Math.abs(l + w / 2 - left) < marklineConfig.indent) {\n        lines.y.push(l + w / 2);\n      }\n      // 中对中\n      if (Math.abs(l + w / 2 - left - width / 2) < marklineConfig.indent) {\n        lines.y.push(l + w / 2);\n      }\n      // 尾对中\n      if (Math.abs(l + w / 2 - left - width) < marklineConfig.indent) {\n        lines.y.push(l + w / 2);\n      }\n      // 头对尾\n      if (Math.abs((l + w - left) / 2) < marklineConfig.indent) {\n        lines.y.push(l + w);\n      }\n      // 中对尾\n      if (Math.abs(l + w - left - width / 2) < marklineConfig.indent) {\n        lines.y.push(l + w);\n      }\n      // 尾对尾\n      if (Math.abs((l + w - left - width) / 2) < marklineConfig.indent) {\n        lines.y.push(l + w);\n      }\n    }\n  }\n}\n\n/**\n * @todo 暂时无效\n */\nexport function switchMarklineResizeDisplay(\n  l: number,\n  t: number,\n  w: number | string | undefined,\n  h: number | string | undefined,\n  left: number,\n  top: number,\n  width: number,\n  height: number,\n  lines: LinesTypes\n) {\n  // 头对头\n  if (Math.abs(top - t) <= marklineConfig.resizeIndent) {\n    lines.x.push(t);\n  }\n  // 中对头\n  if (Math.abs(top + height / 2 - t) <= marklineConfig.resizeIndent) {\n    lines.x.push(t);\n  }\n  // 尾对头\n  if (Math.abs(top + height - t) <= marklineConfig.resizeIndent) {\n    lines.x.push(t);\n  }\n  if (h && typeof h === \"number\") {\n    // 头对中\n    if (Math.abs(t + h / 2 - top) <= marklineConfig.resizeIndent) {\n      lines.x.push(t + h / 2);\n    }\n    // 中对中\n    if (Math.abs(t + h / 2 - top - height / 2) <= marklineConfig.resizeIndent) {\n      lines.x.push(t + h / 2);\n    }\n    // 尾对中\n    if (Math.abs(t + h / 2 - top - height) <= marklineConfig.resizeIndent) {\n      lines.x.push(t + h / 2);\n    }\n    // 头对尾\n    if (Math.abs((t + h - top) / 2) <= marklineConfig.resizeIndent) {\n      lines.x.push(t + h);\n    }\n    // 中对尾\n    if (Math.abs(t + h - top - height / 2) <= marklineConfig.resizeIndent) {\n      lines.x.push(t + h);\n    }\n    // 尾对尾\n    if (Math.abs((t + h - top - height) / 2) <= marklineConfig.resizeIndent) {\n      lines.x.push(t + h);\n    }\n  }\n  // x轴方向\n  // 头对头\n  if (Math.abs(left - l) <= marklineConfig.resizeIndent) {\n    lines.y.push(l);\n  }\n  // 中对头\n  if (Math.abs(left + width / 2 - l) <= marklineConfig.resizeIndent) {\n    lines.y.push(l);\n  }\n  // 尾对头\n  if (Math.abs(left + width - l) <= marklineConfig.resizeIndent) {\n    lines.y.push(l);\n  }\n  if (w && typeof w === \"number\") {\n    // 头对中\n    if (Math.abs(l + w / 2 - left) <= marklineConfig.resizeIndent) {\n      lines.y.push(l + w / 2);\n    }\n    // 中对中\n    if (Math.abs(l + w / 2 - left - width / 2) <= marklineConfig.resizeIndent) {\n      lines.y.push(l + w / 2);\n    }\n    // 尾对中\n    if (Math.abs(l + w / 2 - left - width) <= marklineConfig.resizeIndent) {\n      lines.y.push(l + w / 2);\n    }\n    // 头对尾\n    if (Math.abs((l + w - left) / 2) <= marklineConfig.resizeIndent) {\n      lines.y.push(l + w);\n    }\n    // 中对尾\n    if (Math.abs(l + w - left - width / 2) <= marklineConfig.resizeIndent) {\n      lines.y.push(l + w);\n    }\n    // 尾对尾\n    if (Math.abs((l + w - left - width) / 2) <= marklineConfig.resizeIndent) {\n      lines.y.push(l + w);\n    }\n  }\n}\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2022-01-12 09:15:44\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\markline\\calcRender.ts\n */\nimport { innerDragState } from \"../innerDrag/state\";\nimport { marklineDisplay, newMarklineDisplay } from \"./normalMode\";\nimport { marklineConfig } from \"./marklineConfig\";\nimport UserConfig from \"../../config\";\nimport { angleToRadian, binarySearchRemain, getContainer } from \"../utils\";\nimport { marklineState, RealStyleType } from \"./state\";\nexport interface LinesTypes {\n  x: number[];\n  y: number[];\n}\n\nexport function cos(rotate: number) {\n  return Math.abs(Math.cos(angleToRadian(rotate)));\n}\nexport function sin(rotate: number) {\n  return Math.abs(Math.sin(angleToRadian(rotate)));\n}\n\nexport function getComponentRotatedStyle(\n  rotate: number,\n  width: number,\n  height: number,\n  left: number,\n  top: number\n) {\n  const style = {\n    left,\n    width,\n    height,\n    right: left + width,\n    top,\n    bottom: top + height,\n  };\n  if (rotate !== 0) {\n    const newWidth = style.width * cos(rotate) + style.height * sin(rotate);\n    const diffX = (style.width - newWidth) / 2; // 旋转后范围变小是正值，变大是负值\n    style.left += diffX;\n    style.right = style.left + newWidth;\n    const newHeight = style.height * cos(rotate) + style.width * sin(rotate);\n    const diffY = (newHeight - style.height) / 2; // 始终是正\n    style.top -= diffY;\n    style.bottom = style.top + newHeight;\n    style.width = newWidth;\n    style.height = newHeight;\n  } else {\n    style.bottom = style.top + style.height;\n    style.right = style.left + style.width;\n  }\n\n  return style;\n}\n\nexport function marklineCalRender(\n  config: UserConfig,\n  iframe: boolean\n): LinesTypes {\n  const store = config.getStore();\n  //focus可能好几个，做对比的是拖拽那个\n  const lines: LinesTypes = { x: [], y: [] };\n  if (\n    innerDragState.item?.position === \"static\" ||\n    innerDragState.item?.position === \"relative\"\n  ) {\n    return lines;\n  }\n\n  const item = innerDragState.item;\n  const ref = innerDragState.ref;\n\n  if (item && ref && ref.current && innerDragState.isDrag) {\n    // 这个被拷贝过，所以必须重新获取\n    const focus = store.getData().block.find((v) => v.id === item.id)!;\n    if (!focus) {\n      return lines;\n    }\n    const container = getContainer();\n    if (!container) {\n      return lines;\n    }\n    if (typeof focus.width !== \"number\" || typeof focus.height !== \"number\") {\n      return lines;\n    }\n\n    if (!marklineConfig.marklineUnfocus) {\n      marklineConfig.marklineUnfocus = store\n        .getData()\n        .block.filter(\n          (v) =>\n            v.focus === false &&\n            v.position !== \"static\" &&\n            v.position !== \"relative\"\n        );\n    }\n\n    const left = focus.left;\n    const top = focus.top;\n    const rotate = focus.rotate.value;\n    const width = focus.width;\n    const height = focus.height;\n    const realStyle = getComponentRotatedStyle(\n      rotate,\n      width,\n      height,\n      left,\n      top\n    );\n\n    if (typeof left !== \"number\" || typeof top !== \"number\") {\n      return lines; //可能没有这2值\n    }\n    const unfocus = marklineConfig.marklineUnfocus;\n    const len = unfocus.length;\n\n    // 只要cache里有东西，说明有缓存\n    if (marklineState.cache) {\n      const focusItem = config.getFocusState();\n      const isMulti = focusItem.blocks.length > 1;\n      if (!isMulti) {\n        if (!marklineState.sortLeft) {\n          marklineState.sortLeft = Object.values(marklineState.cache).sort(\n            (a, b) => {\n              return a.left - b.left;\n            }\n          );\n        }\n        if (!marklineState.sortTop) {\n          marklineState.sortTop = Object.values(marklineState.cache).sort(\n            (a, b) => {\n              return a.top - b.top;\n            }\n          );\n        }\n        if (!marklineState.sortBottom) {\n          marklineState.sortBottom = Object.values(marklineState.cache).sort(\n            (a, b) => {\n              return a.bottom - b.bottom;\n            }\n          );\n        }\n        if (!marklineState.sortRight) {\n          marklineState.sortRight = Object.values(marklineState.cache).sort(\n            (a, b) => {\n              return a.right - b.right;\n            }\n          );\n        }\n        // 划线的元素不应该冲突\n        // 当横向或者纵向已经吸附过，则后续不进行吸附，差值为0则划线。\n        // 未吸附过时的第一次划线会带吸附，后续按上述走\n        const dirty = {\n          dirtyX: false,\n          dirtyY: false,\n        };\n        const indexLeft = binarySearchRemain<RealStyleType>(\n          realStyle.left,\n          marklineState.sortLeft,\n          \"left\",\n          marklineConfig.indent\n        );\n        if (indexLeft) {\n          marklineDisplay(\n            realStyle,\n            indexLeft[0],\n            lines,\n            focus,\n            indexLeft[1],\n            dirty,\n            \"left\"\n          );\n        }\n        const indexLeftRight = binarySearchRemain<RealStyleType>(\n          realStyle.left,\n          marklineState.sortRight,\n          \"right\",\n          marklineConfig.indent\n        );\n        if (indexLeftRight) {\n          marklineDisplay(\n            realStyle,\n            indexLeftRight[0],\n            lines,\n            focus,\n            indexLeftRight[1],\n            dirty,\n            \"l-r\"\n          );\n        }\n        const indexRightLeft = binarySearchRemain<RealStyleType>(\n          realStyle.right,\n          marklineState.sortLeft,\n          \"left\",\n          marklineConfig.indent\n        );\n        if (indexRightLeft) {\n          marklineDisplay(\n            realStyle,\n            indexRightLeft[0],\n            lines,\n            focus,\n            indexRightLeft[1],\n            dirty,\n            \"r-l\"\n          );\n        }\n        const indexTopBottom = binarySearchRemain<RealStyleType>(\n          realStyle.top,\n          marklineState.sortBottom,\n          \"bottom\",\n          marklineConfig.indent\n        );\n        if (indexTopBottom) {\n          marklineDisplay(\n            realStyle,\n            indexTopBottom[0],\n            lines,\n            focus,\n            indexTopBottom[1],\n            dirty,\n            \"t-b\"\n          );\n        }\n        const indexBottomTop = binarySearchRemain<RealStyleType>(\n          realStyle.bottom,\n          marklineState.sortTop,\n          \"top\",\n          marklineConfig.indent\n        );\n        if (indexBottomTop) {\n          marklineDisplay(\n            realStyle,\n            indexBottomTop[0],\n            lines,\n            focus,\n            indexBottomTop[1],\n            dirty,\n            \"b-t\"\n          );\n        }\n        const indexTop = binarySearchRemain<RealStyleType>(\n          realStyle.top,\n          marklineState.sortTop,\n          \"top\",\n          marklineConfig.indent\n        );\n        if (indexTop) {\n          marklineDisplay(\n            realStyle,\n            indexTop[0],\n            lines,\n            focus,\n            indexTop[1],\n            dirty,\n            \"top\"\n          );\n        }\n        const indexRight = binarySearchRemain<RealStyleType>(\n          realStyle.right,\n          marklineState.sortRight,\n          \"right\",\n          marklineConfig.indent\n        );\n        if (indexRight) {\n          marklineDisplay(\n            realStyle,\n            indexRight[0],\n            lines,\n            focus,\n            indexRight[1],\n            dirty,\n            \"right\"\n          );\n        }\n        const indexBottom = binarySearchRemain<RealStyleType>(\n          realStyle.bottom,\n          marklineState.sortBottom,\n          \"bottom\",\n          marklineConfig.indent\n        );\n        if (indexBottom) {\n          marklineDisplay(\n            realStyle,\n            indexBottom[0],\n            lines,\n            focus,\n            indexBottom[1],\n            dirty,\n            \"bottom\"\n          );\n        }\n      }\n    } else {\n      for (let i = 0; i < len; i++) {\n        const v = unfocus[i];\n        const l = v?.left;\n        const t = v?.top;\n        const w = v?.width;\n        const h = v?.height;\n        if (\n          typeof l === \"number\" &&\n          typeof t === \"number\" &&\n          typeof w === \"number\" &&\n          typeof h === \"number\"\n        ) {\n          const ro = v.rotate.value;\n          const rstyle = getComponentRotatedStyle(ro, w, h, l, t);\n          if (!marklineState.cache) {\n            marklineState.cache = {\n              [v.id]: rstyle,\n            };\n          } else {\n            marklineState.cache[v.id] = rstyle;\n          }\n          newMarklineDisplay(realStyle, rstyle, lines);\n          // if (lines.x.length !== 0 || lines.y.length !== 0) {\n          // \tbreak; 这里不能break要算完所有值\n          // }\n        }\n      }\n    }\n\n    // 如果是iframe 需要刷给iframe\n    if (iframe) {\n      config.refreshIframe();\n    }\n  }\n\n  return lines;\n}\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2022-01-21 09:28:53\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\markline\\index.tsx\n */\nimport React from \"react\";\nimport { useMemo } from \"react\";\nimport UserConfig from \"../../config\";\nimport { marklineCalRender } from \"./calcRender\";\nimport { marklineConfig } from \"./marklineConfig\";\n\nexport function MarklineX(props: any) {\n  return (\n    <div\n      className=\"yh-markline\"\n      style={{\n        borderTop: `1px ${marklineConfig.borderStyle} ${marklineConfig.borderColor}`,\n        position: \"absolute\",\n        width: \"100%\",\n        top: props.top,\n        display: props.display,\n        zIndex: 9999,\n      }}\n    ></div>\n  );\n}\nexport function MarklineY(props: any) {\n  return (\n    <div\n      className=\"yh-markline\"\n      style={{\n        borderLeft: `1px ${marklineConfig.borderStyle} ${marklineConfig.borderColor}`,\n        position: \"absolute\",\n        height: \"100%\",\n        left: props.left,\n        display: props.display,\n        zIndex: 9999,\n      }}\n    ></div>\n  );\n}\n\nexport function NormalMarkLineRender(props: {\n  config: UserConfig;\n  iframe: boolean;\n}) {\n  const lines = marklineCalRender(props.config, props.iframe);\n  const render = useMemo(() => {\n    return (\n      <>\n        {lines.x.map((v, i) => {\n          return <MarklineX key={i} top={v}></MarklineX>;\n        })}\n        {lines.y.map((v, i) => {\n          return <MarklineY key={i} left={v}></MarklineY>;\n        })}\n      </>\n    );\n  }, [lines]);\n  return <>{render}</>;\n}\n","/*\n\n * @Date: 2021-04-21 22:59:57\n * @LastEditors: \n * @LastEditTime: 2021-07-26 11:47:19\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\transfer\\index.ts\n */\n\n/**\n *\n *\n * @export\n * @param {number} top\n * @param {number} left\n * @param {(string | number | undefined)} height\n * @param {(string | number | undefined)} width\n * @param {boolean} isFixed\n * @returns\n */\nexport function transfer(\n  top: number,\n  left: number,\n  height: string | number | undefined,\n  width: string | number | undefined,\n  isFixed: boolean\n) {\n  if (isFixed) {\n    // 由于是375x667基准，所以top大于667的，那么top为底部高度\n    let newtop = 0;\n\n    const newleft = getRealWidth(left);\n    let newheight: string | number | undefined;\n    let newwidth: string | number | undefined;\n    if (typeof height === \"string\" || typeof height === \"undefined\") {\n      newheight = height;\n    } else {\n      newheight = getRealHeight(height);\n    }\n    if (typeof width === \"string\" || typeof width === \"undefined\") {\n      newwidth = width;\n    } else {\n      newwidth = getRealWidth(width);\n    }\n\n    if (top >= 667) {\n      if (typeof newheight === \"number\") {\n        newtop = getRealHeight() - newheight;\n      } else {\n        // 如果没有高度或者高度是百分比，则定位会有问题\n        newtop = getRealHeight();\n      }\n    } else {\n      if (\n        typeof height === \"number\" &&\n        top >= 667 - height &&\n        typeof newheight === \"number\"\n      ) {\n        // 这种是距离底部比高多 按底部计算\n        newtop = getRealHeight() - newheight;\n      } else {\n        newtop = getRealHeight(top);\n      }\n    }\n    return {\n      top: newtop,\n      left: newleft,\n      height: newheight,\n      width: newwidth,\n    };\n  } else {\n    const newtop = getRealHeight(top);\n    const newleft = getRealWidth(left);\n    let newheight: string | number | undefined;\n    let newwidth: string | number | undefined;\n    if (typeof height === \"string\" || typeof height === \"undefined\") {\n      newheight = height;\n    } else {\n      newheight = getRealHeight(height);\n    }\n    if (typeof width === \"string\" || typeof width === \"undefined\") {\n      newwidth = width;\n    } else {\n      newwidth = getRealWidth(width);\n    }\n\n    return {\n      top: newtop,\n      left: newleft,\n      height: newheight,\n      width: newwidth,\n    };\n  }\n}\n\nexport function getCurrentMobileInfo() {\n  let userAgentMatched = window.navigator.userAgent.match(\n    /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i\n  );\n  const width = userAgentMatched\n    ? window.innerWidth\n    : window.innerWidth < 500\n    ? window.innerWidth\n    : 375;\n\n  const height = userAgentMatched\n    ? window.screen.availHeight\n    : window.screen.availHeight < 667\n    ? window.screen.availHeight\n    : 667;\n  return [width, height];\n}\n\nexport function getRealWidth(w: number | string = 375) {\n  const width = typeof w === \"string\" ? parseFloat(w) : w;\n  return (getCurrentMobileInfo()[0] / 375) * width;\n}\n\nexport function getRealHeight(H: number | string = 667) {\n  const height = typeof H === \"string\" ? parseFloat(H) : H;\n  return (getCurrentMobileInfo()[0] / 375) * height;\n}\n","import { AnimateItem } from \"../store/storetype\";\n// duration\n// 1s ease 1s 1 forwards paused bounce ,\nexport function mergeAnimate(\n  animate: AnimateItem[],\n  config = {\n    delay: 0,\n    isPause: false,\n  }\n) {\n  let configstr = \"\";\n  let str = \"\";\n  animate.forEach((v) => {\n    configstr =\n      (configstr === \"\" ? configstr : configstr + \",\") +\n      `${v.animationDuration}s ${v.animationTimingFunction} ${(\n        v.animationDelay - config.delay\n      ).toFixed(1)}s ${v.animationIterationCount} forwards ${\n        config.isPause ? \"paused\" : \"running\"\n      } ${v.animationName}`;\n    str =\n      (str === \"\" ? str : str + \",\") +\n      `${v.animationDuration}s ${v.animationTimingFunction} ${\n        v.animationDelay\n      }s ${v.animationIterationCount} forwards ${\"running\"} ${v.animationName}`;\n  });\n  return [str, configstr];\n}\n","import { IBlockType } from \"../core/store/storetype\";\nimport {\n  CSSProperties,\n  PropsWithChildren,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { innerDrag } from \"../core/innerDrag\";\nimport { BlockResizer } from \"../core/resizeHandler\";\nimport { contextMenuEvent } from \"../core/contextMenu\";\nimport React from \"react\";\nimport { transfer } from \"../core/transfer\";\nimport { UserConfig } from \"../config\";\nimport styles from \"../index.less\";\nimport { RotateReset, RotateResizer } from \"../core/rotateHandler\";\nimport { mergeAnimate } from \"../core/utils/animate\";\n\ninterface BlockProps {\n  data: IBlockType;\n  context: \"edit\" | \"preview\";\n  config: UserConfig;\n  iframe?: boolean;\n}\n\n/**\n * block在modal中也要使用，所以该组件不应该接收容器ref\n * 用来从component里拿到渲染进行渲染,由于异步拉代码，所以需要等待代码拉取完毕\n * @param {*} props\n * @returns\n */\nfunction Blocks(props: PropsWithChildren<BlockProps>) {\n  const [state, setState] = useState<JSX.Element | null>(null);\n\n  const [previewState, setPreviewState] = useState({\n    top: props.data.top,\n    left: props.data.left,\n    height: props.data.height,\n    width: props.data.width,\n  });\n\n  useEffect(() => {\n    const fn = () =>\n      props.config.getComponentRegister().getComp(props.data.name);\n    const data = fn();\n    let unregist = () => {};\n    let newdata = { ...props.data };\n    if (props.context === \"preview\") {\n      newdata = {\n        ...props.data,\n        top: previewState.top,\n        left: previewState.left,\n        height: previewState.height,\n        width: previewState.width,\n      };\n    }\n\n    if (data) {\n      setState(\n        data.render(\n          newdata,\n          props.context,\n          props.config.getStore(),\n          props.config\n        )\n      );\n    } else {\n      const callback = () => {\n        const tmp = fn();\n        setState(\n          tmp.render(\n            newdata,\n            props.context,\n            props.config.getStore(),\n            props.config\n          )\n        );\n        unregist();\n      };\n      unregist = props.config\n        .getComponentRegister()\n        .on(props.data.name, callback);\n    }\n    return () => {\n      unregist();\n    };\n  }, [props.data, props.context, props.config, previewState]);\n\n  const ref = useRef<HTMLDivElement>(null);\n  const innerDragData = useMemo(() => {\n    return { ...innerDrag(props.data, ref, props.config) };\n  }, [props.data, props.config]);\n\n  useEffect(() => {\n    const fn = () => {\n      const { top, left, width, height } = transfer(\n        props.data.top,\n        props.data.left,\n        props.data.height,\n        props.data.width,\n        props.data.fixed\n      );\n\n      setPreviewState({ top, left, width, height });\n    };\n    fn();\n    window.addEventListener(\"resize\", fn);\n    return () => {\n      window.removeEventListener(\"resize\", fn);\n    };\n  }, [\n    previewState.height,\n    previewState.left,\n    previewState.top,\n    previewState.width,\n    props.data.height,\n    props.data.left,\n    props.data.top,\n    props.data.width,\n    props.data.fixed,\n  ]);\n\n  const [force, animateForce] = useState(0);\n\n  useEffect(() => {\n    const fn = () => {\n      animateForce((p) => p + 1);\n    };\n    props.config.blockForceUpdate.push(fn);\n    const unload = () => {\n      props.config.blockForceUpdate = props.config.blockForceUpdate.filter(\n        (v) => v !== fn\n      );\n    };\n    return () => {\n      unload();\n    };\n  }, [animateForce, props.config]);\n\n  const [animateProps, animationEdit]: [CSSProperties, CSSProperties] =\n    useMemo(() => {\n      const [normal, editProps] = mergeAnimate(props.data.animate, {\n        isPause:\n          props.config.timelineNeedleConfig.status !== \"start\" ? true : false,\n        delay:\n          props.config.timelineNeedleConfig.status === \"stop\"\n            ? props.config.timelineNeedleConfig.current\n            : 0,\n      });\n      return [\n        {\n          animation: normal,\n        },\n        {\n          animation: editProps,\n        },\n      ];\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.data.animate, props.config.timelineNeedleConfig, force]);\n\n  const render = useMemo(() => {\n    // 如果是编辑模式下，则需要包裹不能选中层，位移层，缩放控制层，平面移动层。\n    if (state && props.context === \"edit\") {\n      const style: CSSProperties = props.data.canDrag\n        ? { pointerEvents: \"none\" }\n        : {};\n      return (\n        <div\n          ref={ref}\n          className={\n            props.data.focus && props.data.position !== \"static\"\n              ? styles.yh_block_focus\n              : \"\"\n          }\n          style={{\n            position: props.data.position,\n            top: props.data.top,\n            left: props.data.left,\n            width: props.data.width,\n            height: props.data.height,\n            zIndex: props.data.zIndex,\n            display:\n              typeof props.data.canSee === \"boolean\"\n                ? props.data.canSee\n                  ? props.data.display\n                  : \"none\"\n                : props.data.display,\n            opacity: props.iframe ? 0 : 1,\n            transform: `rotate(${props.data.rotate.value}deg)`,\n          }}\n          {...innerDragData}\n          onContextMenu={(e) => {\n            if (props.data.name !== \"modalMask\") {\n              contextMenuEvent(e, ref, props.config);\n            }\n          }}\n        >\n          {/* 绝对定位元素 */}\n          {props.data.position !== \"static\" && (\n            <div\n              style={{\n                ...style,\n                ...animationEdit,\n              }}\n            >\n              {state}\n            </div>\n          )}\n          {/* 静态定位 非行内 这里暂不考虑布局影响 */}\n          {props.data.position === \"static\" && props.data.display !== \"inline\" && (\n            <div\n              style={{\n                pointerEvents: \"none\",\n                ...animationEdit,\n              }}\n            >\n              {state}\n            </div>\n          )}\n          {/* 静态定位 行内 这里暂不考虑布局影响 */}\n          {props.data.position === \"static\" && props.data.display === \"inline\" && (\n            <span\n              style={{\n                pointerEvents: \"none\",\n                ...animationEdit,\n              }}\n            >\n              {state}\n            </span>\n          )}\n          <BlockResizer\n            data={props.data}\n            config={props.config}\n            rect={ref}\n          ></BlockResizer>\n          <RotateResizer\n            data={props.data}\n            config={props.config}\n            rect={ref}\n          ></RotateResizer>\n          <RotateReset\n            data={props.data}\n            config={props.config}\n            rect={ref}\n          ></RotateReset>\n        </div>\n      );\n    } else {\n      const style = {\n        position: props.data.fixed ? \"fixed\" : props.data.position,\n        top: previewState.top,\n        left: previewState.left,\n        width: previewState.width,\n        height: previewState.height,\n        zIndex: props.data.zIndex,\n        display: props.data.display,\n        transform: `rotate(${props.data.rotate.value}deg)`,\n      };\n      return (\n        <>\n          {/* 绝对定位元素 */}\n          {props.data.position !== \"static\" && (\n            <div style={style}>\n              <div style={{ ...animateProps }}>{state}</div>\n            </div>\n          )}\n          {/* 静态定位 非行内 这里暂不考虑布局影响 */}\n          {props.data.position === \"static\" && props.data.display !== \"inline\" && (\n            <div style={style}>\n              <div style={{ ...animateProps }}>{state}</div>\n            </div>\n          )}\n          {/* 静态定位 行内 这里暂不考虑布局影响 */}\n          {props.data.position === \"static\" && props.data.display === \"inline\" && (\n            <span style={style}>\n              <span style={{ ...animateProps }}>{state}</span>\n            </span>\n          )}\n        </>\n      );\n    }\n  }, [\n    state,\n    props.context,\n    props.data,\n    props.iframe,\n    props.config,\n    innerDragData,\n    animationEdit,\n    previewState.top,\n    previewState.left,\n    previewState.width,\n    previewState.height,\n    animateProps,\n  ]);\n  return render;\n}\nexport default Blocks;\n","import { containerDragResolve } from \"../core/crossDrag\";\nimport { containerFocusRemove } from \"../core/focusHandler\";\nimport { innerContainerDrag } from \"../core/innerDrag\";\nimport { NormalMarkLineRender } from \"../core/markline\";\nimport { IStoreData } from \"../core/store/storetype\";\nimport { wrapperMoveState } from \"./wrapperMove/event\";\nimport {\n  CSSProperties,\n  PropsWithChildren,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport Blocks from \"./blocks\";\nimport { containerResizer } from \"../core/resizeHandler/containerResizer\";\nimport React from \"react\";\nimport UserConfig from \"../config\";\nimport styles from \"../index.less\";\nimport { getRealHeight } from \"../core/transfer\";\n\ninterface ContainerProps {\n  state: IStoreData;\n  context: \"edit\" | \"preview\";\n  config: UserConfig;\n  editContainerStyle?: CSSProperties;\n  previewContainerStyle?: CSSProperties;\n}\nfunction Container(props: PropsWithChildren<ContainerProps>) {\n  const { editContainerStyle, previewContainerStyle } = props;\n  const scaleState = props.config.getScaleState();\n  const transform = useMemo(() => {\n    if (props.context === \"edit\") {\n      return `scale(${scaleState.value}) translate(${wrapperMoveState.needX}px, ${wrapperMoveState.needY}px)`;\n    } else {\n      return undefined;\n    }\n  }, [props.context, scaleState]);\n\n  const bgColor = () => {\n    const isEdit = props.config.getStore().isEdit();\n    if (isEdit) {\n      return \"rgba(255,255,255,1)\";\n    } else {\n      return props.state.globalState.containerColor;\n    }\n  };\n  const forceUpdate = useState(0)[1];\n  props.config.containerForceUpdate = () => {\n    forceUpdate((p) => p + 1);\n  };\n\n  useEffect(() => {\n    if (props.context === \"preview\") {\n      props.config.onMounted();\n      props.config.onMountedFn.forEach((v) => v());\n    }\n    return () => {\n      if (props.context === \"preview\") {\n        props.config.destroyed();\n        props.config.destroyedFn.forEach((v) => v());\n      }\n    };\n  }, [props.config, props.context]);\n\n  const minWxEle = () => (\n    <div className={styles.minwx}>\n      <div>\n        <svg\n          // @ts-ignore\n          t=\"1652778150874\"\n          class=\"icon\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"2782\"\n          width=\"8\"\n          height=\"8\"\n        >\n          <path\n            d=\"M480 480m-288 0a4.5 4.5 0 1 0 576 0 4.5 4.5 0 1 0-576 0Z\"\n            p-id=\"2783\"\n            fill=\"#ffffff\"\n          ></path>\n        </svg>\n        <svg\n          // @ts-ignore\n          t=\"1652778150874\"\n          class=\"icon\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"2782\"\n          width=\"12\"\n          height=\"12\"\n        >\n          <path\n            d=\"M480 480m-288 0a4.5 4.5 0 1 0 576 0 4.5 4.5 0 1 0-576 0Z\"\n            p-id=\"2783\"\n            fill=\"#ffffff\"\n          ></path>\n        </svg>\n        <svg\n          // @ts-ignore\n          t=\"1652778150874\"\n          class=\"icon\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"2782\"\n          width=\"8\"\n          height=\"8\"\n        >\n          <path\n            d=\"M480 480m-288 0a4.5 4.5 0 1 0 576 0 4.5 4.5 0 1 0-576 0Z\"\n            p-id=\"2783\"\n            fill=\"#ffffff\"\n          ></path>\n        </svg>\n      </div>\n\n      <div>\n        <svg\n          // @ts-ignore\n          t=\"1652775167764\"\n          class=\"icon\"\n          viewBox=\"0 0 1024 1024\"\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          p-id=\"2090\"\n          width=\"20\"\n          height=\"20\"\n        >\n          <path\n            d=\"M512 64c60.5 0 119.2 11.8 174.4 35.2 53.3 22.6 101.3 54.9 142.4 96 41.2 41.2 73.5 89.1 96 142.4C948.2 392.8 960 451.5 960 512s-11.8 119.2-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4-41.2 41.2-89.1 73.5-142.4 96C631.2 948.2 572.5 960 512 960s-119.2-11.8-174.4-35.2c-53.3-22.6-101.3-54.9-142.4-96-41.2-41.2-73.5-89.1-96-142.4C75.8 631.2 64 572.5 64 512s11.8-119.2 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4s89.1-73.5 142.4-96C392.8 75.8 451.5 64 512 64m0-64C229.2 0 0 229.2 0 512s229.2 512 512 512 512-229.2 512-512S794.8 0 512 0z\"\n            p-id=\"2091\"\n            fill=\"#ffffff\"\n          ></path>\n          <path\n            d=\"M512 512m-96 0a96 96 0 1 0 192 0 96 96 0 1 0-192 0Z\"\n            p-id=\"2092\"\n            fill=\"#ffffff\"\n          ></path>\n        </svg>\n      </div>\n    </div>\n  );\n  return (\n    <>\n      {props.context === \"edit\" && (\n        <>\n          <div\n            style={{\n              position: \"absolute\",\n              height: `${props.state.container.height + 60}px`,\n              width: `${props.state.container.width}px`,\n              transform: `scale(${scaleState.value}) translate(${wrapperMoveState.needX}px, ${wrapperMoveState.needY}px)`,\n            }}\n          >\n            <div style={{ display: \"flex\" }}>\n              <div\n                id=\"yh-container\"\n                className={styles.yh_container}\n                style={{\n                  height: `${props.state.container.height}px`,\n                  width: `${props.state.container.width}px`,\n                  backgroundColor: bgColor(),\n                  position: \"relative\",\n                  overflow: props.config.containerOverFlow\n                    ? \"hidden\"\n                    : \"visible\",\n                  cursor: \"default\",\n                  lineHeight: props.state.globalState?.lineHeight ?? 1.575,\n                  fontSize: props.state.globalState?.fontSize ?? 14,\n                  ...editContainerStyle,\n                }}\n                {...(props.context === \"edit\"\n                  ? containerDragResolve(props.config)\n                  : null)}\n                {...(props.context === \"edit\"\n                  ? innerContainerDrag(props.config)\n                  : null)}\n                {...(props.context === \"edit\"\n                  ? containerFocusRemove(props.config)\n                  : null)}\n              >\n                {props.state.container.isMinwx && minWxEle()}\n\n                {props.context === \"edit\" && (\n                  <NormalMarkLineRender\n                    config={props.config}\n                    iframe={false}\n                  ></NormalMarkLineRender>\n                )}\n                {props.state.block.map((v) => {\n                  return (\n                    <Blocks\n                      config={props.config}\n                      key={v.id}\n                      data={v}\n                      context={props.context}\n                    ></Blocks>\n                  );\n                })}\n              </div>\n            </div>\n            <div\n              style={{\n                height: \"50px\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                width: `${props.state.container.width}px`,\n              }}\n            >\n              <div\n                style={{ fontSize: \"20px\", cursor: \"s-resize\" }}\n                onMouseDown={(e) =>\n                  containerResizer.onMousedown(e, props.config)\n                }\n              >\n                {props.config.getConfig().containerIcon}\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n      {props.context === \"preview\" && (\n        <div\n          id=\"yh-container-preview\"\n          className={styles.yh_container_preview}\n          style={{\n            height: `${getRealHeight(props.state.container.height)}px`,\n            width: `${props.state.container.width}px`,\n            position: \"relative\" as \"absolute\" | \"relative\",\n            overflow: \"hidden\",\n            top: \"20px\",\n            border: \"2px solid #ccc\",\n            boxShadow: \"0 0 10px #ccc\",\n            backgroundColor: bgColor(),\n            transform: transform,\n            lineHeight: props.state.globalState?.lineHeight ?? 1.575,\n            fontSize: props.state.globalState?.fontSize ?? 14,\n            ...previewContainerStyle,\n          }}\n        >\n          {props.state.container.isMinwx && minWxEle()}\n          {props.state.block.map((v) => {\n            return (\n              <Blocks\n                key={v.id}\n                config={props.config}\n                data={v}\n                context={props.context}\n              ></Blocks>\n            );\n          })}\n        </div>\n      )}\n    </>\n  );\n}\nexport default Container;\n","/*\n\n * @Date: 2021-02-04 10:32:45\n * @LastEditors: \n * @LastEditTime: 2022-04-08 01:35:32\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\leftConfig.tsx\n */\nimport React, { ReactNode, useEffect, useMemo, useState } from \"react\";\nimport { Input, Menu } from \"antd\";\nimport {\n  dragEventResolve,\n  LeftRegistComponentMapItem,\n} from \"../core/crossDrag\";\nimport UserConfig from \"../config\";\nimport {\n  DoubleLeftOutlined,\n  DoubleRightOutlined,\n  SearchOutlined,\n} from \"@ant-design/icons\";\n\nimport styles from \"../index.less\";\n\ndeclare type modeType = \"horizontal\" | \"vertical\";\ninterface LeftConfigProps {\n  config: UserConfig;\n  showName?: Boolean;\n  footerConfig?: ReactNode;\n  mode?: modeType;\n}\n\n/**\n *\n * 注册加载左侧组件方法，由于异步拉取，所以要异步加载\n * 不同tab页可以使用不同type区分\n * @param {*} props -LeftConfigProps options可选项：showName:是否显示displayName; mode:'horizontal' | 'vertical' icon与文案展示方向 ;footerConfig:底部功能配置ReactNode类型；\n * @returns\n */\nfunction LeftConfig(props: LeftConfigProps) {\n  const [menuSelect, setMenuSelect] = useState(\"0\");\n  const [leftRender, setLeftRender] = useState<ReactNode | null>(null);\n\n  const [force, setForce] = useState(0);\n  useMemo(() => {\n    props.config.leftForceUpdate = () => {\n      setForce((v) => v + 1);\n    };\n  }, [props.config]);\n\n  const leftMapRenderListCategory = useMemo(() => {\n    return props.config.getConfig().leftRenderListCategory;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.config, force]);\n\n  const [search, setSearch] = useState(\"\");\n\n  useEffect(() => {\n    let cache: LeftRegistComponentMapItem[] = [];\n    const type = leftMapRenderListCategory[parseInt(menuSelect, 10)]?.type;\n    const isCustom =\n      leftMapRenderListCategory[parseInt(menuSelect, 10)]?.custom;\n    if (!isCustom) {\n      const config = props.config.getConfig();\n      cache = config.leftAllRegistMap.filter((k) => k.type === type);\n      cache.forEach((v) => props.config.asyncRegistComponent(v.component));\n      setLeftRender(\n        <div className={`${styles.leftco} yh-leftcomp`}>\n          <div\n            className=\"yh-left-top-wrapper\"\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              padding: \"10px\",\n            }}\n          >\n            <div\n              style={{\n                width: 120,\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n                whiteSpace: \"nowrap\",\n                height: 32,\n                lineHeight: \"32px\",\n                marginRight: \"10px\",\n                fontSize: \"14px\",\n                fontFamily: \"PingFangSC-Medium, PingFang SC\",\n                fontWeight: 600,\n                userSelect: \"none\",\n              }}\n            >\n              {leftMapRenderListCategory[parseInt(menuSelect, 10)].displayName}\n            </div>\n            <Input\n              className=\"yh-left-top-input\"\n              style={{\n                borderRadius: \"40px\",\n              }}\n              allowClear\n              value={search}\n              onChange={(e) => {\n                setSearch(e.target.value);\n              }}\n              prefix={<SearchOutlined />}\n            />\n          </div>\n          {search &&\n            search !== \"\" &&\n            cache\n              .reduce<LeftRegistComponentMapItem[]>((prev, next) => {\n                //筛选搜索条件，name或者displayName存在即显示\n                if (\n                  next.displayName.includes(search) ||\n                  next.component.includes(search)\n                ) {\n                  prev.push(next);\n                }\n                return prev;\n              }, [])\n              .map((v, index) => (\n                <div\n                  className={`${styles.coitem} yh-left-item-wrap`}\n                  key={index}\n                  {...dragEventResolve(v, props.config)}\n                >\n                  <div className={`${styles.redbox} yh-left-item-img-wrap`}>\n                    {v.imgCustom ? (\n                      v.imgCustom\n                    ) : (\n                      <img\n                        src={v.img}\n                        style={{ width: \"100%\", height: \"100%\" }}\n                        alt=\"component\"\n                      ></img>\n                    )}\n                  </div>\n\n                  <div\n                    style={{\n                      textAlign: \"center\",\n                      lineHeight: \"20px\",\n                      height: \"20px\",\n                      overflow: \"hidden\",\n                    }}\n                  >\n                    {v.displayName}\n                  </div>\n                </div>\n              ))}\n          {(!search || search === \"\") &&\n            cache.map((v, index) => (\n              <div\n                className={`${styles.coitem} yh-left-item-wrap`}\n                key={index}\n                {...dragEventResolve(v, props.config)}\n              >\n                <div className={`${styles.redbox} yh-left-item-img-wrap`}>\n                  {v.imgCustom ? (\n                    v.imgCustom\n                  ) : (\n                    <img\n                      src={v.img}\n                      style={{ width: \"100%\", height: \"100%\" }}\n                      alt=\"component\"\n                    ></img>\n                  )}\n                </div>\n                <div\n                  style={{\n                    textAlign: \"center\",\n                    lineHeight: \"20px\",\n                    height: \"20px\",\n                    overflow: \"hidden\",\n                  }}\n                >\n                  {v.displayName}\n                </div>\n              </div>\n            ))}\n        </div>\n      );\n    } else {\n      const render =\n        leftMapRenderListCategory[parseInt(menuSelect, 10)]?.customRender;\n      setLeftRender(\n        <div className={styles.leftco}>{render && render(props.config)}</div>\n      );\n    }\n  }, [menuSelect, props.config, leftMapRenderListCategory, search]);\n\n  const [isCollapse, setCollapse] = useState(props.config.getCollapse());\n  const [renderCollapse, setRenderCollaspe] = useState(\n    props.config.getCollapse()\n  );\n\n  return (\n    <div style={{ display: \"flex\", height: \"100%\" }}>\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n        <Menu\n          style={{ flex: 1 }}\n          defaultSelectedKeys={[menuSelect]}\n          mode=\"vertical\"\n          className={`${styles.menuWidth} ${styles.menus} yh-menu`}\n        >\n          {leftMapRenderListCategory.map((v, i) => {\n            return (\n              <Menu.Item\n                key={i}\n                onClick={() => setMenuSelect(i + \"\")}\n                icon={v.icon}\n                className={\n                  props.mode === \"vertical\"\n                    ? `${styles.menuStyle} ${styles.menus} yh-menuitem`\n                    : \"yh-menuitem\"\n                }\n              >\n                {props.showName && v.displayName}\n              </Menu.Item>\n            );\n          })}\n        </Menu>\n        <div\n          className={`${styles.menu_footer} yh-menufooter ant-menu-root ant-menu-vertical`}\n        >\n          {props.footerConfig}\n        </div>\n        <Menu selectedKeys={[]}>\n          <Menu.Item\n            key=\"1\"\n            onClick={() =>\n              setCollapse((pre) => {\n                if (pre) {\n                  setTimeout(() => {\n                    props.config.collapsed = false;\n                    setRenderCollaspe(false);\n                    props.config.getStore().forceUpdate();\n                  }, 300);\n                  return !pre;\n                } else {\n                  props.config.collapsed = true;\n                  setRenderCollaspe(true);\n                  props.config.getStore().forceUpdate();\n                  return !pre;\n                }\n              })\n            }\n            className={styles.menu_footer}\n            icon={isCollapse ? <DoubleRightOutlined /> : <DoubleLeftOutlined />}\n          ></Menu.Item>\n        </Menu>\n      </div>\n      <div\n        className={`${styles.yhLeftrender} ant-menu scrollbar`}\n        style={{\n          width: isCollapse ? 0 : 270,\n          paddingRight: isCollapse ? 0 : 7, // 这个是滚动条宽度\n          overflowX: \"hidden\",\n        }}\n      >\n        {!renderCollapse && leftRender}\n      </div>\n    </div>\n  );\n}\n\nexport default LeftConfig;\n","/*\n\n * @Date: 2021-03-14 05:40:37\n * @LastEditors: \n * @LastEditTime: 2022-04-23 18:01:55\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\preview.tsx\n */\nimport Container from \"./container\";\nimport React, {\n  ReactElement,\n  ReactNode,\n  useEffect,\n  useState,\n  CSSProperties,\n} from \"react\";\nimport UserConfig from \"../config\";\nimport { ComponentItemFactory } from \"..\";\n\nexport interface PreviewProps {\n  config: UserConfig;\n  /**\n   *\n   * loading node\n   * @type {ReactNode}\n   * @memberof PreviewProps\n   */\n  loadText?: ReactNode;\n  /**\n   *\n   * 手动维护状态\n   * @type {boolean}\n   * @memberof PreviewProps\n   */\n  loadingState?: boolean;\n  /**\n   *\n   * 页面链接完后调用\n   * @type {Function}\n   * @memberof PreviewProps\n   */\n  completeFn?: Function;\n  /**\n   *\n   * 预览样式\n   * @type {CSSProperties}\n   * @memberof PreviewProps\n   */\n  previewContainerStyle?: CSSProperties;\n}\n\nfunction Preview(props: PreviewProps): ReactElement {\n  const isEdit = props.config.getStore().isEdit();\n  /// 这里需要在渲染组件之前必须把所有config加载完成，否则会导致先运行的函数无法运行\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const finalFn = () => {\n      props.config.created();\n      props.config.createdFn.forEach((v) => v());\n      setTimeout(() => {\n        // 链接数据\n        props.config\n          .getDataCenter()\n          .initAddToDataMap(props.config.getStore().getData());\n        // 链接事件\n        props.config\n          .getEventCenter()\n          .syncEventMap(\n            props.config.getStore().getData(),\n            props.config.getStore()\n          );\n\n        // 设置全局\n        const global = props.config.getStore().getData().globalState;\n        const bodyColor = global?.bodyColor;\n        const title = global?.title;\n        if (title) {\n          document.title = title;\n        }\n        if (bodyColor) {\n          document.body.style.backgroundColor = bodyColor;\n        }\n        const customAnimate = global?.customAnimate;\n        if (customAnimate && Array.isArray(customAnimate)) {\n          // 插入自定义动画\n          props.config.animateFactory.fromArrInsertKeyFrame(customAnimate);\n        }\n\n        if (props.completeFn) {\n          props.completeFn();\n        }\n        props.config.beforeOnMounted();\n        props.config.beforeOnMountedFn.forEach((v) => v());\n        if (props.loadingState === undefined) {\n          setLoading(false);\n        }\n      });\n    };\n    // 加载 script\n    const scripts = props.config.getStore().getData().globalState[\"script\"];\n    if (scripts && Array.isArray(scripts) && scripts.length > 0) {\n      const fn = async () => {\n        const allp = scripts.map((v) => {\n          return () =>\n            new Promise<number>((res) => {\n              const s = document.createElement(\"script\");\n              s.src = v;\n              document.body.appendChild(s);\n              s.onload = () => {\n                const item = window[\n                  props.config.SCRIPTGLOBALNAME as any\n                ] as unknown as ComponentItemFactory;\n                try {\n                  props.config.registComponent(item);\n                } catch {\n                  console.error(\"read item fail:\", v);\n                }\n                document.body.removeChild(s);\n                res(0);\n              };\n            });\n        });\n        const allplen = allp.length;\n        for (let i = 0; i < allplen; i++) {\n          try {\n            await allp[i]();\n          } catch {\n            console.error(\"script load fail:\", scripts[i]);\n          }\n        }\n        finalFn();\n      };\n      fn();\n    } else {\n      finalFn();\n    }\n  }, [props, props.config]);\n\n  if (isEdit) {\n    // 正常情况不会走这\n    const store = props.config.getStore();\n    const data = store.getData();\n    store.changeModaltoNormal(data);\n    return (\n      <>\n        <Container\n          config={props.config}\n          context=\"preview\"\n          state={store.getData()}\n        ></Container>\n      </>\n    );\n  } else {\n    const loadingNode = (\n      <div>{props.loadText ? props.loadText : \"loading\"}</div>\n    );\n    const container = (\n      <>\n        <Container\n          config={props.config}\n          context=\"preview\"\n          state={props.config.getStore().getData()}\n          previewContainerStyle={props.previewContainerStyle}\n        ></Container>\n      </>\n    );\n    if (props.loadingState === undefined) {\n      if (loading) {\n        return loadingNode;\n      } else {\n        return container;\n      }\n    } else {\n      if (props.loadingState) {\n        return loadingNode;\n      } else {\n        return container;\n      }\n    }\n  }\n}\nexport default Preview;\n","/*\n\n * @Date: 2022-01-20 11:04:15\n * @LastEditors: \n * @LastEditTime: 2022-01-21 13:40:19\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\colorPicker\\index.tsx\n */\nimport React, { memo, useState } from \"react\";\nimport { RGBColor, SketchPicker } from \"react-color\";\n\nexport interface ColorPickerProps {\n  initColor: RGBColor;\n  onChange: (v: RGBColor) => void;\n}\n\nfunction ColorPicker(props: ColorPickerProps) {\n  const [color, setColor] = useState<RGBColor>(props.initColor);\n  const [colorPickerVisible, setColorPickerVisible] = useState(false);\n  return (\n    <>\n      <div style={{ position: \"relative\", display: \"flex\" }}>\n        <div\n          onClick={() => {\n            setColorPickerVisible((pre) => !pre);\n          }}\n          style={{\n            background: \"#fff\",\n            borderRadius: \"1px\",\n            boxShadow: \"0 0 0 1px rgba(0,0,0,.1)\",\n            cursor: \"pointer\",\n            display: \"inline-block\",\n          }}\n        >\n          <div\n            style={{\n              width: \"20px\",\n              height: \"20px\",\n              borderRadius: \"2px\",\n              background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})`,\n            }}\n          />\n        </div>\n        {colorPickerVisible && (\n          <>\n            <div\n              style={{\n                position: \"absolute\",\n                zIndex: 2000,\n                transform: `translate(-100%, 0px)`,\n              }}\n            >\n              <SketchPicker\n                color={color}\n                onChange={(c) => {\n                  const newcolor = c.rgb;\n                  setColor(newcolor);\n                  props.onChange(newcolor);\n                }}\n              ></SketchPicker>\n            </div>\n            <div\n              style={{\n                position: \"fixed\",\n                top: \"0px\",\n                right: \"0px\",\n                bottom: \"0px\",\n                left: \"0px\",\n                zIndex: 1000,\n              }}\n              onClick={() => setColorPickerVisible(false)}\n            ></div>\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default memo(ColorPicker);\n","/*\n\n * @Date: 2021-03-14 05:42:13\n * @LastEditors: \n * @LastEditTime: 2022-04-30 23:07:13\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\rightConfig.tsx\n */\nimport { CreateOptionsRes } from \"../core/components/formTypes\";\nimport { IBlockType, IStoreData } from \"../core/store/storetype\";\nimport {\n  CSSProperties,\n  PropsWithChildren,\n  ReactNode,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport React from \"react\";\nimport { Tabs, Input, Row, Col, Checkbox, InputNumber, Switch } from \"antd\";\nimport UserConfig from \"../config\";\nimport { rgba2Obj } from \"../core/utils\";\nimport deepcopy from \"deepcopy\";\nimport { replaceLocale } from \"../locale\";\nimport ColorPicker from \"./colorPicker\";\n\nconst colStyle: CSSProperties = {\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"flex-end\",\n};\nconst titletStyle: CSSProperties = {\n  display: \"flex\",\n  alignItems: \"center\",\n  userSelect: \"none\",\n  height: 32,\n};\ninterface RightConfigProps {\n  state: IStoreData;\n  config: UserConfig;\n  globalExtra?: ReactNode;\n  modalExtra?: ReactNode;\n}\n\n/**\n *\n * 这里一个需要异步拿取当前注册组件的配置项，另外需要异步加载所需的配置项。\n * @param {*} props\n * @returns\n */\nfunction RightConfig(props: PropsWithChildren<RightConfigProps>) {\n  const [menuSelect, setMenuSelect] = useState(\"0\");\n  const [current, setCurrent] = useState<IBlockType | null>(null);\n  const rightMapRenderListCategory = useMemo(() => {\n    return props.config.getConfig().rightRenderListCategory;\n  }, [props.config]);\n  const store = props.config.getStore();\n\n  useEffect(() => {\n    const fn = () => {\n      let item: IBlockType | undefined;\n      store.getData().block.some((v) => {\n        if (v.focus) {\n          item = v;\n        }\n        return v.focus === true;\n      });\n      if (item) {\n        setCurrent({ ...item });\n      } else {\n        setCurrent(null);\n      }\n    };\n    const unregist = store.subscribe(fn);\n    return () => {\n      unregist();\n    };\n  }, [store]);\n  const render = useMemo(() => {\n    return (type: string, current: IBlockType) => {\n      const fn = () =>\n        props.config.getComponentRegister().getComp(current.name);\n      const data = fn();\n      // 这里不可能拿不到组件，因为点击的那个组件已经渲染出来了\n      if (data) {\n        const renderList = data.props[type];\n        if (renderList) {\n          return renderList.map((v, i) => {\n            const Component = props.config.getFormRegister().formMap[v.type];\n            if (!Component) {\n              console.error(\n                `you might forgot to regist form component ${v.type}`\n              );\n              return null;\n            }\n            return (\n              // @ts-ignore\n              <Component\n                key={i}\n                data={v as CreateOptionsRes<any, any>}\n                current={current}\n                config={props.config}\n              ></Component>\n            );\n          });\n        } else {\n          return (\n            <div className=\"yh-right-noprops\" style={{ textAlign: \"center\" }}>\n              {replaceLocale(\"right.noprops\", \"还没有配置属性\", props.config)}\n            </div>\n          );\n        }\n      }\n      return null;\n    };\n  }, [props.config]);\n  const initColor = useMemo(() => {\n    return rgba2Obj(\n      props.config.getStore().getData().globalState.containerColor\n    );\n  }, [props.config]);\n  // const initColor2 = useMemo(() => {\n  //   return rgba2Obj(props.config.getStore().getData().globalState.bodyColor);\n  // }, [props.config]);\n  const initTitle = useMemo(() => {\n    return props.config.getStore().getData().globalState.title;\n  }, [props.config]);\n  const initDescription = useMemo(() => {\n    return props.config.getStore().getData().globalState.description;\n  }, [props.config]);\n  const [title, setTitle] = useState(initTitle);\n  const [description, setDescription] = useState(initDescription);\n\n  const customGlobal = props.config.getConfig().rightGlobalCustom;\n  const isEdit = props.config.getStore().isEdit();\n  const data = props.config.getStore().getData();\n  const modalName = data.modalEditName;\n  return (\n    <div\n      className=\"ant-menu right-pannel-wrap\"\n      style={{\n        height: \"100%\",\n        width: \"400px\",\n        overflow: \"auto\",\n        padding: \"0 10px\",\n        lineHeight: 1.5715,\n      }}\n    >\n      {current && (\n        <Tabs\n          activeKey={menuSelect}\n          style={{ width: \"100%\" }}\n          onChange={(e) => {\n            setMenuSelect(e);\n          }}\n        >\n          {rightMapRenderListCategory.map((v, i) => {\n            return (\n              <Tabs.TabPane tab={v.icon} key={i + \"\"}>\n                <div\n                  className=\"scrollbar right-pannel-tabdiv\"\n                  style={{\n                    height: \"calc(100vh - 110px)\",\n                    overflow: \"auto\",\n                    position: \"fixed\",\n                    width: 380,\n                  }}\n                >\n                  {v.custom &&\n                    v.customRender &&\n                    v.customRender(v.type, current, props.config)}\n                  {!v.custom && render(v.type, current)}\n                </div>\n              </Tabs.TabPane>\n            );\n          })}\n        </Tabs>\n      )}\n      {!current && !isEdit && !customGlobal && (\n        <div style={{ padding: \"10px\" }}>\n          <Row\n            style={{\n              padding: \"10px 0 20px 0\",\n              fontWeight: \"bold\",\n              userSelect: \"none\",\n            }}\n          >\n            {replaceLocale(\"right.global\", \"全局设置\", props.config)}\n          </Row>\n          <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              {replaceLocale(\"title\", \"标题\", props.config)}\n            </Col>\n            <Col span={18} style={colStyle}>\n              <Input\n                value={title}\n                onChange={(e) => {\n                  const val = e.target.value;\n                  setTitle(val);\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.globalState.title = val;\n                  props.config.getStore().setData(originData);\n                }}\n              />\n            </Col>\n          </Row>\n          <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              {replaceLocale(\"description\", \"描述\", props.config)}\n            </Col>\n            <Col span={18} style={colStyle}>\n              <Input\n                value={description}\n                onChange={(e) => {\n                  const val = e.target.value;\n                  setDescription(val);\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.globalState.description = val;\n                  props.config.getStore().setData(originData);\n                }}\n              />\n            </Col>\n          </Row>\n          <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              {replaceLocale(\"right.containerwidth\", \"容器宽度\", props.config)}\n            </Col>\n            <Col span={18} style={colStyle}>\n              <InputNumber\n                min={0}\n                disabled={true}\n                value={props.config.getStore().getData().container.width}\n                onChange={(e) => {\n                  const val = e;\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.container.width = val;\n                  props.config.getStore().setData(originData);\n                }}\n              />\n            </Col>\n          </Row>\n          <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              {replaceLocale(\"right.containerheight\", \"容器高度\", props.config)}\n            </Col>\n            <Col span={18} style={colStyle}>\n              <InputNumber\n                min={0}\n                value={props.config.getStore().getData().container.height}\n                onChange={(e) => {\n                  const val = e;\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.container.height = val;\n                  props.config.getStore().setData(originData);\n                }}\n              />\n            </Col>\n          </Row>\n          <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              {replaceLocale(\"right.containerColor\", \"容器底色\", props.config)}\n            </Col>\n            <Col span={18} style={colStyle}>\n              <ColorPicker\n                initColor={initColor}\n                onChange={(newcolor) => {\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.globalState.containerColor = `rgba(${newcolor.r}, ${newcolor.g}, ${newcolor.b}, ${newcolor.a})`;\n                  props.config.getStore().setData(originData);\n                }}\n              ></ColorPicker>\n            </Col>\n          </Row>\n          {/* <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              {replaceLocale(\"right.bodyColor\", \"body底色\", props.config)}\n            </Col>\n            <Col span={18} style={colStyle}>\n              <ColorPicker\n                initColor={initColor2}\n                onChange={(newcolor) => {\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.globalState.bodyColor = `rgba(${newcolor.r}, ${newcolor.g}, ${newcolor.b}, ${newcolor.a})`;\n                  props.config.getStore().setData(originData);\n                }}\n              ></ColorPicker>\n            </Col>\n          </Row> */}\n          {/* <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              {replaceLocale(\"right.lineHeight\", \"容器行高\", props.config)}\n            </Col>\n            <Col span={18} style={colStyle}>\n              <InputNumber\n                min={0}\n                step=\"0.1\"\n                value={\n                  props.config.getStore().getData().globalState?.lineHeight ??\n                  1.575\n                }\n                onChange={(e) => {\n                  const val = e;\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.globalState.lineHeight = val;\n                  props.config.getStore().setData(originData);\n                }}\n              />\n            </Col>\n          </Row> */}\n          {/* <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              {replaceLocale(\"right.fontSize\", \"容器字号\", props.config)}\n            </Col>\n            <Col span={18} style={colStyle}>\n              <InputNumber\n                min={0}\n                value={\n                  props.config.getStore().getData().globalState?.fontSize ?? 14\n                }\n                onChange={(e) => {\n                  const val = e;\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.globalState.fontSize = val;\n                  props.config.getStore().setData(originData);\n                }}\n              />\n            </Col>\n          </Row> */}\n          <Row style={{ padding: \"10px 0\" }}>\n            <Col span={6} style={{ ...titletStyle }}>\n              小程序\n            </Col>\n            <Col span={18} style={colStyle}>\n              <Switch\n                checked={props.config.getStore().getData().container.isMinwx}\n                onChange={(checked) => {\n                  const val = checked;\n                  const originData = deepcopy(\n                    props.config.getStore().getData()\n                  );\n                  originData.container.isMinwx = val;\n                  props.config.getStore().setData(originData);\n                }}\n              />\n            </Col>\n          </Row>\n          {props.globalExtra && props.globalExtra}\n        </div>\n      )}\n      {!current && !isEdit && customGlobal && customGlobal(props.config)}\n      {!current && isEdit && (\n        <div style={{ padding: \"10px\" }} className=\"yh-tcsz\">\n          <Row style={{ padding: \"10px 0 20px 0\", fontWeight: \"bold\" }}>\n            {replaceLocale(\"modal.control\", \"弹窗配置\", props.config)}\n          </Row>\n          <Row style={{ padding: \"10px 0\" }}>\n            <Col span={8} style={{ ...titletStyle }}>\n              {replaceLocale(\n                \"modal.control.remove\",\n                \"取消点击删除弹窗\",\n                props.config\n              )}\n            </Col>\n            <Col span={16} style={{ ...colStyle }}>\n              <Checkbox\n                checked={data.modalConfig[modalName] || false}\n                onChange={(e) => {\n                  const val = e.target.checked;\n                  const cloneData = deepcopy(data);\n                  cloneData.modalConfig[modalName] = val;\n                  props.config.getStore().setData(cloneData);\n                }}\n              ></Checkbox>\n            </Col>\n          </Row>\n          {props.modalExtra && props.modalExtra}\n        </div>\n      )}\n    </div>\n  );\n}\nexport default RightConfig;\n","import { unmountContextMenu } from \"../contextMenu\";\n\nexport const scaleCancelFn = () => {\n  unmountContextMenu();\n};\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-07-17 17:05:13\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\scale\\index.ts\n */\nimport UserConfig from \"../../config\";\nimport { scaleCancelFn } from \"./cancel\";\n\nexport const onWheelEvent = (config: UserConfig) => {\n  const store = config.getStore();\n  const scale = config.getScaleState();\n  return {\n    onWheel: (e: React.WheelEvent<HTMLDivElement>) => {\n      const dom = document.querySelector(\".ant-modal-mask\");\n      if (dom) {\n        //出现弹窗禁止滚动\n        return;\n      }\n      if (e.deltaY > 0) {\n        scaleCancelFn();\n        //往下滚缩小\n        if (scale.value > scale.minValue) {\n          scale.value = scale.value - 0.1;\n          store.forceUpdate();\n          config.refreshIframe();\n        }\n      } else {\n        scaleCancelFn();\n        //往上滚放大\n        if (scale.value < scale.maxValue) {\n          scale.value = scale.value + 0.1;\n          store.forceUpdate();\n          config.refreshIframe();\n        }\n      }\n    },\n  };\n};\n\nexport const scaleFn = {\n  increase(number: number = 0.1, config: UserConfig) {\n    const store = config.getStore();\n    const scaleState = config.getScaleState();\n    if (scaleState.value < scaleState.maxValue) {\n      scaleCancelFn();\n      scaleState.value = scaleState.value + number;\n      store.forceUpdate();\n      config.refreshIframe();\n    }\n    return scaleState.value;\n  },\n  decrease(number: number = 0.1, config: UserConfig) {\n    const store = config.getStore();\n    const scaleState = config.getScaleState();\n    scaleCancelFn();\n    if (scaleState.value > scaleState.minValue) {\n      scaleState.value = scaleState.value - number;\n      store.forceUpdate();\n      config.refreshIframe();\n    }\n    return scaleState.value;\n  },\n};\n\nexport const onWheelEventIframe = (\n  config: UserConfig,\n  scale: {\n    value: number;\n    maxValue: number;\n    minValue: number;\n  }\n) => {\n  return {\n    onWheel: (e: React.WheelEvent<HTMLDivElement>) => {\n      const dom = document.querySelector(\".ant-modal-mask\");\n      if (dom) {\n        //出现弹窗禁止滚动\n        return;\n      }\n      if (e.deltaY > 0) {\n        scaleCancelFn();\n        //往下滚缩小\n        if (scale.value > scale.minValue) {\n          scale.value = scale.value - 0.1;\n          config.sendParent({\n            type: \"update\",\n            column: \"scale\",\n            data: scale,\n          });\n        }\n      } else {\n        scaleCancelFn();\n        //往上滚放大\n        if (scale.value < scale.maxValue) {\n          scale.value = scale.value + 0.1;\n          config.sendParent({\n            type: \"update\",\n            column: \"scale\",\n            data: scale,\n          });\n        }\n      }\n    },\n  };\n};\n","/*\n\n * @Date: 2021-07-12 15:54:35\n * @LastEditors: \n * @LastEditTime: 2022-01-13 13:41:48\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\wrapperMove\\ticker.tsx\n */\nimport React, { useEffect, useRef, useState } from \"react\";\nimport UserConfig from \"../../config\";\n\nconst width = \"20px\";\nconst indent = 50;\n\nfunction Ticker(props: { config: UserConfig }) {\n  const topRef = useRef<HTMLDivElement>(null);\n  const leftRef = useRef<HTMLDivElement>(null);\n  const [topRender, setTopRender] = useState(0);\n  const [leftRender, setLeftRender] = useState(0);\n\n  const scale = props.config.getScaleState().value;\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (topRef.current) {\n        const width = topRef.current.getBoundingClientRect().width;\n        const renderWidth = Math.ceil(width / 10 / scale);\n        if (renderWidth < 2 ** 32 - 1) {\n          // new array的参数最大值\n          setTopRender(renderWidth);\n        }\n      }\n      // left可以不用放，但为了更新统一\n      if (leftRef.current) {\n        const height = leftRef.current.getBoundingClientRect().height;\n        const renderHeight = Math.ceil(height / 10 / scale);\n        if (renderHeight < 2 ** 32 - 1) {\n          setLeftRender(renderHeight);\n        }\n      }\n    }, 300);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [props.config, props.config.collapsed, scale]);\n\n  return (\n    <>\n      <div\n        ref={topRef}\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: indent,\n          width: \"100%\",\n          height: width,\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          userSelect: \"none\",\n        }}\n      >\n        {Array(topRender)\n          .fill(1)\n          .map((_, i) => {\n            if (i % 10 === 0) {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    background: \"rgb(204, 204, 204)\",\n                    width: \"1px\",\n                    height: \"12px\",\n                    position: \"relative\",\n                    userSelect: \"none\",\n                  }}\n                >\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      top: \"20px\",\n                      fontSize: \"10px\",\n                      left: \"-2px\",\n                      userSelect: \"none\",\n                    }}\n                  >\n                    {i}\n                  </div>\n                </div>\n              );\n            } else {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    background: \"rgb(204, 204, 204)\",\n                    width: \"1px\",\n                    height: \"6px\",\n                  }}\n                ></div>\n              );\n            }\n          })}\n      </div>\n      <div\n        ref={leftRef}\n        style={{\n          position: \"absolute\",\n          top: indent,\n          left: 0,\n          width: width,\n          height: \"100%\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          flexDirection: \"column\",\n          userSelect: \"none\",\n        }}\n      >\n        {Array(leftRender)\n          .fill(1)\n          .map((_, i) => {\n            if (i % 10 === 0) {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    background: \"rgb(204, 204, 204)\",\n                    width: \"12px\",\n                    height: \"1px\",\n                    position: \"relative\",\n                    userSelect: \"none\",\n                  }}\n                >\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      left: \"20px\",\n                      fontSize: \"10px\",\n                      top: \"-2px\",\n                      userSelect: \"none\",\n                    }}\n                  >\n                    {i}\n                  </div>\n                </div>\n              );\n            } else {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    background: \"rgb(204, 204, 204)\",\n                    width: \"6px\",\n                    height: \"1px\",\n                    userSelect: \"none\",\n                  }}\n                ></div>\n              );\n            }\n          })}\n      </div>\n    </>\n  );\n}\n\nexport default Ticker;\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-08-11 16:16:30\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\wrapperMove\\index.tsx\n */\nimport {\n  AllHTMLAttributes,\n  CSSProperties,\n  PropsWithChildren,\n  useRef,\n} from \"react\";\nimport { wrapperEvent } from \"./event\";\nimport { onWheelEvent } from \"../../core/scale\";\nimport React from \"react\";\nimport Ticker from \"./ticker\";\nimport UserConfig from \"../../config\";\nimport TimeLine from \"../timeLine/timeline\";\nimport styles from \"../../index.less\";\n\nexport interface ContainerWrapperProps\n  extends AllHTMLAttributes<HTMLDivElement> {\n  config: UserConfig;\n  classNames?: string;\n  style?: CSSProperties;\n}\n\nfunction ContainerWrapper(props: PropsWithChildren<ContainerWrapperProps>) {\n  const { children, style, classNames, config, ...rest } = props;\n  const ref = useRef<HTMLDivElement>(null);\n  const ticker = props.config.ticker;\n  return (\n    <div\n      className={`ant-menu ${classNames ? classNames : \"\"} ${\n        styles.yh_container_wrapper\n      }`}\n      ref={ref}\n      style={{\n        backgroundColor: \"#f0f0f0\",\n        height: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flex: 1,\n        position: \"relative\",\n        overflow: \"hidden\",\n        userSelect: \"none\",\n        ...style,\n      }}\n      {...wrapperEvent(ref, props.config)}\n      {...onWheelEvent(props.config)}\n      {...rest}\n    >\n      {config.timeline && <TimeLine config={config}></TimeLine>}\n      {children}\n      {ticker && <Ticker config={props.config}></Ticker>}\n    </div>\n  );\n}\nexport default ContainerWrapper;\n","/*\n\n * @Date: 2022-01-13 09:58:05\n * @LastEditors: \n * @LastEditTime: 2022-01-21 10:57:39\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\control\\settings.tsx\n */\n\nimport { Modal, Form, InputNumber, Radio, Select } from \"antd\";\nimport { MessageInstance } from \"antd/lib/message\";\nimport React, { useState } from \"react\";\nimport { memo } from \"react\";\nimport { UserConfig } from \"../../config/index\";\nimport { rgba2Obj } from \"../../core/utils/index\";\nimport { replaceLocale, zhCN } from \"../../locale\";\nimport ColorPicker from \"../colorPicker\";\n\nexport interface SettingsModalPropsType {\n  visible: boolean;\n  config: UserConfig;\n  onOk: Function;\n  onCancel: Function;\n  message: MessageInstance;\n}\nconst formItemLayout = {\n  labelCol: {\n    span: 12,\n  },\n  wrapperCol: {\n    span: 12,\n  },\n};\n\nfunction SettingsModal(props: SettingsModalPropsType) {\n  const [form] = Form.useForm();\n  const [color, setColor] = useState(\n    rgba2Obj(props.config.marklineConfig.borderColor)\n  );\n\n  return (\n    <Modal\n      width={800}\n      visible={props.visible}\n      okText={replaceLocale(\"yes\", \"确定\", props.config)}\n      cancelText={replaceLocale(\"no\", \"取消\", props.config)}\n      title={replaceLocale(\"system.setting\", \"系统设置\", props.config)}\n      onCancel={() => props.onCancel()}\n      onOk={() => {\n        const res = form.getFieldsValue();\n        const { min, max, borderStyle, containerOverFlow } = res;\n        if (max < min) {\n          props.message.error(\n            replaceLocale(\"error.minmax\", zhCN[\"error.minmax\"], props.config)\n          );\n          return;\n        }\n        // 判断当前scale大小，如果超出范围，取最低值\n        const currentScale = props.config.scaleState.value;\n        if (currentScale < min || currentScale > max) {\n          props.config.scaleState.value = min;\n        }\n        props.config.marklineConfig.borderColor = `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})`;\n        props.config.marklineConfig.borderStyle = borderStyle;\n        props.config.containerOverFlow = containerOverFlow;\n        props.onOk(res);\n        props.config.containerForceUpdate();\n        return;\n      }}\n    >\n      <Form\n        {...formItemLayout}\n        initialValues={{\n          absorb: props.config.marklineConfig.isAbsorb,\n          indent: props.config.marklineConfig.indent,\n          min: props.config.scaleState.minValue,\n          max: props.config.scaleState.maxValue,\n          autofocus: props.config.timelineConfig.autoFocus,\n          borderStyle: props.config.marklineConfig.borderStyle,\n          containerOverFlow: props.config.containerOverFlow,\n        }}\n        form={form}\n      >\n        <Form.Item\n          name=\"absorb\"\n          label={replaceLocale(\n            \"settings.openabsorb\",\n            zhCN[\"settings.openabsorb\"],\n            props.config\n          )}\n        >\n          <Radio.Group>\n            <Radio value={true}>\n              {replaceLocale(\"on\", zhCN[\"on\"], props.config)}\n            </Radio>\n            <Radio value={false}>\n              {replaceLocale(\"off\", zhCN[\"off\"], props.config)}\n            </Radio>\n          </Radio.Group>\n        </Form.Item>\n        <Form.Item\n          name=\"indent\"\n          label={replaceLocale(\n            \"settings.absorbindent\",\n            zhCN[\"settings.absorbindent\"],\n            props.config\n          )}\n        >\n          <InputNumber<number> min={0.1}></InputNumber>\n        </Form.Item>\n        <Form.Item\n          label={replaceLocale(\n            \"settings.marklineColor\",\n            zhCN[\"settings.marklineColor\"],\n            props.config\n          )}\n        >\n          <ColorPicker\n            initColor={rgba2Obj(props.config.marklineConfig.borderColor)}\n            onChange={(v) => {\n              setColor(v);\n            }}\n          ></ColorPicker>\n        </Form.Item>\n        <Form.Item\n          name=\"borderStyle\"\n          label={replaceLocale(\n            \"settings.marklineStyle\",\n            zhCN[\"settings.marklineStyle\"],\n            props.config\n          )}\n        >\n          <Select style={{ width: 88 }}>\n            <Select.Option value=\"dotted\">dotted</Select.Option>\n            <Select.Option value=\"solid\">solid</Select.Option>\n            <Select.Option value=\"dashed\">dashed</Select.Option>\n          </Select>\n        </Form.Item>\n        <Form.Item\n          name=\"min\"\n          // 最小值要大于0.1否则tiker计算有问题\n          label={replaceLocale(\n            \"settings.min\",\n            zhCN[\"settings.min\"],\n            props.config\n          )}\n        >\n          <InputNumber<number> min={0.1} step={0.1}></InputNumber>\n        </Form.Item>\n        <Form.Item\n          name=\"max\"\n          label={replaceLocale(\n            \"settings.max\",\n            zhCN[\"settings.max\"],\n            props.config\n          )}\n        >\n          <InputNumber<number> min={0.1} step={0.1}></InputNumber>\n        </Form.Item>\n        <Form.Item\n          name=\"autofocus\"\n          label={replaceLocale(\n            \"settings.autofocus\",\n            zhCN[\"settings.autofocus\"],\n            props.config\n          )}\n        >\n          <Radio.Group>\n            <Radio value={true}>\n              {replaceLocale(\"on\", zhCN[\"on\"], props.config)}\n            </Radio>\n            <Radio value={false}>\n              {replaceLocale(\"off\", zhCN[\"off\"], props.config)}\n            </Radio>\n          </Radio.Group>\n        </Form.Item>\n        <Form.Item\n          name=\"containerOverFlow\"\n          label={replaceLocale(\n            \"settings.containerOverflow\",\n            zhCN[\"settings.containerOverflow\"],\n            props.config\n          )}\n        >\n          <Radio.Group>\n            <Radio value={true}>\n              {replaceLocale(\"on\", zhCN[\"on\"], props.config)}\n            </Radio>\n            <Radio value={false}>\n              {replaceLocale(\"off\", zhCN[\"off\"], props.config)}\n            </Radio>\n          </Radio.Group>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n\nexport default memo(SettingsModal);\n","import {\n  // GatewayOutlined,\n  LayoutOutlined,\n  SettingOutlined,\n  SyncOutlined,\n  UnorderedListOutlined,\n  // VideoCameraOutlined,\n} from \"@ant-design/icons\";\nimport {\n  Button,\n  Form,\n  Input,\n  List,\n  message,\n  Modal,\n  Popconfirm,\n  // Popover,\n} from \"antd\";\nimport React, { CSSProperties, PropsWithChildren, useState } from \"react\";\nimport { UserConfig } from \"../..\";\nimport { wrapperMoveState } from \"../wrapperMove/event\";\nimport { replaceLocale } from \"../../locale\";\nimport { mouseUp, moveState } from \"./state\";\nimport SettingsModal from \"./settings\";\nimport deepcopy from \"deepcopy\";\n\nexport interface ControlProps {\n  config: UserConfig;\n  style?: CSSProperties;\n}\n\nexport function Control(props: PropsWithChildren<ControlProps>) {\n  const { style } = props;\n  const [visible, setVisible] = useState(false);\n  const [configVisible, setConfigVisible] = useState(false);\n  const [form] = Form.useForm();\n  const [settingVisible, setSettingVisible] = useState(false);\n  const [api, contextHolder] = message.useMessage();\n  const [xy, setXy] = useState({ x: 0, y: 0 });\n  return (\n    <>\n      <div\n        className=\"ant-menu\"\n        onMouseUp={mouseUp}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          transform: `translate(${xy.x}px,${xy.y}px)`,\n          ...style,\n        }}\n      >\n        {contextHolder}\n        <Button\n          onMouseDown={(e) => {\n            moveState.startX = e.clientX;\n            moveState.startY = e.clientY;\n            moveState.fn = setXy;\n            moveState.isMove = true;\n          }}\n          type=\"text\"\n          style={{ cursor: \"move\" }}\n          icon={<UnorderedListOutlined />}\n        ></Button>\n        <Button\n          icon={<LayoutOutlined />}\n          onClick={() => {\n            props.config.ticker = !props.config.ticker;\n            props.config.getStore().forceUpdate();\n          }}\n        ></Button>\n        {/* <Popover\n          placement=\"left\"\n          content={\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                alignItems: \"center\",\n                flexDirection: \"column\",\n              }}\n            >\n              <Button\n                block\n                onClick={() => {\n                  setVisible(true);\n                }}\n              >\n                {replaceLocale(\"modal.new\", \"新建弹窗\", props.config)}\n              </Button>\n              <Button\n                block\n                onClick={() => {\n                  setConfigVisible(true);\n                }}\n              >\n                {replaceLocale(\"modal.control\", \"弹窗配置\", props.config)}\n              </Button>\n            </div>\n          }\n        >\n          <Button icon={<GatewayOutlined />}></Button>\n        </Popover> */}\n\n        {/* <Button\n          icon={<VideoCameraOutlined />}\n          onClick={() => {\n            props.config.timeline = !props.config.timeline;\n            props.config.getStore().forceUpdate();\n          }}\n        ></Button> */}\n        <Button\n          icon={<SyncOutlined />}\n          onClick={() => {\n            wrapperMoveState.needX = 0;\n            wrapperMoveState.needY = 0;\n            props.config.getStore().forceUpdate();\n          }}\n        ></Button>\n        <Button\n          icon={<SettingOutlined />}\n          onClick={() => {\n            setSettingVisible(true);\n          }}\n        ></Button>\n      </div>\n\n      <Modal\n        title={replaceLocale(\"modal.control\", \"弹窗配置\", props.config)}\n        visible={configVisible}\n        onOk={() => setConfigVisible(false)}\n        onCancel={() => setConfigVisible(false)}\n        footer={null}\n      >\n        <List>\n          {props.config.getStore().isEdit() && (\n            <div>\n              {replaceLocale(\n                \"modal.popup.exit\",\n                \"请退出编辑弹窗后再打开该配置\",\n                props.config\n              )}\n            </div>\n          )}\n          {!props.config.getStore().isEdit() &&\n            Object.keys(props.config.getStore().getData().modalMap).map((v) => {\n              return (\n                <List.Item\n                  key={v}\n                  // @ts-ignore\n                  actions={[\n                    <Popconfirm\n                      title={replaceLocale(\n                        \"modal.popup.edit\",\n                        \"是否切换至该弹窗并进行编辑?\",\n                        props.config\n                      )}\n                      onConfirm={() => {\n                        const store = props.config.getStore();\n                        const clone = deepcopy(store.getData());\n                        const sign = store.changeNormalToModal(clone, v);\n                        if (!sign.success && sign.sign === 0) {\n                          api.error(\n                            replaceLocale(\n                              \"modal.popup.save\",\n                              \"请保存弹窗后编辑其他弹窗\",\n                              props.config\n                            )\n                          );\n                          return;\n                        }\n                        if (!sign.success && sign.sign === 1) {\n                          api.error(\n                            replaceLocale(\n                              \"modal.popup.notfond\",\n                              `未找到该弹窗 ${sign.param}`,\n                              props.config,\n                              { name: sign.param },\n                              \"未找到该弹窗 {name}\"\n                            )\n                          );\n                          return;\n                        }\n                        setConfigVisible(false);\n                        store.setData(clone);\n                      }}\n                      okText={replaceLocale(\"yes\", \"确定\", props.config)}\n                      cancelText={replaceLocale(\"no\", \"取消\", props.config)}\n                    >\n                      <Button type=\"link\">\n                        {replaceLocale(\"edit\", \"编辑\", props.config)}\n                      </Button>\n                    </Popconfirm>,\n\n                    <Popconfirm\n                      title=\"您确定要删除这个弹窗吗?\"\n                      onConfirm={() => {\n                        const sign = props.config.getStore().removeModal(v);\n                        if (!sign.success && sign.sign === 0) {\n                          api.error(\n                            replaceLocale(\n                              \"modal.popup.save\",\n                              \"请保存弹窗后编辑其他弹窗\",\n                              props.config\n                            )\n                          );\n                        }\n                        if (!sign.success && sign.sign === 1) {\n                          api.error(\n                            replaceLocale(\n                              \"modal.popup.notfond\",\n                              `未找到该弹窗 ${sign.param}`,\n                              props.config,\n                              { name: sign.param },\n                              \"未找到该弹窗 {name}\"\n                            )\n                          );\n                        }\n\n                        setConfigVisible(false);\n                      }}\n                      okText={replaceLocale(\"yes\", \"确定\", props.config)}\n                      cancelText={replaceLocale(\"no\", \"取消\", props.config)}\n                    >\n                      <Button type=\"link\">\n                        {replaceLocale(\"control.delete\", `删除`, props.config)}\n                      </Button>\n                    </Popconfirm>,\n                  ]}\n                >\n                  {v}\n                </List.Item>\n              );\n            })}\n          {!props.config.getStore().isEdit() &&\n            Object.keys(props.config.getStore().getData().modalMap).length ===\n              0 && (\n              <div style={{ textAlign: \"center\" }}>\n                {replaceLocale(\n                  \"modal.popup.nomodal\",\n                  `暂时没有弹窗`,\n                  props.config\n                )}\n              </div>\n            )}\n        </List>\n      </Modal>\n      <Modal\n        okText={replaceLocale(\"yes\", \"确定\", props.config)}\n        cancelText={replaceLocale(\"no\", \"取消\", props.config)}\n        onOk={() => {\n          form\n            .validateFields()\n            .then((values) => {\n              form.resetFields();\n              const modalName = values.modalName;\n              const sign = props.config.getStore().newModalMap(modalName);\n\n              if (!sign.succeess && sign.sign === 0) {\n                api.error(\n                  replaceLocale(\n                    \"modal.popup.save\",\n                    `请保存弹窗后编辑其他弹窗`,\n                    props.config\n                  )\n                );\n              }\n              if (!sign.succeess && sign.sign === 1) {\n                api.error(\n                  replaceLocale(\n                    \"modal.popup.repeat\",\n                    `已有重名弹窗 ${sign.param}`,\n                    props.config,\n                    {\n                      name: sign.param,\n                    },\n                    \"已有重名弹窗 {name}\"\n                  )\n                );\n              }\n              setVisible(false);\n            })\n            .catch((info) => {\n              console.log(\"Validate Failed:\", info);\n            });\n        }}\n        title={replaceLocale(\"modal.new\", \"新增弹窗\", props.config)}\n        onCancel={() => setVisible(false)}\n        visible={visible}\n      >\n        <Form layout=\"vertical\" name=\"basic\" form={form}>\n          <Form.Item\n            label={replaceLocale(\"modal.name\", \"弹窗名称\", props.config)}\n            name=\"modalName\"\n            rules={[\n              {\n                required: true,\n                message: replaceLocale(\n                  \"modal.popup.name\",\n                  \"请输入弹窗名称!\",\n                  props.config\n                ),\n              },\n            ]}\n          >\n            <Input />\n          </Form.Item>\n        </Form>\n      </Modal>\n      <SettingsModal\n        config={props.config}\n        visible={settingVisible}\n        onOk={(v: any) => {\n          props.config.marklineConfig.isAbsorb = v.absorb;\n          props.config.marklineConfig.indent = v.indent;\n          props.config.scaleState.minValue = v.min;\n          props.config.scaleState.maxValue = v.max;\n          props.config.timelineConfig.autoFocus = v.autofocus;\n          setSettingVisible(false);\n        }}\n        onCancel={() => setSettingVisible(false)}\n        message={api}\n      ></SettingsModal>\n    </>\n  );\n}\n\nexport default Control;\n","/*\n\n * @Date: 2022-04-09 21:44:55\n * @LastEditors: \n * @LastEditTime: 2022-04-24 00:34:55\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\leftDataPannel.tsx\n */\nimport {\n  Button,\n  Form,\n  Modal,\n  Row,\n  Space,\n  Table,\n  Input,\n  Typography,\n  message,\n  Popconfirm,\n} from \"antd\";\nimport { ColumnsType } from \"antd/lib/table\";\nimport React, { useState } from \"react\";\nimport UserConfig from \"../config\";\nimport { replaceLocale } from \"../locale\";\n\ninterface LeftDataPannelProps {\n  config: UserConfig;\n}\nconst formItemLayout = {\n  labelCol: {\n    span: 4,\n  },\n  wrapperCol: {\n    span: 20,\n  },\n};\n\nconst { Text } = Typography;\nconst reg =\n  /[`~!@#-_$%^&*()+=|{}':;',\\[\\]<>/?~！@#￥%……&*（）——+|{}【】《》 ‘；：”“’。，、？]/g;\n\n/**\n *\n * 左侧tab页插件\n * @param {LeftDataPannelProps} props\n * @returns\n */\nfunction LeftDataPannel(props: LeftDataPannelProps) {\n  const config = props.config;\n  const dataCenter = config.getDataCenter();\n  const dataMap = dataCenter.getDataMap();\n  const keys = Object.keys(dataMap);\n  const dataSource = keys.map((v) => ({ key: v, value: dataMap[v] }));\n  const forceUpdate = useState(0)[1];\n  const [addVisible, setAddVisible] = useState(false);\n  const [editVisible, setEditVisible] = useState(false);\n  const [current, setCurrent] = useState<Record<string, any>>({});\n\n  const column: ColumnsType<any> = [\n    {\n      title: \"Key\",\n      dataIndex: \"key\",\n      key: \"key\",\n    },\n    {\n      title: \"操作\",\n      align: \"center\",\n      render: (_v, record: any) => {\n        return (\n          <Space size=\"middle\">\n            <Button\n              type=\"link\"\n              onClick={() => {\n                const value =\n                  typeof record.value === \"object\"\n                    ? JSON.stringify(record.value)\n                    : record.value;\n                const obj = { value, key: record.key };\n                editForm.setFieldsValue(obj);\n                setCurrent(record);\n                setEditVisible(true);\n              }}\n            >\n              编辑\n            </Button>\n            <Popconfirm\n              title={replaceLocale(\n                \"control.popup.delete\",\n                \"确认删除么\",\n                config\n              )}\n              onConfirm={() => {\n                const newObj = { ...dataMap };\n                delete newObj[record.key];\n                dataCenter.staticSetToMap({ ...newObj }, props.config);\n                forceUpdate((v) => v + 1);\n              }}\n              okText={replaceLocale(\"yes\", \"确定\", config)}\n              cancelText={replaceLocale(\"no\", \"取消\", config)}\n            >\n              <Button type=\"link\">删除</Button>\n            </Popconfirm>\n          </Space>\n        );\n      },\n    },\n  ];\n  const [form] = Form.useForm();\n  const [editForm] = Form.useForm();\n\n  const formSubmit = (res: any) => {\n    let value: string = res.value;\n    value = value.replace(\"/s\", \"\").replace(\"↵\", \"\");\n    if (value.startsWith(\"{\")) {\n      try {\n        const json = JSON.parse(value);\n        const newObj = { [res.key]: json };\n        dataCenter.staticSetToMap({ ...dataMap, ...newObj }, props.config);\n        setAddVisible(false);\n        form.resetFields();\n      } catch (error) {\n        message.error(\"json格式转换失败\");\n      }\n    } else {\n      const newObj = { [res.key]: value };\n      dataCenter.staticSetToMap({ ...dataMap, ...newObj }, props.config);\n      setAddVisible(false);\n      form.resetFields();\n    }\n  };\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      <Row style={{ marginBottom: \"10px\" }}>\n        <Button\n          type=\"primary\"\n          onClick={() => {\n            setAddVisible(true);\n          }}\n        >\n          添加数据源\n        </Button>\n      </Row>\n      <Row>\n        <Table\n          pagination={false}\n          style={{ width: \"100%\" }}\n          dataSource={dataSource}\n          columns={column}\n        ></Table>\n      </Row>\n      {addVisible && (\n        <Modal\n          visible={addVisible}\n          title={\"添加数据源\"}\n          onCancel={() => {\n            setAddVisible(false);\n            form.resetFields();\n          }}\n          onOk={() => {\n            form.validateFields().then((res) => {\n              formSubmit(res);\n            });\n          }}\n          okText={replaceLocale(\"yes\", \"确定\", config)}\n          cancelText={replaceLocale(\"no\", \"取消\", config)}\n        >\n          <div>\n            <Form form={form} {...formItemLayout}>\n              <Form.Item\n                label=\"key\"\n                name={\"key\"}\n                rules={[\n                  { required: true, message: \"Please input your key\" },\n                  () => ({\n                    validator(_, value) {\n                      if (!keys.includes(value)) {\n                        return Promise.resolve();\n                      }\n                      return Promise.reject(new Error(\"Duplicate  keys!\"));\n                    },\n                  }),\n                  () => ({\n                    validator(_, value) {\n                      if (!reg.exec(value)) {\n                        return Promise.resolve();\n                      }\n                      return Promise.reject(new Error(\"invalid key\"));\n                    },\n                  }),\n                ]}\n              >\n                <Input></Input>\n              </Form.Item>\n              <Form.Item\n                label=\"value\"\n                name={\"value\"}\n                extra={\n                  <Text type=\"warning\">\n                    支持字符串、数字、JSON对象格式，直接输入内容即可\n                  </Text>\n                }\n                rules={[{ required: true, message: \"Please input your value\" }]}\n              >\n                <Input.TextArea></Input.TextArea>\n              </Form.Item>\n            </Form>\n          </div>\n        </Modal>\n      )}\n      {editVisible && (\n        <Modal\n          visible={editVisible}\n          title={\"修改数据源\"}\n          onCancel={() => {\n            setEditVisible(false);\n            editForm.resetFields();\n          }}\n          onOk={() => {\n            editForm.validateFields().then((res) => {\n              let value: string = res.value;\n              value = value.replace(\"/s\", \"\").replace(\"↵\", \"\");\n              if (value.startsWith(\"{\")) {\n                try {\n                  const json = JSON.parse(value);\n                  const newObj = { [current.key]: json };\n                  dataCenter.staticSetToMap(\n                    { ...dataMap, ...newObj },\n                    props.config\n                  );\n                  setEditVisible(false);\n                  editForm.resetFields();\n                } catch (error) {\n                  message.error(\"json格式转换失败\");\n                }\n              } else {\n                const newObj = { [current.key]: value };\n                dataCenter.staticSetToMap(\n                  { ...dataMap, ...newObj },\n                  props.config\n                );\n                setEditVisible(false);\n                editForm.resetFields();\n              }\n            });\n          }}\n          okText={replaceLocale(\"yes\", \"确定\", config)}\n          cancelText={replaceLocale(\"no\", \"取消\", config)}\n        >\n          <Form form={editForm}>\n            <Form.Item\n              label=\"value\"\n              name={\"value\"}\n              extra={\n                <Text type=\"warning\">\n                  支持字符串、数字、JSON对象格式，直接输入内容即可\n                </Text>\n              }\n              rules={[{ required: true, message: \"Please input your value\" }]}\n            >\n              <Input.TextArea></Input.TextArea>\n            </Form.Item>\n          </Form>\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default LeftDataPannel;\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: chentianshang\n * @LastEditTime: 2021-07-06 09:53:29\n * @FilePath: /DooringV2/packages/dooring-v2-lib/src/core/components/formComponentRegister.ts\n */\n\nimport { ComponentClass, FunctionComponent } from \"react\";\nimport { CreateOptionsRes } from \"./formTypes\";\nexport interface ContainerConfigItem {\n  type: string;\n  option: CreateOptionsRes<any, any>;\n}\nexport const formComponentRegisterFn = (\n  formComponent: FormComponentRegister,\n  modules: Record<string, FunctionComponent<any> | ComponentClass<any, any>>\n) => {\n  Object.keys(modules).forEach((v) => {\n    formComponent.register(v, modules[v]);\n  });\n};\n\n/**\n *\n * 拿到form组件地址和状态\n * 获取配置container配置项和普通组件配置项\n * @export\n * @class FormComponentRegister\n */\nexport class FormComponentRegister {\n  constructor(\n    public formMap: Record<\n      string,\n      FunctionComponent<any> | ComponentClass<any, any>\n    > = {},\n    public listener: Function[] = [],\n    public eventMap: Record<string, Function[]> = {},\n    public containerConfig: Array<ContainerConfigItem> = []\n  ) {}\n  getMap() {\n    return this.formMap;\n  }\n  getComp(name: string) {\n    return this.formMap[name];\n  }\n  getConfig() {\n    return this.containerConfig;\n  }\n  setConfig(config: Array<ContainerConfigItem>) {\n    this.containerConfig = config;\n  }\n  /**\n   *\n   *  同步注册方法\n   * @memberof FormComponentRegister\n   */\n  register(\n    name: string,\n    ele: FunctionComponent<any> | ComponentClass<any, any>\n  ) {\n    this.formMap[name] = ele;\n  }\n\n  emit() {\n    this.listener.forEach((v) => v());\n  }\n\n  on(event: string, fn: Function) {\n    if (!this.eventMap[event]) {\n      this.eventMap[event] = [];\n    }\n    this.eventMap[event].push(fn);\n    return () => this.eventMap[event].filter((v) => v !== fn);\n  }\n}\n","/*\n\n * @Date: 2021-04-08 19:59:01\n * @LastEditors: \n * @LastEditTime: 2022-04-24 00:14:25\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\functionCenter\\index.ts\n */\n\nimport UserConfig from \"../../config\";\nimport { EventCenterMapItem, EventCenterUserSelect } from \"../eventCenter\";\nimport Store from \"../store\";\nimport { specialFnList } from \"../utils/special\";\nimport { FunctionConfigType } from \"./config\";\n\n/**\n *\n * ctx可在事件链中传递，函数完成后调用next执行下一个函数\n * @export\n */\nexport type FunctionCenterFunction = (\n  ctx: Record<string, any>,\n  next: Function,\n  config: UserConfig,\n  args: Record<string, any>,\n  eventList: {\n    arr: Array<EventCenterMapItem>;\n    displayName: string;\n    userSelect: Array<EventCenterUserSelect>;\n  },\n  iname: EventCenterMapItem\n) => void;\n\nexport type FunctionCenterValue = {\n  fn: FunctionCenterFunction;\n  config: FunctionConfigType;\n  name: string;\n  componentId: string;\n};\n\nexport type FunctionCenterType = Record<string, FunctionCenterValue>;\n\n/**\n *\n * 初始化时可以加载初始已配好的函数\n * {}\n * @export\n * @class FunctionCenter\n */\nexport class FunctionCenter {\n  /**\n   *\n   * 该map 用于获取函数未获取到时，异步拉取\n   * @memberof FunctionCenter\n   */\n  public asyncMap: Record<string, Function> = {};\n  public configMap: Record<string, FunctionConfigType> = {};\n  public funcitonMap: Record<string, FunctionCenterFunction> = {};\n  public nameMap: Record<string, string> = {}; // id对名字\n  public componentIdMap: Record<string, Set<string>> = {}; // 组件id对函数id\n  constructor(public initConfig: FunctionCenterType = {}) {\n    this.init(initConfig);\n  }\n\n  init(initConfig: FunctionCenterType) {\n    this.reset();\n    this.funcitonMap = Object.keys(initConfig).reduce<\n      Record<string, FunctionCenterFunction>\n    >((prev, next) => {\n      prev[next] = initConfig[next].fn;\n      return prev;\n    }, {});\n    this.configMap = Object.keys(initConfig).reduce<\n      Record<string, FunctionConfigType>\n    >((prev, next) => {\n      prev[next] = initConfig[next].config;\n      return prev;\n    }, {});\n    this.nameMap = Object.keys(initConfig).reduce<Record<string, string>>(\n      (prev, next) => {\n        prev[next] = initConfig[next].name;\n        return prev;\n      },\n      {}\n    );\n    this.componentIdMap = Object.keys(initConfig).reduce<\n      Record<string, Set<string>>\n    >((prev, next) => {\n      const cid = initConfig[next].componentId;\n      if (prev[cid]) {\n        prev[cid].add(next);\n      } else {\n        prev[cid] = new Set([next]);\n      }\n      return prev;\n    }, {});\n  }\n\n  reset() {\n    this.funcitonMap = {};\n    this.configMap = {};\n    this.nameMap = {};\n    this.componentIdMap = {};\n  }\n\n  getFunctionMap() {\n    return this.funcitonMap;\n  }\n  getConfigMap() {\n    return this.configMap;\n  }\n  getNameMap() {\n    return this.nameMap;\n  }\n\n  /**\n   *\n   * 通过name查id\n   * @param {string} name\n   * @return {*}  {(string | undefined)}\n   * @memberof FunctionCenter\n   */\n  nameToKey(name: string): string | undefined {\n    const keys = Object.keys(this.nameMap);\n    const keylen = keys.length;\n    let result: string | undefined;\n    for (let i = 0; i < keylen; i++) {\n      const key = keys[i];\n      if (this.nameMap[key] === name) {\n        result = key;\n        break;\n      }\n    }\n    return result;\n  }\n\n  /**\n   *\n   *\n   * @param {{\n   * \t\tid: string;唯一值 注意！每个组件都要不一样，所以需要带着每个组件的id，这样也方便区分是哪个组件抛出的函数!!\n   * \t\tfn: FunctionCenterFunction;函数体\n   * \t\tconfig: FunctionConfigType;配置项\n   * \t\tname: string;显示名\n   * \t\tcomponentId: string;所属组件id名用于卸载函数\n   * \t}} obj\n   * @returns\n   * @memberof FunctionCenter\n   */\n  register(obj: {\n    id: string;\n    fn: FunctionCenterFunction;\n    config: FunctionConfigType;\n    name: string;\n    componentId: string;\n  }) {\n    const { id, fn, config, name, componentId } = obj;\n    // 注册时，需要通知asyncmap已经拿到\n    this.funcitonMap[id] = fn;\n    this.configMap[id] = config;\n    this.nameMap[id] = name;\n    if (this.componentIdMap[componentId]) {\n      this.componentIdMap[componentId].add(id);\n    } else {\n      this.componentIdMap[componentId] = new Set([id]);\n    }\n    if (this.asyncMap[id]) {\n      this.asyncMap[id]();\n    }\n    return () => {\n      delete this.funcitonMap[id];\n      delete this.configMap[id];\n      delete this.nameMap[id];\n      this.componentIdMap[componentId].delete(id);\n    };\n  }\n\n  /**\n   *\n   * 画布更新时检查所有组件，不存在的组件和其挂载函数则删除，剔除_inner下的\n   * @memberof FunctionCenter\n   */\n  syncFunction(store: Store) {\n    const special = specialFnList;\n    const allId: string[] = [];\n    const data = store.getData();\n    // modalmap上\n    const map = data.modalMap;\n    Object.keys(map).forEach((v) => {\n      map[v].forEach((k) => {\n        allId.push(k.id);\n      });\n    });\n    // block上\n    data.block.forEach((v) => {\n      allId.push(v.id);\n    });\n    if (store.isEdit()) {\n      // 额外origin上\n      if (data.origin)\n        data.origin?.forEach((v) => {\n          allId.push(v.id);\n        });\n    }\n    const needDelete: string[] = [];\n    Object.keys(this.componentIdMap).forEach((v) => {\n      if (!special.includes(v)) {\n        if (!allId.includes(v)) {\n          needDelete.push(v);\n        }\n      }\n    });\n\n    needDelete.forEach((v) => {\n      const ids = this.componentIdMap[v];\n      ids.forEach((id) => {\n        delete this.funcitonMap[id];\n        delete this.configMap[id];\n        delete this.nameMap[id];\n      });\n      delete this.componentIdMap[v];\n    });\n  }\n\n  /**\n   *\n   * 获取函数，包含异步获取函数 注意某些情况执行顺序\n   * @param {string} name\n   * @return {*}  {Promise<FunctionCenterFunction>}\n   * @memberof FunctionCenter\n   */\n  getFunction(name: string): Promise<FunctionCenterFunction> {\n    //如果拿不到，可能是异步，进行监听回调\n    const fn = this.funcitonMap[name];\n    if (fn) {\n      return Promise.resolve(fn);\n    }\n    return new Promise((resolve) => {\n      console.warn(`waiting the function now ${name} `);\n      this.asyncMap[name] = () => {\n        delete this.asyncMap[name];\n        resolve(this.getFunction(name));\n      };\n    });\n  }\n}\n","/*\n\n * @Date: 2021-04-08 20:22:43\n * @LastEditors: \n * @LastEditTime: 2021-06-28 16:08:56\n * @FilePath: \\DooringV2\\packages\\dooring-v2-lib\\src\\core\\eventCenter\\eventQuene.ts\n */\nimport { EventCenterMapItem, EventCenterUserSelect } from \".\";\nimport UserConfig from \"../../config\";\nimport { FunctionCenterFunction } from \"../functionCenter\";\n\nexport class EventQuene {\n  available: number;\n  waiters: Array<{\n    fn: FunctionCenterFunction;\n    args: any;\n    eventList: {\n      arr: Array<EventCenterMapItem>;\n      displayName: string;\n      userSelect: Array<EventCenterUserSelect>;\n    };\n    iname: EventCenterMapItem;\n  }>;\n  context: Record<string, any>;\n  config: UserConfig;\n  constructor(available: number = 1, config: UserConfig, context = {}) {\n    this.available = available;\n    this.waiters = [];\n    this._continue = this._continue.bind(this);\n    this.context = context;\n    this.config = config;\n  }\n  take(\n    task: FunctionCenterFunction,\n    args: Record<string, any>,\n    eventList: {\n      arr: Array<EventCenterMapItem>;\n      displayName: string;\n      userSelect: Array<EventCenterUserSelect>;\n    },\n    iname: EventCenterMapItem\n  ) {\n    if (this.available > 0) {\n      this.available--;\n      task(\n        this.context,\n        this.leave.bind(this),\n        this.config,\n        args,\n        eventList,\n        iname\n      );\n    } else {\n      this.waiters.push({ fn: task, args: args, eventList, iname });\n    }\n  }\n  leave() {\n    this.available++;\n    if (this.waiters.length > 0) {\n      this._continue();\n    }\n  }\n  _continue() {\n    if (this.available > 0) {\n      this.available--;\n      let task = this.waiters.shift();\n      if (task?.fn) {\n        task.fn(\n          this.context,\n          this.leave.bind(this),\n          this.config,\n          task.args,\n          task.eventList,\n          task.iname\n        );\n      }\n    }\n  }\n}\n","/*\n\n * @Date: 2021-04-06 19:33:17\n * @LastEditors: \n * @LastEditTime: 2022-04-24 00:18:18\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\eventCenter\\index.ts\n */\nimport UserConfig from \"../../config\";\nimport { FunctionCenter, FunctionCenterType } from \"../functionCenter\";\nimport { FunctionDataType } from \"../functionCenter/config\";\nimport Store from \"../store\";\nimport { IStoreData } from \"../store/storetype\";\nimport { EventQuene } from \"./eventQuene\";\n\n// 每个组件制作时可以抛出多个事件，事件名为id+自定义name，\n// 每个组件可以抛出多个函数，存在函数中心\n\nexport interface EventCenterMapItem {\n  name: string; // 函数名\n  args: Record<string, any>; // 输入参数都会变成对象传来，\n  data: Record<string, FunctionDataType>; // 用户选的种类 键是每个配置项名\n}\nexport interface EventCenterUserSelect {\n  uid: string;\n  value: string;\n  detail: Record<string, any>;\n}\n\nexport type EventCenterMapType = Record<\n  string,\n  {\n    arr: Array<EventCenterMapItem>;\n    displayName: string;\n    userSelect: Array<EventCenterUserSelect>;\n  }\n>;\n\nexport class EventCenter {\n  /**\n   * 该map需要存入store,值为函数的key的数组\n   * @param {Record<string, Array<string>>} [eventMap={}]\n   * @memberof EventCenter\n   */\n  public functionCenter: FunctionCenter;\n  constructor(\n    public eventMap: EventCenterMapType = {},\n    configFunction?: FunctionCenterType\n  ) {\n    this.functionCenter = new FunctionCenter(configFunction);\n  }\n\n  getFunctionCenter() {\n    return this.functionCenter;\n  }\n\n  getEventMap() {\n    return this.eventMap;\n  }\n  resetEventMap() {\n    this.eventMap = {};\n  }\n\n  /**\n   *\n   * 重置map进行收集事件 主要就是收集eventMap字段\n   * 这个应该优化在换store情况下。\n   * @param {IStoreData} data\n   * @memberof EventCenter\n   */\n  syncEventMap(data: IStoreData, store: Store) {\n    const sign = store.isEdit();\n    this.eventMap = {};\n    if (sign) {\n      // 收集源block数据\n      if (data.origin) {\n        data.origin.forEach((v) => {\n          this.eventMap = Object.assign(this.eventMap, v.eventMap);\n        });\n      }\n      //收集源modal数据\n      Object.keys(data.modalMap).forEach((v) => {\n        data.modalMap[v].forEach((k) => {\n          this.eventMap = Object.assign(this.eventMap, k.eventMap);\n        });\n      });\n      //收集当前modal数据\n      data.block.forEach((v) => {\n        this.eventMap = Object.assign(this.eventMap, v.eventMap);\n      });\n    } else {\n      data.block.forEach((v) => {\n        this.eventMap = Object.assign(this.eventMap, v.eventMap);\n      });\n      Object.keys(data.modalMap).forEach((v) => {\n        data.modalMap[v].forEach((k) => {\n          this.eventMap = Object.assign(this.eventMap, k.eventMap);\n        });\n      });\n    }\n  }\n\n  /**\n   *\n   * 手动更新状态eventMap\n   * @param {string} name\n   * @memberof EventCenter\n   */\n  manualUpdateMap(\n    name: string,\n    displayName: string,\n    arr?: Array<EventCenterMapItem>\n  ) {\n    if (!this.eventMap[name]) {\n      this.eventMap[name] = {\n        arr: [],\n        displayName: displayName,\n        userSelect: [],\n      };\n    }\n    if (arr && this.eventMap[name].displayName) {\n      this.eventMap[name].arr = arr;\n    } else if (arr && this.eventMap[name]) {\n      this.eventMap[name] = {\n        displayName,\n        arr,\n        userSelect: [],\n      };\n    }\n  }\n\n  /**\n   *\n   * 执行事件链\n   * @param {string} name\n   * @memberof EventCenter\n   */\n  async runEventQueue(name: string, config: UserConfig) {\n    const eventList = this.eventMap[name];\n    if (!eventList) {\n      console.error(`未查询到该事件${name}`);\n      return;\n    }\n    const arr = new EventQuene(1, config);\n    //如果组件异步加载，那么函数会过段时间载入，等同于异步函数\n    // 函数中心需要处理未找到时的异步处理情况\n    if (Array.isArray(eventList.arr)) {\n      for (let i of eventList.arr) {\n        const fn = await this.functionCenter.getFunction(i.name);\n        arr.take(fn, i.args, eventList, i);\n      }\n    }\n  }\n}\n","/*\n\n * @Date: 2021-04-13 11:20:55\n * @LastEditors: \n * @LastEditTime: 2022-04-23 17:54:22\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\dataCenter\\index.ts\n */\n\nimport UserConfig from \"../../config\";\nimport { IStoreData } from \"../store/storetype\";\n\n/**\n *\n * 用来管理页面数据，包括全局数据，做全局设置变量时可以加上\n * 使用Record<string,any>结构，每个组件的数据需要抛出并设定键进行通信。\n * @export\n * @class DataCenter\n */\nexport class DataCenter {\n  public asyncMap: Record<string, Function> = {};\n  constructor(public dataMap: Record<string, any> = {}) {}\n\n  /**\n   *\n   * 拿到map\n   * @return {*}\n   * @memberof DataCenter\n   */\n  getDataMap() {\n    return this.dataMap;\n  }\n\n  /**\n   *\n   * 用于设置map数据\n   * 在异步注册时会触发get的回调，动态不需要持久化\n   * @memberof DataCenter\n   */\n  setToMap(data: Record<string, any>) {\n    this.dataMap = Object.assign(this.dataMap, data);\n    Object.keys(data).forEach((v) => {\n      if (this.asyncMap[v]) {\n        this.asyncMap[v]();\n        delete this.asyncMap[v];\n      }\n    });\n  }\n\n  /**\n   *\n   * 静态设置map 和异步无关 静态需要持久化，datacenter存入store\n   * 该更新不放在redo undo处\n   * @param {Record<string, any>} data\n   * @memberof DataCenter\n   */\n  staticSetToMap(data: Record<string, any>, config: UserConfig) {\n    this.dataMap = data;\n    const store = config.getStore();\n    const storeCurrentData = store.getData();\n    storeCurrentData.dataSource = data;\n  }\n\n  /**\n   *\n   * 初始收集使用  -> to datacenter\n   * @param {IStoreData} data\n   * @memberof DataCenter\n   */\n  initAddToDataMap(data: IStoreData) {\n    this.dataMap = data.dataSource;\n  }\n\n  /**\n   *\n   * 获取值可异步\n   * @param {string} name\n   * @memberof DataCenter\n   */\n  getValue(name: string) {\n    const value = this.dataMap[name];\n    if (value) {\n      return Promise.resolve(value);\n    }\n    return new Promise((resolve) => {\n      this.asyncMap[name] = () => {\n        resolve(this.getValue(name));\n      };\n    });\n  }\n\n  /**\n   *\n   * 获取值不可异步\n   * @param {string} name\n   * @memberof DataCenter\n   */\n  get(name: string) {\n    const value = this.dataMap[name];\n    return value;\n  }\n}\n","import { IStoreData } from \"../core/store/storetype\";\nimport React, { useMemo } from \"react\";\nimport Blocks from \"./blocks\";\nimport UserConfig from \"../config\";\nimport * as ReactDOM from \"react-dom\";\nimport { deepCopy } from \"../core/utils\";\n\ninterface ModalRenderProps {\n  data: IStoreData;\n  name: string; //传递的modal名字\n  config: UserConfig; //需要拿到componentRegister\n  parentDom: HTMLDivElement;\n  rootDom: HTMLDivElement;\n}\n\nexport const unmountMap: Map<string, Function> = new Map();\n\nexport function ModalRender(props: ModalRenderProps) {\n  //先获取数据\n  const storeData = useMemo(() => {\n    const z = props.data.modalMap[props.name];\n    if (z) {\n      const data = deepCopy(z);\n      //需要把第一个mask扔了手动写一个\n      data.shift();\n      return { block: data };\n    }\n    return { block: [] };\n  }, [props.data.modalMap, props.name]);\n  const { parentDom, rootDom } = props;\n\n  const modalConfig = props.data.modalConfig[props.name];\n  //这里还要添加个关闭函数，\n  const unmount = useMemo(() => {\n    return () => {\n      if (parentDom && rootDom) {\n        ReactDOM.unmountComponentAtNode(parentDom);\n        rootDom.removeChild(parentDom);\n        rootDom.parentElement?.removeChild(rootDom);\n      }\n    };\n  }, [parentDom, rootDom]);\n\n  unmountMap.set(props.name, unmount);\n\n  return (\n    <>\n      <div\n        className=\"yh-container-modal\"\n        style={{\n          height: `100%`,\n          width: `100%`,\n          position: \"fixed\",\n          overflow: \"hidden\",\n        }}\n      >\n        {storeData.block.map((v) => {\n          return (\n            <Blocks\n              key={v.id}\n              config={props.config}\n              data={v}\n              context={\"preview\"}\n            ></Blocks>\n          );\n        })}\n        <div\n          onClick={() => {\n            if (!modalConfig) {\n              unmount();\n            }\n          }}\n          style={{\n            backgroundColor: \"#716f6f9e\",\n            width: \"100%\",\n            height: \"100%\",\n          }}\n        ></div>\n      </div>\n    </>\n  );\n}\n\nlet wrap: HTMLDivElement | null;\n\nexport const createModal = (\n  name: string,\n  data: IStoreData,\n  config: UserConfig\n) => {\n  if (wrap) {\n    wrap = null;\n  }\n  if (!name) {\n    return;\n  }\n\n  if (!wrap) {\n    wrap = document.createElement(\"div\");\n    wrap.style.cssText = `line-height:\n        1.5;text-align:\n        center;color: #333;\n        box-sizing: border-box;\n        margin: 0;\n        padding: 0;\n        list-style: none;\n        position: fixed;\n        z-index: 100000;\n        width: 100%;\n        height:100%;\n        top:0;\n        left: 0;`;\n    if (wrap) {\n      document.body.appendChild(wrap);\n    }\n  }\n  const divs = document.createElement(\"div\");\n  wrap.appendChild(divs);\n  ReactDOM.render(\n    <ModalRender\n      name={name}\n      data={data}\n      config={config}\n      parentDom={divs}\n      rootDom={wrap}\n    ></ModalRender>,\n    divs\n  );\n};\n","/*\n\n * @Date: 2021-07-07 10:28:09\n * @LastEditors: \n * @LastEditTime: 2021-07-07 23:16:31\n * @FilePath: \\DooringV2\\packages\\lowcode-lib\\src\\core\\scale\\state.ts\n */\nexport const scaleState = {\n  value: 0.8,\n  maxValue: 1.3,\n  minValue: 0.4,\n};\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-09-28 20:48:17\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\components\\abstract.ts\n */\nimport { ComponentItem } from \"./componentItem\";\n\nexport class ComponentItemFactory implements ComponentItem {\n  constructor(\n    public name: ComponentItem[\"name\"],\n    public display: ComponentItem[\"display\"],\n    public props: ComponentItem[\"props\"],\n    public initData: ComponentItem[\"initData\"],\n    public render: ComponentItem[\"render\"],\n    public resize: ComponentItem[\"resize\"] = true,\n    public needPosition: ComponentItem[\"needPosition\"] = true,\n    public init: ComponentItem[\"init\"] = () => {},\n    public destroy: ComponentItem[\"destroy\"] = () => {},\n    public remoteConfig: ComponentItem[\"remoteConfig\"] = {}\n  ) {}\n}\n","/*\n\n * @Date: 2021-04-04 20:35:11\n * @LastEditors: \n * @LastEditTime: 2022-04-23 18:36:23\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\components\\defaultFormComponents\\modalMask.tsx\n */\nimport { SaveOutlined } from \"@ant-design/icons\";\nimport { Button } from \"antd\";\nimport React from \"react\";\nimport { ComponentItemFactory } from \"../abstract\";\n\nconst MmodalMask = new ComponentItemFactory(\n  \"modalMask\",\n  \"模态框遮罩\",\n  {},\n  {\n    props: {},\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    zIndex: 999,\n    width: \"100%\",\n    height: \"100%\",\n    canDrag: false,\n  },\n  (_, context, store, config) => {\n    const container = store.getData().container;\n    return (\n      <div\n        style={{\n          width: context === \"preview\" ? \"100%\" : container.width,\n          height: context === \"preview\" ? \"100%\" : container.height,\n          backgroundColor: \"#716f6f9e\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        {context === \"edit\" && (\n          <Button\n            type=\"primary\"\n            shape=\"circle\"\n            title=\"save\"\n            style={{ position: \"absolute\", right: \"10px\", top: \"10px\" }}\n            icon={<SaveOutlined></SaveOutlined>}\n            onClick={() => {\n              config.getStore().closeModal();\n            }}\n          ></Button>\n        )}\n      </div>\n    );\n  },\n  true,\n  false\n);\n\nexport default MmodalMask;\n","export default {\n  Cancel: 3,\n  Help: 6,\n  Backspace: 8,\n  Tab: 9,\n  Clear: 12,\n  Enter: 13,\n  Shift: 16,\n  Control: 17,\n  Alt: 18,\n  Pause: 19,\n  CapsLock: 20,\n  Escape: 27,\n  Convert: 28,\n  NonConvert: 29,\n  Accept: 30,\n  ModeChange: 31,\n  \" \": 32,\n  PageUp: 33,\n  PageDown: 34,\n  End: 35,\n  Home: 36,\n  ArrowLeft: 37,\n  ArrowUp: 38,\n  ArrowRight: 39,\n  ArrowDown: 40,\n  Select: 41,\n  Print: 42,\n  Execute: 43,\n  PrintScreen: 44,\n  Insert: 45,\n  Delete: 46,\n  0: 48,\n  \")\": 48,\n  1: 49,\n  \"!\": 49,\n  2: 50,\n  \"@\": 50,\n  3: 51,\n  \"#\": 51,\n  4: 52,\n  $: 52,\n  5: 53,\n  \"%\": 53,\n  6: 54,\n  \"^\": 54,\n  7: 55,\n  \"&\": 55,\n  8: 56,\n  \"*\": 56,\n  9: 57,\n  \"(\": 57,\n  a: 65,\n  A: 65,\n  b: 66,\n  B: 66,\n  c: 67,\n  C: 67,\n  d: 68,\n  D: 68,\n  e: 69,\n  E: 69,\n  f: 70,\n  F: 70,\n  g: 71,\n  G: 71,\n  h: 72,\n  H: 72,\n  i: 73,\n  I: 73,\n  j: 74,\n  J: 74,\n  k: 75,\n  K: 75,\n  l: 76,\n  L: 76,\n  m: 77,\n  M: 77,\n  n: 78,\n  N: 78,\n  o: 79,\n  O: 79,\n  p: 80,\n  P: 80,\n  q: 81,\n  Q: 81,\n  r: 82,\n  R: 82,\n  s: 83,\n  S: 83,\n  t: 84,\n  T: 84,\n  u: 85,\n  U: 85,\n  v: 86,\n  V: 86,\n  w: 87,\n  W: 87,\n  x: 88,\n  X: 88,\n  y: 89,\n  Y: 89,\n  z: 90,\n  Z: 90,\n  OS: 91,\n  ContextMenu: 93,\n  F1: 112,\n  F2: 113,\n  F3: 114,\n  F4: 115,\n  F5: 116,\n  F6: 117,\n  F7: 118,\n  F8: 119,\n  F9: 120,\n  F10: 121,\n  F11: 122,\n  F12: 123,\n  F13: 124,\n  F14: 125,\n  F15: 126,\n  F16: 127,\n  F17: 128,\n  F18: 129,\n  F19: 130,\n  F20: 131,\n  F21: 132,\n  F22: 133,\n  F23: 134,\n  F24: 135,\n  NumLock: 144,\n  ScrollLock: 145,\n  VolumeMute: 181,\n  VolumeDown: 182,\n  VolumeUp: 183,\n  \";\": 186,\n  \":\": 186,\n  \"=\": 187,\n  \"+\": 187,\n  \",\": 188,\n  \"<\": 188,\n  \"-\": 189,\n  _: 189,\n  \".\": 190,\n  \">\": 190,\n  \"/\": 191,\n  \"?\": 191,\n  \"`\": 192,\n  \"~\": 192,\n  \"[\": 219,\n  \"{\": 219,\n  \"\\\\\": 220,\n  \"|\": 220,\n  \"]\": 221,\n  \"}\": 221,\n  \"'\": 222,\n  '\"': 222,\n  Meta: 224,\n  AltGraph: 225,\n  Attn: 246,\n  CrSel: 247,\n  ExSel: 248,\n  EraseEof: 249,\n  Play: 250,\n  ZoomOut: 251,\n};\n\nconst keymap: Record<string, string> = {\n  a: \"a\",\n  A: \"a\",\n  b: \"b\",\n  B: \"b\",\n  c: \"c\",\n  C: \"c\",\n  d: \"d\",\n  D: \"d\",\n  e: \"e\",\n  E: \"e\",\n  f: \"f\",\n  F: \"f\",\n  g: \"g\",\n  G: \"g\",\n  h: \"h\",\n  H: \"h\",\n  i: \"i\",\n  I: \"i\",\n  j: \"j\",\n  J: \"j\",\n  k: \"k\",\n  K: \"k\",\n  l: \"l\",\n  L: \"l\",\n  m: \"m\",\n  M: \"m\",\n  n: \"n\",\n  N: \"n\",\n  o: \"o\",\n  O: \"o\",\n  p: \"p\",\n  P: \"p\",\n  q: \"q\",\n  Q: \"q\",\n  r: \"r\",\n  R: \"r\",\n  s: \"s\",\n  S: \"s\",\n  t: \"t\",\n  T: \"t\",\n  u: \"u\",\n  U: \"u\",\n  v: \"v\",\n  V: \"v\",\n  w: \"w\",\n  W: \"w\",\n  x: \"x\",\n  X: \"x\",\n  y: \"y\",\n  Y: \"y\",\n  z: \"z\",\n  Z: \"z\",\n};\n\nexport const keycodeFilter = (key: string) => {\n  return keymap[key];\n};\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-07-12 14:52:28\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\command\\index.ts\n */\nimport UserConfig from \"../../config\";\nimport Store from \"../store\";\nimport { CommanderItem } from \"./commanderType\";\nimport { keycodeFilter } from \"./keycode\";\n\nclass CommanderWrapper {\n  constructor(\n    public store: Store,\n    public commandMap: Record<string, CommanderItem> = {},\n    public config: UserConfig\n  ) {}\n  getList() {\n    return this.commandMap;\n  }\n  register(item: CommanderItem) {\n    item.init();\n    if (this.commandMap[item.name]) {\n      // console.error(`${item.name} commander has registed`);\n      return;\n    }\n    this.commandMap[item.name] = item;\n    //注册快捷键，快捷键执行调用excute\n    const remove = this.registerKeyBoard(item);\n    //改写销毁方法\n    const origindestroy = item.destroy;\n    const newdestroy = () => {\n      remove();\n      origindestroy();\n    };\n    item.destroy = newdestroy;\n  }\n\n  registerKeyBoard(current: CommanderItem) {\n    if (current.keyboard.length === 0) {\n      return () => {};\n    }\n    const onKeydown = (e: KeyboardEvent) => {\n      if (\n        document.activeElement !== document.body &&\n        e.target !== document.body\n      ) {\n        return;\n      }\n      const { shiftKey, altKey, ctrlKey, metaKey, key } = e;\n      const keyString: string[] = [];\n      if (ctrlKey || metaKey) keyString.push(\"Control\");\n      if (shiftKey) keyString.push(\"Shift\");\n      if (altKey) keyString.push(\"Alt\");\n      if (key !== \"Control\" && key !== \"Shift\" && key !== \"Alt\") {\n        const res = keycodeFilter(key);\n        if (res !== undefined) {\n          keyString.push(res);\n        } else {\n          keyString.push(key);\n        }\n      }\n      const keyname = keyString.join(\"+\");\n      if (current.keyboard === keyname) {\n        current.excute(this.store, this.config);\n        e.stopPropagation();\n        e.preventDefault();\n      }\n    };\n    window.addEventListener(\"keydown\", onKeydown);\n    return () => window.removeEventListener(\"keydown\", onKeydown);\n  }\n\n  unRegister(name: string) {\n    if (!this.commandMap[name]) {\n      console.error(`${name} commander not found`);\n      return;\n    }\n    const item = this.commandMap[name];\n    item.destroy();\n    delete this.commandMap[item.name];\n  }\n  exec(name: string, options?: any) {\n    if (!this.commandMap[name]) {\n      console.error(`${name} commander not found`);\n      return;\n    }\n    this.commandMap[name].excute(this.store, this.config, options);\n  }\n}\nexport default CommanderWrapper;\n","/*\n\n * @Date: 2021-03-14 12:06:20\n * @LastEditors: \n * @LastEditTime: 2021-03-14 12:06:50\n * @FilePath: \\dooring-v2\\src\\core\\focusHandler\\state.ts\n */\nimport { IBlockType } from \"../store/storetype\";\nexport interface FocusStateType {\n  blocks: IBlockType[];\n}\nexport const focusState: FocusStateType = {\n  blocks: [],\n};\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2022-04-06 22:21:00\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\components\\index.ts\n */\nimport { ComponentItemFactory } from \"./abstract\";\nimport { ComponentItem } from \"./componentItem\";\n\n/**\n *\n * 注册组件需要异步的，由注册时效果决定。\n * 主要是存放所有已注册组件。可以在其render时提供对应context\n * @class ComponentRegister\n */\nclass ComponentRegister {\n  constructor(\n    public componentMap: Record<string, ComponentItem> = {},\n    public componentList: ComponentItem[] = [],\n    public listener: Function[] = [],\n    public eventMap: Record<string, Function[]> = {}\n  ) {}\n  getMap() {\n    return this.componentMap;\n  }\n  getList() {\n    return this.componentList;\n  }\n  getComp(name: string) {\n    return this.componentMap[name];\n  }\n\n  subscribe(fn: Function) {\n    this.listener.push(fn);\n    return () => this.listener.filter((v) => v !== fn);\n  }\n\n  emit() {\n    this.listener.forEach((v) => v());\n  }\n\n  on(event: string, fn: Function) {\n    if (!this.eventMap[event]) {\n      this.eventMap[event] = [];\n    }\n    this.eventMap[event].push(fn);\n    return () => this.eventMap[event].filter((v) => v !== fn);\n  }\n  emitEvent(event: string) {\n    if (!this.eventMap[event]) {\n      return;\n    }\n    this.eventMap[event].forEach((v) => v());\n  }\n\n  register(item: ComponentItem) {\n    if (this.componentMap[item.name]) {\n      // console.error(`${item.name} component has registed`);\n      return;\n    }\n    if (!(item instanceof ComponentItemFactory)) {\n      console.error(item, \"may be a problem in register\");\n    }\n\n    this.componentMap[item.name] = item;\n    this.componentList.push(item);\n    this.emit();\n    item.init();\n  }\n\n  unRegister(name: string) {\n    if (!this.componentMap[name]) {\n      console.error(`${name} component not found`);\n      return;\n    }\n    const item = this.componentMap[name];\n    item.destroy();\n    this.emit();\n    this.componentList = this.componentList.filter((v) => v !== item);\n    delete this.componentMap[item.name];\n  }\n}\nexport default ComponentRegister;\n","/*\n\n * @Date: 2022-04-23 17:03:36\n * @LastEditors: \n * @LastEditTime: 2022-04-23 17:03:37\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\store\\createModal.ts\n */\nimport { createUid } from \"../utils\";\nimport { IStoreData } from \"./storetype\";\n\nexport function createDefaultModalBlock(): IStoreData[\"block\"] {\n  return [\n    {\n      id: createUid(\"modal-mask\"),\n      name: \"modalMask\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      zIndex: 0,\n      props: {},\n      resize: true,\n      focus: false,\n      canSee: true,\n      position: \"absolute\",\n      display: \"block\",\n      syncList: [],\n      canDrag: false,\n      eventMap: {},\n      functionList: [],\n      animate: [],\n      fixed: true,\n      rotate: {\n        value: 0,\n        canRotate: false,\n      },\n    },\n  ];\n}\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2022-04-23 18:53:36\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\core\\store\\index.ts\n */\nimport deepcopy from \"deepcopy\";\nimport { createDefaultModalBlock } from \"./createModal\";\nimport { IBlockType, IStoreData } from \"./storetype\";\n\nexport const initialData: IStoreData = {\n  container: {\n    width: 375,\n    height: 667,\n    isMinwx: true,\n  },\n  block: [],\n  modalMap: {},\n  dataSource: {},\n  globalState: {},\n  modalConfig: {},\n  origin: null,\n  modalEditName: \"\",\n};\n\nclass Store {\n  static instance: Store;\n  constructor(\n    public storeDataList: IStoreData[] = [initialData],\n    public listeners: Array<Function> = [],\n    public current: number = 0,\n    public forceupdate: Function = () => {}\n  ) {}\n\n  getData() {\n    return this.storeDataList[this.current];\n  }\n  getStoreList() {\n    return this.storeDataList;\n  }\n\n  getListeners() {\n    return this.listeners;\n  }\n\n  getIndex() {\n    return this.current;\n  }\n  getOriginBlock() {\n    if (this.isEdit()) {\n      return this.getData().origin as IBlockType[];\n    } else {\n      return this.getData().block;\n    }\n  }\n\n  /**\n   *\n   * 编辑状态转普通\n   * @param {IStoreData} data\n   * @returns\n   * @memberof Store\n   */\n  changeModaltoNormal(data: IStoreData) {\n    if (data.modalEditName === \"\") {\n      return;\n    }\n    const tmp = data.origin || [];\n    data.modalMap = { ...data.modalMap, [data.modalEditName]: data.block };\n    data.block = tmp;\n    data.modalEditName = \"\";\n    data.origin = null;\n    return {};\n  }\n  /**\n   *\n   * 非编辑转编辑且已有弹窗\n   * @param {IStoreData} data\n   * @returns\n   * @memberof Store\n   */\n  changeNormalToModal(data: IStoreData, name: string) {\n    if (data.modalEditName !== \"\") {\n      return {\n        success: false,\n        sign: 0,\n      };\n    }\n    const sign2 = this.isInModalMap(name);\n    if (!sign2) {\n      return {\n        success: false,\n        sign: 1,\n        param: name,\n      };\n    }\n    const tmp = data.block || [];\n    const modalBlock = data.modalMap[name];\n    data.block = modalBlock;\n    data.modalEditName = name;\n    data.origin = tmp;\n    return { success: true, sign: -1 };\n  }\n  /**\n   *\n   * 非编辑状态新增\n   * @param {IStoreData} data\n   * @returns\n   * @memberof Store\n   */\n  newModaltoNormal(data: IStoreData, name: string) {\n    if (data.modalEditName !== \"\") {\n      return;\n    }\n    const tmp = data.block || [];\n    const modalBlock = createDefaultModalBlock();\n    data.modalMap = { ...data.modalMap, [name]: modalBlock };\n    data.block = modalBlock;\n    data.modalEditName = name;\n    data.origin = tmp;\n  }\n\n  /**\n   *\n   * 判断是否编辑\n   * @returns\n   * @memberof Store\n   */\n  isEdit() {\n    if (this.getData().modalEditName !== \"\") {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   *\n   *  判断有没有这个弹窗\n   * @param {Store} store\n   * @param {string} name\n   * @returns\n   * @memberof Store\n   */\n  isInModalMap(name: string) {\n    const modalNameList = Object.keys(this.getData().modalMap);\n    if (modalNameList.includes(name)) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   *\n   * 保存现阶段store，将store替换为新modal数据\n   */\n  newModalMap(name: string) {\n    const sign = this.isEdit();\n    if (sign) {\n      return {\n        succeess: false,\n        sign: 0,\n      };\n    }\n    //新建modal name不能重名，否则直接报错\n    const sign2 = this.isInModalMap(name);\n    if (sign2) {\n      return {\n        succeess: false,\n        sign: 1,\n        param: name,\n      };\n    }\n    const copyData = deepcopy(this.getData());\n    this.newModaltoNormal(copyData, name);\n    this.setData(copyData);\n    return {\n      succeess: true,\n      sign: -1,\n    };\n  }\n\n  /**\n   *\n   * 存储modal到主store的map中，切换主store\n   * @memberof StoreChanger\n   */\n  closeModal() {\n    const sign = this.isEdit();\n    if (!sign) {\n      return {\n        success: false,\n        sign: 0,\n      };\n    }\n    const data = deepcopy(this.getData());\n    this.changeModaltoNormal(data);\n    this.setData(data);\n    return {\n      success: true,\n      sign: 0,\n    };\n  }\n  /**\n   *\n   * 删除弹窗，不能处于编辑弹窗状态\n   * @param {string} name\n   * @returns\n   */\n  removeModal(name: string) {\n    const sign = this.isEdit();\n    if (sign) {\n      return {\n        success: false,\n        sign: 0,\n      };\n    }\n    const sign2 = this.isInModalMap(name);\n    if (!sign2) {\n      return {\n        success: false,\n        sign: 1,\n        param: name,\n      };\n    }\n    const cloneData: IStoreData = deepcopy(this.getData());\n    delete cloneData.modalMap[name];\n    this.setData(cloneData);\n    return {\n      success: true,\n      sign: -1,\n    };\n  }\n  /**\n   *\n   * 重置需要注册事件\n   * @param {IStoreData[]} initData\n   * @param {boolean} [check=false] 清空编辑弹窗状态\n   * @memberof Store\n   */\n  resetToInitData(initData: IStoreData[], check = false) {\n    this.storeDataList = initData;\n    this.current = 0;\n    const d = this.getData();\n    //如果是编辑模式，需要修改\n    if (d.modalEditName !== \"\" && check) {\n      this.changeModaltoNormal(d);\n    }\n    this.emit();\n  }\n  /**\n   *\n   * 注意重置需要注册事件\n   * @param {IStoreData[]} initData\n   * @param {number} current\n   * @param {boolean} [check=false]\n   * @memberof Store\n   */\n  resetToCustomData(initData: IStoreData[], current: number, check = false) {\n    this.storeDataList = initData;\n    this.current = current;\n    //如果是编辑模式，需要修改\n    const d = this.getData();\n    if (d.modalEditName !== \"\" && check) {\n      this.changeModaltoNormal(d);\n    }\n    this.emit();\n  }\n  resetListeners() {\n    this.listeners = [];\n  }\n\n  replaceList(list: IStoreData[]) {\n    this.storeDataList = list;\n  }\n\n  setForceUpdate(fn: Function) {\n    this.forceupdate = fn;\n  }\n  forceUpdate() {\n    this.forceupdate();\n  }\n\n  setIndex(num: number) {\n    this.current = num;\n  }\n\n  redo() {\n    const maxLength = this.storeDataList.length;\n    if (this.current + 1 < maxLength) {\n      this.current = this.current + 1;\n      this.emit();\n    }\n  }\n\n  undo() {\n    if (this.current > 0) {\n      this.current = this.current - 1;\n      this.emit();\n    }\n  }\n\n  cleanRedundant(index: number) {\n    this.storeDataList = this.storeDataList.slice(0, index + 1);\n  }\n\n  setData(data: IStoreData) {\n    // 如果current不是最后那个，说明后面的被undo过的，如果要新增，那么需要清除之前的\n    let flag = true;\n    if (this.current + 1 !== this.storeDataList.length) {\n      this.cleanRedundant(this.current);\n      flag = false;\n    }\n    this.current = this.current + 1;\n    this.storeDataList[this.current] = data;\n    if (flag && this.current + 1 !== this.storeDataList.length) {\n      this.storeDataList.length = this.current + 1;\n    }\n\n    this.emit();\n  }\n\n  cleanLast() {\n    if (this.current <= 1) {\n      return;\n    }\n    const removeIndex = this.current - 1;\n    this.storeDataList.splice(removeIndex, 1);\n    this.current = this.current - 1;\n  }\n\n  emit() {\n    this.listeners.forEach((fn) => {\n      fn(this.getData());\n    });\n  }\n\n  subscribe(listener: Function) {\n    this.listeners.push(listener);\n    return () =>\n      (this.listeners = this.listeners.filter((v) => v !== listener));\n  }\n}\n\nexport default Store;\n","import UserConfig from \"../../config\";\nimport {\n  CustomAnimateObj,\n  IMainStoreData,\n  IStoreData,\n} from \"../store/storetype\";\nimport { deepCopy } from \"../utils\";\n\n/**\n *\n *  opacity: 100\n    percent: 0\n    positionX: 0\n    positionY: 0\n    rotate: 0\n    scale: 100\n * @export 转换使用\n * @interface TransformItemObj\n */\nexport interface TransformItemObj {\n  opacity: number;\n  percent: number;\n  positionX: number;\n  positionY: number;\n  rotate: number;\n  scale: number;\n}\n\n/**\n *\n *\n * @export 用户输入对象\n * @interface TransformItem\n */\nexport interface TransformItem {\n  displayName: string;\n  animateName: string;\n  keyframes: TransformItemObj[];\n}\nexport const styleSheetId = \"dooringx_dynamic_style\";\nexport class AnimateFactory {\n  constructor(public customAnimateName: Array<CustomAnimateObj> = []) {}\n\n  getCustomAnimateName() {\n    return this.customAnimateName;\n  }\n  searchSheet(): null | CSSStyleSheet {\n    let sheet: null | CSSStyleSheet = null;\n    Array.from(document.styleSheets).forEach((v) => {\n      const node = v?.ownerNode as Element;\n      if (node?.id === styleSheetId) {\n        sheet = v;\n      }\n    });\n    return sheet;\n  }\n\n  getStyleSheets() {\n    let sheet = this.searchSheet();\n    if (!sheet) {\n      let style = document.createElement(\"style\");\n      style.id = styleSheetId;\n      style.appendChild(document.createTextNode(\"\"));\n      document.head.appendChild(style);\n    }\n    sheet = this.searchSheet();\n    return sheet;\n  }\n\n  /**\n   *\n   * 插入动画\n   * @param {string} ruleText\n   * @memberof AnimateFactory\n   */\n  inserKeyframeAnimate(ruleText: string) {\n    const sheet = this.getStyleSheets();\n    if (sheet) sheet.insertRule(ruleText, sheet.cssRules.length);\n  }\n\n  /**\n   *\n   * 删除keyframe\n   * @param {string} animateName\n   * @returns\n   * @memberof AnimateFactory\n   */\n  deleteKeyFrameAnimate(animateName: string) {\n    const sheets = this.getStyleSheets();\n    if (!sheets) {\n      return;\n    }\n    const len = sheets.cssRules.length;\n    let ss = null;\n    for (let i = 0; i < len; i++) {\n      const rule = sheets.cssRules[i] as CSSKeyframesRule;\n      const name = rule?.name;\n      if (name && name === animateName) {\n        ss = i;\n      }\n    }\n    if (ss !== null) {\n      sheets.deleteRule(ss);\n    }\n  }\n\n  /**\n   *\n   * 配置时使用\n   * @param {Array<CustomAnimateObj>} [customAnimateNameArr=[]]\n   * @memberof AnimateFactory\n   */\n  addCustomAnimate(customAnimateNameArr: Array<CustomAnimateObj> = []) {\n    this.customAnimateName = [\n      ...this.customAnimateName,\n      ...customAnimateNameArr,\n    ];\n  }\n\n  /**\n   *\n   * 删除使用animateName 防止displayName重名 用完需要同步store\n   * @param {string} animateName\n   * @memberof AnimateFactory\n   */\n  deleteCustomAnimate(animateName: string) {\n    this.customAnimateName = this.customAnimateName.filter(\n      (v) => v.animateName !== animateName\n    );\n  }\n\n  /**\n   *\n   * 从配置项插入动画 导入设置\n   * @memberof AnimateFactory\n   */\n  fromArrInsertKeyFrame(\n    customAnimateName: Array<CustomAnimateObj> = this.customAnimateName\n  ) {\n    customAnimateName.forEach((v) => {\n      this.inserKeyframeAnimate(v.keyframe);\n    });\n  }\n\n  /**\n   *\n   * 将this.customAnimateName写入store\n   * @memberof AnimateFactory\n   */\n  syncToStore(config: UserConfig) {\n    // 先判断global的位置\n    const store = config.getStore();\n    let data = store.getData();\n    const copy = deepCopy(data);\n    const originGlobal = copy.globalState as IMainStoreData[\"globalState\"];\n    originGlobal.customAnimate = [...this.customAnimateName];\n    store.setData(copy);\n  }\n\n  /**\n   *\n   * 将store中的配置写入config\n   * 注意！只在导入新store后使用\n   * @memberof AnimateFactory\n   */\n  syncStoreToConfig(config: UserConfig) {\n    const store = config.getStore();\n    let data: IStoreData;\n    data = store.getData();\n    const dataAnimate = data.globalState?.customAnimate;\n    this.customAnimateName = [...dataAnimate];\n  }\n\n  /**\n   *\n   * 将用户输入转换为新的动画\n   * @param {TransformItem} item\n   * @memberof AnimateFactory\n   */\n  addUserInputIntoCustom(item: TransformItem, config: UserConfig) {\n    // 先转换keyframe\n    const keyframeItem = item.keyframes.map((v) => {\n      return `${v.percent}% {\n            transform:translate(${v.positionX}px, ${v.positionY}px) scale(${(\n        v.scale / 100\n      ).toFixed(2)}) rotate(${v.rotate}deg);\n         }`;\n    });\n    const keyframe = `@keyframes ${item.animateName} {\n      ${keyframeItem.join(\" \")}\n    }`;\n    const customAnimateNameArr: CustomAnimateObj[] = [\n      {\n        displayName: item.displayName,\n        keyframe,\n        animateName: item.animateName,\n      },\n    ];\n    // 添加内置\n    this.addCustomAnimate(customAnimateNameArr);\n    // 插入动画\n    this.inserKeyframeAnimate(keyframe);\n    // 写入store\n    this.syncToStore(config);\n  }\n}\n","/*\n\n * @Date: 2021-02-25 21:16:58\n * @LastEditors: \n * @LastEditTime: 2022-04-29 23:23:42\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\config\\index.tsx\n */\nimport React from \"react\";\nimport {\n  IBlockType,\n  IMainStoreData,\n  IStoreData,\n} from \"../core/store/storetype\";\nimport { ComponentClass, FunctionComponent, ReactNode } from \"react\";\nimport { ComponentItemFactory } from \"../core/components/abstract\";\nimport { marklineConfig } from \"../core/markline/marklineConfig\";\nimport { CommanderItem } from \"../core/command/commanderType\";\nimport { contextMenuState } from \"../core/contextMenu\";\nimport {\n  FormComponentRegister,\n  formComponentRegisterFn,\n} from \"../core/components/formComponentRegister\";\nimport { deepCopy } from \"../core/utils\";\nimport { LeftRegistComponentMapItem } from \"../core/crossDrag\";\nimport { FunctionCenterType } from \"../core/functionCenter\";\nimport { EventCenter } from \"../core/eventCenter\";\nimport { DataCenter } from \"../core/dataCenter\";\nimport { createModal, unmountMap } from \"../components/modalRender\";\nimport { scaleState } from \"../core/scale/state\";\nimport { CommanderItemFactory } from \"../core/command/abstract\";\nimport MmodalMask from \"../core/components/defaultFormComponents/modalMask\";\nimport CommanderWrapper from \"../core/command\";\nimport { focusState } from \"../core/focusHandler/state\";\nimport ComponentRegister from \"../core/components\";\nimport Store from \"../core/store\";\nimport { VerticalAlignMiddleOutlined } from \"@ant-design/icons\";\nimport { wrapperMoveState } from \"../components/wrapperMove/event\";\nimport { wrapperMoveState as iframeWrapperMoveState } from \"../components/IframeWrapperMove/event\";\nimport {\n  TimeLineConfigType,\n  TimeLineNeedleConfigType,\n} from \"../components/timeLine/timeline\";\nimport { AnimateFactory } from \"../core/AnimateFactory\";\n// 组件部分\n\n/**\n *\n * @urlFn 组件异步加载函数\n * @component  组件默认导出\n * @export\n * @interface CacheComponentValueType\n */\nexport interface CacheComponentValueType {\n  component?: ComponentItemFactory;\n}\nexport type CacheComponentType = Record<string, CacheComponentValueType> | {};\nexport type AsyncCacheComponentType = Record<string, () => Promise<any>>;\n\n/**\n *\n *\n * @export 左侧的图标 custom 自定义渲染\n * @interface LeftMapRenderListPropsItemCategory\n */\nexport interface LeftMapRenderListPropsItemCategory {\n  type: string;\n  icon: ReactNode;\n  custom?: boolean;\n  customRender?: (config: UserConfig) => ReactNode;\n  displayName?: string;\n}\n\n/**\n *\n *\n * @export 右侧的图标配置\n * @interface RightMapRenderListPropsItemCategory\n */\nexport interface RightMapRenderListPropsItemCategory {\n  type: string;\n  icon: ReactNode;\n  custom?: boolean;\n  customRender?: (\n    type: string,\n    current: IBlockType,\n    config: UserConfig\n  ) => ReactNode;\n}\n\n// 设置部分\nexport interface InitConfig {\n  /**\n   * 初始化store\n   * @type {IStoreData[]}\n   * @memberof InitConfig\n   */\n  initStoreData: IStoreData[];\n\n  /**\n   *  左边tab页组件渲染包括异步路径  { type: 'basic', component: 'button', img: 'http://xxxx/1.jpg' ,url:'' },\n   * @memberof InitConfig\n   */\n  leftAllRegistMap: LeftRegistComponentMapItem[];\n  /**\n   * 左边tab页图标配置\n   * type icon custom customRender\n   * @memberof InitConfig\n   */\n  leftRenderListCategory: LeftMapRenderListPropsItemCategory[];\n  /**\n   * 右边tab页图标配置\n   * type icon custom customRender\n   * @memberof InitConfig\n   */\n  rightRenderListCategory: RightMapRenderListPropsItemCategory[];\n\n  /**\n   *\n   * 右侧全局自定义\n   * @memberof InitConfig\n   */\n  rightGlobalCustom: ((config: UserConfig) => ReactNode) | null | undefined;\n\n  /**\n   * 组件加载缓存判定，用来设置不异步加载的组件\n   * @memberof InitConfig\n   */\n  initComponentCache: CacheComponentType;\n\n  /**\n   *\n   * 内置函数配置\n   * @memberof InitConfig\n   */\n  initFunctionMap: FunctionCenterType;\n\n  /**\n   *\n   * 内置数据中心配置数据\n   * @memberof InitConfig\n   */\n  initDataCenterMap: Record<string, any>;\n\n  /**\n   *\n   * commander 指令集合\n   * @type {Array<CommanderItemFactory>}\n   * @memberof InitConfig\n   */\n  initCommandModule: Array<CommanderItemFactory>;\n\n  /**\n   *\n   *  右侧配置项\n   * @type {(Record<\n   *   string,\n   *   FunctionComponent<any> | ComponentClass<any, any>\n   * >)}\n   * @memberof InitConfig\n   */\n  initFormComponents: Record<\n    string,\n    FunctionComponent<any> | ComponentClass<any, any>\n  >;\n\n  /**\n   *\n   * 容器拉伸图标\n   * @type {ReactNode}\n   * @memberof InitConfig\n   */\n  containerIcon: ReactNode;\n}\n\nexport const defaultStore: IMainStoreData = {\n  container: {\n    width: 375,\n    height: 667,\n    isMinwx: true,\n  },\n  block: [],\n  modalMap: {},\n  dataSource: {\n    defaultKey: \"defaultValue\",\n  },\n  globalState: {\n    containerColor: \"rgba(255,255,255,1)\",\n    title: \"lowCode\",\n    description:'店铺模板',\n    bodyColor: \"rgba(255,255,255,1)\",\n    script: [],\n    customAnimate: [],\n    lineHeight: 1.575,\n    fontSize: 14,\n  },\n  modalConfig: {},\n  modalEditName: \"\",\n  origin: null,\n};\n\nexport const defaultConfig: InitConfig = {\n  initStoreData: [defaultStore],\n  leftAllRegistMap: [],\n  leftRenderListCategory: [],\n  rightGlobalCustom: null,\n  rightRenderListCategory: [],\n  initComponentCache: {\n    modalMask: { component: MmodalMask }, // 这个组件不配置显示\n  },\n  initFunctionMap: {\n    open_modal: {\n      fn: (_ctx, next, config, args) => {\n        const modalName = args[\"_modal\"];\n        const storeData = config.getStore().getData();\n        createModal(modalName, storeData, config);\n        next();\n      },\n      config: [\n        {\n          name: \"弹窗名称\",\n          data: [\"modal\"],\n          options: {\n            receive: \"_modal\",\n            multi: false,\n          },\n        },\n      ],\n      name: \"打开弹窗函数\",\n      componentId: \"_inner\",\n    },\n    close_modal: {\n      fn: (_ctx, next, _config, args) => {\n        const modalName = args[\"_modal\"];\n        const fn = unmountMap.get(modalName);\n        if (fn) {\n          fn();\n        }\n        next();\n      },\n      config: [\n        {\n          name: \"弹窗名称\",\n          data: [\"modal\"],\n          options: {\n            receive: \"_modal\",\n            multi: false,\n          },\n        },\n      ],\n      name: \"关闭弹窗函数\",\n      componentId: \"_inner\",\n    },\n  },\n  initDataCenterMap: {},\n  initCommandModule: [],\n  initFormComponents: {},\n  containerIcon: <VerticalAlignMiddleOutlined />,\n};\n\n/**\n *\n * 部分无法合并属性如果b传了会以b为准\n * initstore不合并\n * leftallregistmap合并\n * leftRenderListCategory合并\n * rightRenderListCategory合并\n * rightGlobalCustom 不合并\n * initComponentCache合并\n * initFunctionMap合并\n * initDataCenterMap合并\n * initCommandModule合并\n * initFormComponents合并\n * containerIcon不合并\n *\n * @export InitConfig\n */\nexport function userConfigMerge(\n  a: Partial<InitConfig>,\n  b?: Partial<InitConfig>\n): InitConfig {\n  const mergeConfig: InitConfig = {\n    initStoreData: [defaultStore],\n    leftAllRegistMap: [],\n    leftRenderListCategory: [],\n    rightRenderListCategory: [],\n    initComponentCache: {},\n    initFunctionMap: {},\n    initDataCenterMap: {},\n    initCommandModule: [],\n    rightGlobalCustom: null,\n    initFormComponents: {},\n    containerIcon: null,\n  };\n  if (!b) {\n    return userConfigMerge(mergeConfig, a);\n  }\n  mergeConfig.initStoreData = b.initStoreData\n    ? [...b.initStoreData]\n    : a.initStoreData\n    ? [...a.initStoreData]\n    : [defaultStore];\n\n  mergeConfig.containerIcon = b.containerIcon\n    ? b.containerIcon\n    : a.containerIcon;\n\n  mergeConfig.rightGlobalCustom = b.rightGlobalCustom\n    ? b.rightGlobalCustom\n    : a.rightGlobalCustom;\n\n  mergeConfig.leftAllRegistMap = b.leftAllRegistMap\n    ? a.leftAllRegistMap\n      ? [...a.leftAllRegistMap, ...b.leftAllRegistMap]\n      : [...b.leftAllRegistMap]\n    : a.leftAllRegistMap\n    ? [...a.leftAllRegistMap]\n    : [];\n  mergeConfig.leftRenderListCategory = b.leftRenderListCategory\n    ? a.leftRenderListCategory\n      ? [...a.leftRenderListCategory, ...b.leftRenderListCategory]\n      : [...b.leftRenderListCategory]\n    : a.leftRenderListCategory\n    ? [...a.leftRenderListCategory]\n    : [...defaultConfig.leftRenderListCategory];\n  mergeConfig.rightRenderListCategory = b.rightRenderListCategory\n    ? a.rightRenderListCategory\n      ? [...a.rightRenderListCategory, ...b.rightRenderListCategory]\n      : [...b.rightRenderListCategory]\n    : a.rightRenderListCategory\n    ? [...a.rightRenderListCategory]\n    : [...defaultConfig.rightRenderListCategory];\n  mergeConfig.initComponentCache = {\n    ...a.initComponentCache,\n    ...b.initComponentCache,\n  };\n  mergeConfig.initFunctionMap = {\n    ...a.initFunctionMap,\n    ...b.initFunctionMap,\n  };\n  mergeConfig.initFormComponents = {\n    ...a.initFormComponents,\n    ...b.initFormComponents,\n  };\n  mergeConfig.initDataCenterMap = {\n    ...a.initDataCenterMap,\n    ...b.initDataCenterMap,\n  };\n  mergeConfig.initCommandModule = b.initCommandModule\n    ? a.initCommandModule\n      ? [...a.initCommandModule, ...b.initCommandModule]\n      : [...b.initCommandModule]\n    : a.initCommandModule\n    ? [...a.initCommandModule]\n    : [];\n  return mergeConfig;\n}\n\n/**\n *\n *\n * @export 用户配置项\n * @class UserConfig\n */\nexport class UserConfig {\n  public initConfig: InitConfig;\n  public store = new Store();\n  public componentRegister = new ComponentRegister();\n  public formRegister = new FormComponentRegister();\n  public animateFactory = new AnimateFactory();\n  public componentCache = {};\n  public asyncComponentUrlMap = {} as AsyncCacheComponentType;\n  public marklineConfig = marklineConfig;\n  public commanderRegister: CommanderWrapper;\n  public contextMenuState = contextMenuState;\n  public eventCenter: EventCenter;\n  public dataCenter: DataCenter;\n  public scaleState = scaleState;\n  public focusState = focusState;\n  public collapsed = false;\n  public ticker = true;\n  public containerOverFlow = true;\n  public containerForceUpdate = () => {};\n  public timeline = false;\n  public timelineConfig: TimeLineConfigType = {\n    autoFocus: true,\n    scrollDom: null,\n  };\n  public timelineNeedleConfig: TimeLineNeedleConfigType = {\n    status: \"start\",\n    runFunc: () => {},\n    resetFunc: () => {},\n    pauseFunc: () => {},\n    setNeedle: () => {},\n    current: 0,\n    isRefresh: true,\n  };\n  public createdFn: Function[] = [];\n  public created: Function = () => {};\n  public beforeOnMountedFn: Function[] = [];\n  public beforeOnMounted: Function = () => {};\n  public onMountedFn: Function[] = [];\n  public onMounted: Function = () => {};\n  public destroyedFn: Function[] = [];\n  public destroyed: Function = () => {};\n  public blockForceUpdate: Array<Function> = [];\n  public waitAnimate = false;\n  public wrapperMoveState = wrapperMoveState;\n  public iframeWrapperMoveState = iframeWrapperMoveState;\n  public refreshIframe = () => {};\n  public sendParent = (message: any) => {\n    window.parent.postMessage(message, \"*\");\n  };\n  public iframeOrigin = \"\";\n  public iframeId = \"yh-container-iframe\";\n  public i18n = true;\n  public SCRIPTGLOBALNAME = \"DOORINGXPLUGIN\";\n  public scriptLoading = false;\n  public leftForceUpdate = () => {};\n  public customMap: Record<string, any> = {};\n  constructor(initConfig?: Partial<InitConfig>) {\n    const mergeConfig = userConfigMerge(defaultConfig, initConfig);\n    this.initConfig = mergeConfig;\n    this.commanderRegister = new CommanderWrapper(this.store, {}, this);\n    this.eventCenter = new EventCenter({}, mergeConfig.initFunctionMap);\n    this.dataCenter = new DataCenter(mergeConfig.initDataCenterMap);\n    this.init();\n    // 右侧配置项注册 初始注册组件暂时固定\n  }\n\n  toRegist() {\n    const modules = this.initConfig.initFormComponents;\n    formComponentRegisterFn(this.formRegister, modules);\n\n    const cache = this.initConfig.initComponentCache;\n    this.componentCache = cache;\n    // 拿到组件缓存后，先同步加载map上组件\n    Object.values(cache).forEach((v) => {\n      if ((v as CacheComponentValueType).component) {\n        this.registComponent((v as CacheComponentValueType).component!);\n      }\n    });\n    // 异步组件注册地址\n    this.initConfig.leftAllRegistMap.forEach((v) => {\n      if (v.urlFn) {\n        //@ts-ignore\n        this.asyncComponentUrlMap[v.component] = v.urlFn;\n      }\n    });\n    // 注册画布上组件\n    this.store.getData().block.forEach((v) => {\n      this.asyncRegistComponent(v.name);\n    });\n\n    // 注册data\n    this.dataCenter = new DataCenter(this.initConfig.initDataCenterMap);\n    //数据需要加上store上的\n    this.dataCenter.initAddToDataMap(this.store.getData());\n    // 修改事件与数据初始\n    this.eventCenter = new EventCenter({}, this.initConfig.initFunctionMap);\n    // 注册画布事件\n    this.eventCenter.syncEventMap(this.store.getData(), this.store);\n  }\n\n  init() {\n    this.store.resetToInitData(deepCopy(this.initConfig.initStoreData), true);\n    this.toRegist();\n  }\n\n  getCollapse() {\n    return this.collapsed;\n  }\n\n  getStoreJSON() {\n    return JSON.stringify(this.store.getData());\n  }\n\n  parseStoreJson(json: string) {\n    return JSON.parse(json);\n  }\n\n  /**\n   *\n   * 重设store并根据store重设\n   * @param {IStoreData[]} data\n   * @memberof UserConfig\n   */\n  resetData(data: IStoreData[]) {\n    this.store.resetToInitData(data, true);\n    this.toRegist();\n    this.animateFactory.syncStoreToConfig(this);\n  }\n\n  getWrapperMove() {\n    return {\n      data: this.wrapperMoveState,\n      iframe: this.iframeWrapperMoveState,\n    };\n  }\n\n  getFocusState() {\n    return this.focusState;\n  }\n  getScaleState() {\n    return this.scaleState;\n  }\n  getDataCenter() {\n    return this.dataCenter;\n  }\n  getEventCenter() {\n    return this.eventCenter;\n  }\n  getAnimateFactory() {\n    return this.animateFactory;\n  }\n  getConfig() {\n    return this.initConfig;\n  }\n  getStore() {\n    return this.store;\n  }\n  getComponentRegister() {\n    return this.componentRegister;\n  }\n  getContextMenuState() {\n    return this.contextMenuState;\n  }\n  getFormRegister() {\n    return this.formRegister;\n  }\n  getCommanderRegister() {\n    return this.commanderRegister;\n  }\n\n  /**\n   *\n   * 用于获取当前store数据，已判断弹窗编辑 不会储存正在编辑的内容\n   * @returns\n   * @memberof UserConfig\n   */\n  getCurrentData() {\n    return this.store.getData();\n  }\n\n  /**\n   *\n   * 以默认设置重置配置项\n   * @param {Partial<InitConfig>} v\n   * @memberof UserConfig\n   */\n  resetConfig(v: Partial<InitConfig>) {\n    const mergeConfig = userConfigMerge(defaultConfig, v);\n    this.initConfig = mergeConfig;\n    this.init();\n    this.leftForceUpdate();\n    this.store.forceUpdate();\n  }\n  /**\n   *  会重置配置，请修改配置后增加\n   * 异步增加左侧tab页\n   * @memberof UserConfig\n   */\n  addLeftCategory(v: LeftMapRenderListPropsItemCategory[]) {\n    const obj = {} as InitConfig;\n    obj.leftRenderListCategory = v;\n    this.initConfig = userConfigMerge(this.initConfig, obj);\n    this.init();\n    this.leftForceUpdate();\n    this.store.forceUpdate();\n  }\n\n  /**\n   *  会重置配置，请修改配置后增加\n   * 异步增加右侧tab页\n   * @memberof UserConfig\n   */\n  addRightCategory(v: RightMapRenderListPropsItemCategory[]) {\n    const obj = {} as InitConfig;\n    obj.rightRenderListCategory = v;\n    this.initConfig = userConfigMerge(this.initConfig, obj);\n    this.init();\n    this.leftForceUpdate();\n    this.store.forceUpdate();\n  }\n\n  /**\n   * 会重置配置，请修改配置后增加\n   * 异步增加组件map\n   * @memberof UserConfig\n   */\n  addCoRegistMap(v: LeftRegistComponentMapItem) {\n    const obj = {} as InitConfig;\n    obj.leftAllRegistMap = [v];\n    this.initConfig = userConfigMerge(this.initConfig, obj);\n    this.init();\n    this.leftForceUpdate();\n    this.store.forceUpdate();\n  }\n\n  /**\n   *会重置配置，请修改配置后增加\n   * 异步修改config 重置store\n   * @memberof UserConfig\n   */\n  setConfig(v: Partial<InitConfig>) {\n    this.initConfig = userConfigMerge(this.initConfig, v);\n    this.init();\n    this.leftForceUpdate();\n    this.store.forceUpdate();\n  }\n\n  /**\n   *\n   * 同步注册指令\n   * @param {CommanderItem} command\n   * @memberof UserConfig\n   */\n  registCommander(command: CommanderItem) {\n    this.commanderRegister.register(command);\n  }\n\n  /**\n   *\n   * 用于修改markline配置\n   * @returns\n   * @memberof UserConfig\n   */\n  getMarklineConfig() {\n    return this.marklineConfig;\n  }\n\n  getComponentCache() {\n    return this.componentCache;\n  }\n  /**\n   *\n   * 同步注册组件，不会检测缓存是否存在\n   * @param {ComponentItemFactory} item\n   * @memberof UserConfig\n   */\n  registComponent(item: ComponentItemFactory) {\n    this.componentRegister.register(item);\n  }\n  /**\n   *\n   * 异步注册组件，会判定缓存是否存在\n   * @param {string} name\n   * @memberof UserConfig\n   */\n  async asyncRegistComponent(name: string) {\n    //判定缓存\n    if (\n      !(this.componentCache as Record<string, CacheComponentValueType>)[name] &&\n      this.asyncComponentUrlMap[name]\n    ) {\n      const chunk = await this.asyncComponentUrlMap[name]();\n      const chunkDefault = chunk.default;\n      this.componentRegister.register(chunkDefault);\n      (this.componentCache as Record<string, CacheComponentValueType>)[name] = {\n        component: chunkDefault,\n      };\n      this.componentRegister.emitEvent(name);\n    }\n  }\n\n  scriptRegistComponentSingle(\n    item: ComponentItemFactory,\n    leftProps: LeftRegistComponentMapItem\n  ) {\n    this.registComponent(item);\n    this.addCoRegistMap(leftProps);\n  }\n\n  // foreach可能导致问题\n  // scriptRegistComponentMulti(\n  // \titems: ComponentItemFactory[],\n  // \tleftProps: LeftRegistComponentMapItem[]\n  // ) {\n  // \titems.forEach((item) => {\n  // \t\tthis.registComponent(item);\n  // \t});\n  // \tconst obj = {} as InitConfig;\n  // \tobj.leftAllRegistMap = leftProps;\n  // \tthis.initConfig = userConfigMerge(this.initConfig, obj);\n  // \tthis.init();\n  // \tthis.store.forceUpdate();\n  // }\n\n  /**\n   *\n   * 分类信息需要单独存储后加载\n   * @param {string} src  url地址\n   * @param {Partial<LeftRegistComponentMapItem>} leftProps 分类\n   * @param {Function} [callback] 回调\n   * @return {*}\n   * @memberof UserConfig\n   */\n  scriptSingleLoad(\n    src: string,\n    leftProps: Partial<LeftRegistComponentMapItem>,\n    callback?: Function\n  ) {\n    let storeData = this.store.getData();\n    let globalState = storeData.globalState;\n    if (globalState[\"script\"].includes(src)) {\n      console.error(src + \"scripts have been loaded\");\n      return;\n    }\n    if (!this.scriptLoading) {\n      this.scriptLoading = true;\n      const script = document.createElement(\"script\");\n      script.src = src;\n      script.onload = () => {\n        const item = window[\n          this.SCRIPTGLOBALNAME as any\n        ] as unknown as ComponentItemFactory;\n        try {\n          const left = leftProps;\n          left.component = item.name;\n          left.displayName = item.display;\n          this.scriptRegistComponentSingle(\n            item,\n            left as LeftRegistComponentMapItem\n          );\n        } catch (e) {\n          console.error(e);\n        }\n        // 前面加载会重置store 新增组件需要事件初始化\n        setTimeout(() => {\n          window[this.SCRIPTGLOBALNAME as any] = undefined as any;\n          globalState = this.store.getData().globalState;\n          globalState[\"script\"].push(src);\n          storeData.globalState = globalState;\n          this.store.resetToInitData([storeData], true);\n          this.store.forceUpdate();\n          this.scriptLoading = false;\n          if (callback) {\n            callback();\n          }\n        });\n      };\n      document.body.appendChild(script);\n    }\n  }\n}\n\nexport default UserConfig;\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-07-06 23:45:02\n * @FilePath: \\dooringv2\\packages\\dooring-v2-lib\\src\\core\\components\\formTypes.ts\n */\n\nexport interface CreateOptionsResAll {\n  type: string;\n  option: any;\n}\n\nexport interface CreateOptionsRes<T, K extends keyof T> {\n  type: keyof T;\n  option: T[K];\n}\n\nexport function createPannelOptions<T, K extends keyof T>(\n  type: K,\n  option: T[K]\n): CreateOptionsRes<T, K> {\n  return {\n    type,\n    option,\n  };\n}\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-03-14 04:39:30\n * @FilePath: \\dooring-v2\\src\\core\\command\\abstract.ts\n */\nimport { CommanderItem } from \"./commanderType\";\n\nexport class CommanderItemFactory implements CommanderItem {\n  constructor(\n    public name: CommanderItem[\"name\"],\n    public keyboard: CommanderItem[\"keyboard\"],\n    public excute: CommanderItem[\"excute\"],\n    public display: CommanderItem[\"display\"],\n    public init: CommanderItem[\"init\"] = () => {},\n    public destroy: CommanderItem[\"destroy\"] = () => {}\n  ) {}\n}\n","/*\n\n * @Date: 2022-04-27 22:15:24\n * @LastEditors: \n * @LastEditTime: 2022-04-27 22:38:59\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\hooks\\useRegistFunc.ts\n */\n\nimport { useEffect } from \"react\";\n/**\n *\n *\n * @export 用于简化注册函数代码\n * @param {boolean} dep 配置的开关\n * @param {('preview' | 'edit')} context 传递的环境变量\n * @param {Function} registFn 注册的函数\n */\nexport function useRegistFunc(\n  dep: boolean,\n  context: \"preview\" | \"edit\",\n  registFn: Function\n) {\n  useEffect(() => {\n    let unRegist: Function = () => {};\n    if (dep) {\n      unRegist = registFn;\n    }\n    return () => {\n      if (context === \"preview\") {\n        unRegist(); // 必须在预览时注销，否则影响二次点击效果，不在预览注销影响编辑时跨弹窗\n      }\n    };\n  }, [context, dep, registFn]);\n}\n","/*\n\n * @Date: 2021-07-17 10:08:08\n * @LastEditors: \n * @LastEditTime: 2021-07-27 14:42:00\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\iframeContainer.tsx\n */\nimport { containerDragResolve } from \"../core/crossDrag\";\nimport { containerFocusRemove } from \"../core/focusHandler\";\nimport { innerContainerDrag } from \"../core/innerDrag\";\nimport { IStoreData } from \"../core/store/storetype\";\nimport { wrapperMoveState } from \"./IframeWrapperMove/event\";\nimport {\n  CSSProperties,\n  PropsWithChildren,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\";\nimport Blocks from \"./blocks\";\nimport React from \"react\";\nimport UserConfig, { defaultStore } from \"../config\";\nimport styles from \"../index.less\";\nimport { getRealHeight } from \"../core/transfer\";\nimport { WrapperMoveStateProps } from \"./IframeWrapperMove/event\";\nimport { onWheelEventIframe } from \"../core/scale\";\ninterface ContainerProps {\n  context: \"edit\" | \"preview\";\n  config: UserConfig;\n  editContainerStyle?: CSSProperties;\n  previewContainerStyle?: CSSProperties;\n}\ninterface IframeInnerState {\n  store: IStoreData;\n  scaleState: {\n    value: number;\n    maxValue: number;\n    minValue: number;\n  };\n  isEdit: boolean;\n  origin: null | IStoreData[];\n  wrapperState: {\n    data: any;\n    iframe: WrapperMoveStateProps;\n  };\n}\n\nfunction Container(props: PropsWithChildren<ContainerProps>) {\n  const { editContainerStyle, previewContainerStyle } = props;\n\n  const [message, setMessage] = useState<IframeInnerState>({\n    store: defaultStore,\n    scaleState: {\n      value: 0,\n      maxValue: 0,\n      minValue: 0,\n    },\n    isEdit: false,\n    wrapperState: props.config.getWrapperMove(),\n    origin: null,\n  });\n\n  const state = message.store;\n  const scaleState = message.scaleState;\n  const isEdit = message.isEdit;\n\n  const bgColor = () => {\n    if (isEdit) {\n      return \"rgba(255,255,255,1)\";\n    } else {\n      return state.globalState.containerColor;\n    }\n  };\n\n  const transform = useMemo(() => {\n    if (props.context === \"edit\") {\n      return `scale(${scaleState.value}) translate(${wrapperMoveState.needX}px, ${wrapperMoveState.needY}px)`;\n    } else {\n      return undefined;\n    }\n  }, [props.context, scaleState.value]);\n\n  useEffect(() => {\n    const fn = (e: any) => {\n      if (typeof e.data !== \"object\") {\n        return;\n      }\n      if (!e.data.store) {\n        // 后续通信待定\n        return;\n      }\n\n      const data: IframeInnerState = e.data;\n\n      setMessage(data);\n      props.config.resetData([data.store]);\n      props.config.scaleState = data.scaleState;\n    };\n    window.addEventListener(\"message\", fn);\n    window.parent.postMessage(\"ready\", \"*\");\n    return () => {\n      window.removeEventListener(\"message\", fn);\n    };\n  }, [props.config]);\n\n  return (\n    <>\n      {props.context === \"edit\" && (\n        <>\n          <div\n            style={{\n              display: \"flex\",\n              transform: `scale(${scaleState.value})`,\n              transformOrigin: \"left top\",\n              position: \"absolute\",\n            }}\n            {...onWheelEventIframe(props.config, scaleState)}\n          >\n            <div\n              id=\"yh-container\"\n              className={styles.yh_container}\n              style={{\n                height: `${state.container.height}px`,\n                width: `${state.container.width}px`,\n                backgroundColor: bgColor(),\n                position: \"relative\",\n                overflow: \"hidden\",\n\n                ...editContainerStyle,\n              }}\n              {...(props.context === \"edit\"\n                ? containerDragResolve(props.config)\n                : null)}\n              {...(props.context === \"edit\"\n                ? innerContainerDrag(props.config)\n                : null)}\n              {...(props.context === \"edit\"\n                ? containerFocusRemove(props.config)\n                : null)}\n            >\n              {state.block.map((v) => {\n                return (\n                  <Blocks\n                    config={props.config}\n                    key={v.id}\n                    data={v}\n                    context={props.context}\n                  ></Blocks>\n                );\n              })}\n            </div>\n          </div>\n        </>\n      )}\n      {props.context === \"preview\" && (\n        <div\n          id=\"yh-container-preview\"\n          className={styles.yh_container_preview}\n          style={{\n            height: `${getRealHeight(state.container.height)}px`,\n            width: `100%`,\n            position: \"relative\" as \"absolute\" | \"relative\",\n            overflow: \"hidden\",\n            backgroundColor: bgColor(),\n            transform: transform,\n            ...previewContainerStyle,\n          }}\n        >\n          {state.block.map((v) => {\n            return (\n              <Blocks\n                key={v.id}\n                config={props.config}\n                data={v}\n                context={props.context}\n              ></Blocks>\n            );\n          })}\n        </div>\n      )}\n    </>\n  );\n}\nexport default Container;\n","/*\n\n * @Date: 2021-07-12 15:54:35\n * @LastEditors: \n * @LastEditTime: 2022-01-13 13:41:16\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\IframeWrapperMove\\ticker.tsx\n */\nimport React, { useEffect, useRef, useState } from \"react\";\nimport UserConfig from \"../../config\";\n\nconst width = \"20px\";\nconst indent = 50;\n\nfunction Ticker(props: { config: UserConfig }) {\n  const topRef = useRef<HTMLDivElement>(null);\n  const leftRef = useRef<HTMLDivElement>(null);\n  const [topRender, setTopRender] = useState(0);\n  const [leftRender, setLeftRender] = useState(0);\n\n  const scale = props.config.getScaleState().value;\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (topRef.current) {\n        const width = topRef.current.getBoundingClientRect().width;\n        const renderWidth = Math.ceil(width / 10 / scale);\n        if (renderWidth < 2 ** 32 - 1) {\n          setTopRender(renderWidth);\n        }\n      }\n      // left可以不用放，但为了更新统一\n      if (leftRef.current) {\n        const height = leftRef.current.getBoundingClientRect().height;\n        const renderHeight = Math.ceil(height / 10 / scale);\n        if (renderHeight < 2 ** 32 - 1) {\n          setLeftRender(renderHeight);\n        }\n      }\n    }, 300);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [props.config, props.config.collapsed, scale]);\n\n  return (\n    <>\n      <div\n        ref={topRef}\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: indent,\n          width: \"100%\",\n          height: width,\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          userSelect: \"none\",\n        }}\n      >\n        {Array(topRender)\n          .fill(1)\n          .map((_, i) => {\n            if (i % 10 === 0) {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    background: \"rgb(204, 204, 204)\",\n                    width: \"1px\",\n                    height: \"12px\",\n                    position: \"relative\",\n                    userSelect: \"none\",\n                  }}\n                >\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      top: \"20px\",\n                      fontSize: \"10px\",\n                      left: \"-2px\",\n                      userSelect: \"none\",\n                    }}\n                  >\n                    {i}\n                  </div>\n                </div>\n              );\n            } else {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    background: \"rgb(204, 204, 204)\",\n                    width: \"1px\",\n                    height: \"6px\",\n                  }}\n                ></div>\n              );\n            }\n          })}\n      </div>\n      <div\n        ref={leftRef}\n        style={{\n          position: \"absolute\",\n          top: indent,\n          left: 0,\n          width: width,\n          height: \"100%\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          flexDirection: \"column\",\n          userSelect: \"none\",\n        }}\n      >\n        {Array(leftRender)\n          .fill(1)\n          .map((_, i) => {\n            if (i % 10 === 0) {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    background: \"rgb(204, 204, 204)\",\n                    width: \"12px\",\n                    height: \"1px\",\n                    position: \"relative\",\n                    userSelect: \"none\",\n                  }}\n                >\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      left: \"20px\",\n                      fontSize: \"10px\",\n                      top: \"-2px\",\n                      userSelect: \"none\",\n                    }}\n                  >\n                    {i}\n                  </div>\n                </div>\n              );\n            } else {\n              return (\n                <div\n                  key={i}\n                  style={{\n                    background: \"rgb(204, 204, 204)\",\n                    width: \"6px\",\n                    height: \"1px\",\n                    userSelect: \"none\",\n                  }}\n                ></div>\n              );\n            }\n          })}\n      </div>\n    </>\n  );\n}\n\nexport default Ticker;\n","/*\n\n * @Date: 2021-03-14 04:29:09\n * @LastEditors: \n * @LastEditTime: 2021-08-11 16:39:24\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\IframeWrapperMove\\index.tsx\n */\nimport {\n  AllHTMLAttributes,\n  CSSProperties,\n  PropsWithChildren,\n  ReactNode,\n  useRef,\n} from \"react\";\nimport { wrapperEvent } from \"./event\";\nimport { onWheelEventIframe } from \"../../core/scale\";\nimport React from \"react\";\nimport Ticker from \"./ticker\";\nimport UserConfig from \"../../config\";\nimport TimeLine from \"../timeLine/timeline\";\n\nexport interface ContainerWrapperProps\n  extends AllHTMLAttributes<HTMLDivElement> {\n  config: UserConfig;\n  classNames?: string;\n  style?: CSSProperties;\n  extra?: ReactNode;\n}\n\nfunction ContainerWrapper(props: PropsWithChildren<ContainerWrapperProps>) {\n  const { children, style, classNames, config, extra, ...rest } = props;\n  const ref = useRef<HTMLDivElement>(null);\n  const ticker = props.config.ticker;\n  const wrapperMoveState = config.getWrapperMove().iframe;\n  const scaleState = config.getScaleState();\n  const state = props.config.getStore().getData();\n\n  return (\n    <div\n      className={`ant-menu ${classNames ? classNames : \"\"}`}\n      ref={ref}\n      style={{\n        backgroundColor: \"#f0f0f0\",\n        height: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        flex: 1,\n        flexDirection: \"column\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        userSelect: \"none\",\n        ...style,\n      }}\n      {...wrapperEvent(ref, props.config)}\n      {...onWheelEventIframe(props.config, scaleState)}\n      {...rest}\n    >\n      {config.timeline && <TimeLine config={config}></TimeLine>}\n      <div\n        style={{\n          position: \"absolute\",\n          transform: `translate(${wrapperMoveState.needX}px, ${wrapperMoveState.needY}px)`,\n          width: state.container.width * scaleState.value,\n          height: state.container.height * scaleState.value,\n        }}\n      >\n        {children}\n      </div>\n      {extra && extra}\n      {ticker && <Ticker config={props.config}></Ticker>}\n    </div>\n  );\n}\nexport default ContainerWrapper;\n","/*\n\n * @Date: 2021-07-20 10:36:55\n * @LastEditors: \n * @LastEditTime: 2021-07-27 15:13:35\n * @FilePath: \\lowcode\\packages\\lowcode-lib\\src\\components\\iframeTarget.tsx\n */\nimport React from \"react\";\nimport UserConfig from \"../config\";\nimport { containerDragResolve } from \"../core/crossDrag\";\nimport { containerFocusRemove } from \"../core/focusHandler\";\nimport { innerContainerDrag } from \"../core/innerDrag\";\nimport { NormalMarkLineRender } from \"../core/markline\";\nimport { containerResizer } from \"../core/resizeHandler/containerResizer\";\nimport Blocks from \"./blocks\";\n\ninterface IframeTargetProps {\n  config: UserConfig;\n  iframeProps?: React.DetailedHTMLProps<\n    React.IframeHTMLAttributes<HTMLIFrameElement>,\n    HTMLIFrameElement\n  >;\n}\n\nexport function IframeTarget(props: IframeTargetProps) {\n  const scaleState = props.config.getScaleState();\n  const state = props.config.getStore().getData();\n  return (\n    <div\n      style={{\n        width: state.container.width * scaleState.value,\n        height: state.container.height * scaleState.value + 1,\n        position: \"relative\",\n      }}\n    >\n      <div\n        {...containerDragResolve(props.config)}\n        {...innerContainerDrag(props.config)}\n        {...containerFocusRemove(props.config)}\n        style={{\n          width: state.container.width * scaleState.value,\n          height: state.container.height * scaleState.value,\n          position: \"absolute\",\n        }}\n      >\n        <div\n          id=\"yh-container-iframe-mask\"\n          style={{\n            display: \"flex\",\n            transform: `scale(${scaleState.value})`,\n            transformOrigin: \"left top\",\n            position: \"absolute\",\n            width: state.container.width,\n            height: state.container.height,\n          }}\n        >\n          {state.block.map((v) => {\n            return (\n              <Blocks\n                config={props.config}\n                key={v.id}\n                data={v}\n                context={\"edit\"}\n                iframe={true}\n              ></Blocks>\n            );\n          })}\n          {\n            <NormalMarkLineRender\n              config={props.config}\n              iframe={true}\n            ></NormalMarkLineRender>\n          }\n        </div>\n      </div>\n      <iframe\n        title=\"editor\"\n        id=\"yh-container-iframe\"\n        scrolling=\"no\"\n        style={{\n          width: state.container.width * scaleState.value,\n          height: state.container.height * scaleState.value,\n          border: \"none\",\n          userSelect: \"none\",\n        }}\n        {...props.iframeProps}\n      ></iframe>\n      <div\n        style={{\n          height: \"50px\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          transform: `scale(${scaleState.value})`,\n          width: \"100%\",\n          transformOrigin: \"top\",\n        }}\n      >\n        <div\n          style={{\n            fontSize: \"20px\",\n            cursor: \"s-resize\",\n          }}\n          onMouseDown={(e) => containerResizer.onMousedown(e, props.config)}\n        >\n          {props.config.getConfig().containerIcon}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["registCommandFn","module","commander","forEach","v","register","unRegistCommandFn","unRegister","name","specialCoList","specialFnList","deepCopy","obj","deepCopys","swap","indexa","indexb","arr","splice","randomColor","Math","random","toString","slice","rgba2Obj","rgba","reg","rgbaObj","r","g","b","a","replace","_m","createUid","nanoid","isMac","test","navigator","userAgent","arrayMove","array","from","to","arrayMoveMutate","indexSub","arrLength","toIndex","length","startIndex","endIndex","item","changeUserValue","args","config","ctx","userChoose","Array","isArray","reduce","pr","ne","val","push","dataCenter","getDataCenter","getDataMap","changeUserValueRecord","Object","assign","postMessage","value","src","target","search","iframe","document","querySelector","contentWindow","console","warn","angleToRadian","angle","PI","getContainer","container","binarySearchRemain","attribute","indent","start","end","mid","parseInt","abs","useStoreState","extraFn","everyFn","store","getStore","useState","getData","state","setState","forceUpdate","useEffect","subscribe","data","getEventCenter","syncEventMap","getFunctionCenter","syncFunction","setForceUpdate","commandModules","getConfig","initCommandModule","getCommanderRegister","fn1","event","ctrlKey","metaKey","preventDefault","fn2","window","addEventListener","passive","removeEventListener","useDynamicAddEventCenter","props","eventName","displayName","eventCenter","useMemo","map","eventMap","storeItem","block","find","id","userSelect","manualUpdateMap","useIframePostMessage","origin","sign","fn","iframeId","iframeOrigin","scaleState","getScaleState","wrapperState","getWrapperMove","refreshIframe","useIframeHook","iframeReady","setIframeReady","fnx","e","type","column","innerDragState","startX","startY","isDrag","ref","current","lastClick","itemX","itemY","getCenter","x","left","width","y","top","height","revert","substract","getSides","list","len","res","j","pre","p","axis","sqrt","dot","getProjection","min","max","i","l","pro","getOriginPoint","center","transfer","relativePoint","rootPoint","x0","y0","rx","cos","rotate","sin","ry","polygonsCollisionTest","A","B","resa","resb","sidesa","sidesb","sides","concat","proA","proB","isOverlay","Sat","select","selectData","selectDiv","posx","posy","selectRangeMouseDown","createElement","nativeEvent","offsetX","offsetY","clientX","clientY","className","style","yhTempDiv","position","body","appendChild","onmouseup","selectRangeMouseUp","onmousemove","selectRangeMouseMove","ev","typeGuard","Event","selectFocus","clonedata","focusState","getFocusState","blocks","change","t","w","h","canDrag","curItem","focus","setData","getBoundingClientRect","scale","wwidth","wheight","parentNode","removeChild","ContextMenu","handleclick","unmountContextMenu","contextMenuState","React","background","onClick","menu","parent","contextMenu","observer","initLeft","initTop","contextMenuEvent","userConfig","attributes","callback","mutationsList","mutation","curLeft","parseFloat","curTop","diffL","diffT","MutationObserver","observe","ReactDOM","render","disconnect","unmountComponentAtNode","resolveRemove","newBlock","innerRemoveFocus","containerFocusRemove","onMouseDown","blockFocus","shiftKey","createBlock","ComponentItem","zIndex","initData","resize","display","syncList","canSee","functionList","animate","fixed","canRotate","currentDrag","resolveDrop","dbclick","componentRegister","getComponentRegister","getComp","component","log","newblock","fixX","fixY","needPosition","offsetTop","offsetLeft","dragEventResolve","draggable","onDragStart","onDragOver","onDrop","onDragEnd","onDoubleClick","containerDragResolve","round","offestY","marklineConfig","isAbsorb","mode","gridIndent","resizeIndent","marklineUnfocus","borderColor","borderStyle","directionArr","resizeState","isResize","direction","currentTarget","symmetricPoint","curPosition","getCenterPoint","p1","p2","calculateRotatedPointCoordinate","point","getRect","curPositon","itemWH","calculateTopLeft","calculateRight","calculateBottom","calculateLeft","calculateTop","calculateBottomRight","calculateTopRight","calculateBottomLeft","newCenterPoint","newTopLeftPoint","newBottomRightPoint","newWidth","newHeight","newTopRightPoint","newBottomLeftPoint","curPoint","rotatedcurPositon","rotatedTopMiddlePoint","newCenter","rotatedRightMiddlePoint","rotatedBottomMiddlePoint","rotatedLeftMiddlePoint","initialAngle","lt","rt","rb","lb","angleToCursor","cursor","mod360","deg","getCursor","curRotate","result","lastMatchIndex","angleLimit","stopPropagation","getIndex","curDiv","containerRect","centerX","offsetWidth","centerY","offsetHeight","poffsetLeft","poffsetTop","resizerMouseUp","endindex","getStoreList","setIndex","resizerMouseMove","moveX","moveY","movePoint","itemRef","BlockResizer","cursorMap","key","classnames","styles","resizepoint","rect","onMouseUp","moveState","isMove","mouseUp","controlMouseMove","diffx","diffy","setXy","containerState","minHeight","containerResizer","onMousedown","onMouseMove","diff","tmpHeight","wrapperMoveState","needX","needY","wrapperEvent","diffX","diffY","wrapperMoveMouseUp","wrapperRefState","rotateState","isRotate","rotateMouseMove","rotateDegreeBefore","atan2","rotateDegreeAfter","startRotate","frotate","rotateMouseUp","RotateResizer","title","ReloadOutlined","color","resetResolve","RotateReset","rotatereset","RotateLeftOutlined","marklineState","cache","sortLeft","sortTop","sortRight","sortBottom","iter","itemHeight","interval","square","times","uid","currentMoveItemId","resizeMouseDown","TimeLineItemMouseMove","f","animationDelay","toFixed","count","animationIterationCount","f2","animationDuration","TimeLineItemMouseOver","resetCurrentMoveItemId","commonCss","transform","bgColorCache","TimeLineItem","repeat","borderRadius","opacity","right","undefined","en","edit","yes","no","description","on","off","zhCN","localeMap","replaceLocale","msg","param","paramString","i18n","FormattedMessage","defaultMessage","values","animateTicker","fill","_","DragHandle","SortableHandle","MenuOutlined","leftWidth","WAIT","widthInterval","ruleWidth","SortableItem","SortableElement","alignItems","clone","deepcopy","includes","overflow","minWidth","borderRight","borderBottom","backgroundColor","getMap","marginLeft","flex","textAlign","paddingRight","marginRight","EyeOutlined","EyeInvisibleOutlined","onConfirm","filter","okText","cancelText","DeleteOutlined","SortableList","SortableContainer","items","index","cacheBlock","needleWidth","initialLeft","needleHeadWidth","needleHeadHeight","timer","needleState","needleHeadEvent","setNeedle","persist","timelineNeedleConfig","status","isRefresh","init","resetFunc","blockForceUpdate","clearInterval","needleMoveEvent","shouldMoveX","needleDoubleClick","dom","timelineConfig","scrollDom","mouseLeft","scrollLeft","TimeLine","onSortEnd","sort","oldIndex","newIndex","newblocks","isEdit","firstType","cloneData","scrollx","setScrollx","content","distance","useDragHandle","renderData","waitAnimate","useRef","needle","resetAnimate","Promise","setTimeout","cleanLast","refreshBlock","needlePlay","needleReset","setInterval","needResetAnimate","needlePause","runFunc","pauseFunc","classes","bottom","flexDirection","indexOf","lineHeight","paddingLeft","PauseCircleOutlined","PlayCircleOutlined","transition","willChange","pointerEvents","borderLeft","onScroll","scrollTop","onMouseLeave","innerDrag","autoFocus","findIndex","innerContainerDrag","lastblock","isMulti","durX","durY","cloneblock","innerContainerDragUp","iframeWrapperMove","forceupdate","marklineDisplay","focusStyle","unFocusStyle","lines","dirty","dirtyY","dirtyX","newMarklineDisplay","getComponentRotatedStyle","marklineCalRender","realStyle","unfocus","focusItem","indexLeft","indexLeftRight","indexRightLeft","indexTopBottom","indexBottomTop","indexTop","indexRight","indexBottom","ro","rstyle","MarklineX","borderTop","MarklineY","NormalMarkLineRender","isFixed","newtop","newleft","getRealWidth","newheight","newwidth","getRealHeight","getCurrentMobileInfo","userAgentMatched","match","innerWidth","screen","availHeight","H","mergeAnimate","delay","isPause","configstr","str","animationTimingFunction","animationName","Blocks","previewState","setPreviewState","unregist","newdata","context","tmp","innerDragData","force","animateForce","unload","normal","editProps","animation","animateProps","animationEdit","yh_block_focus","onContextMenu","Container","editContainerStyle","previewContainerStyle","bgColor","globalState","containerColor","containerForceUpdate","onMounted","onMountedFn","destroyed","destroyedFn","minWxEle","minwx","viewBox","version","xmlns","d","yh_container","containerOverFlow","fontSize","isMinwx","justifyContent","containerIcon","yh_container_preview","border","boxShadow","LeftConfig","menuSelect","setMenuSelect","leftRender","setLeftRender","setForce","leftForceUpdate","leftMapRenderListCategory","leftRenderListCategory","setSearch","isCustom","custom","leftAllRegistMap","k","asyncRegistComponent","leftco","padding","textOverflow","whiteSpace","fontFamily","fontWeight","allowClear","onChange","prefix","SearchOutlined","prev","next","coitem","redbox","imgCustom","img","alt","customRender","getCollapse","isCollapse","setCollapse","renderCollapse","setRenderCollaspe","defaultSelectedKeys","menuWidth","menus","Item","icon","menuStyle","showName","menu_footer","footerConfig","selectedKeys","collapsed","DoubleRightOutlined","DoubleLeftOutlined","yhLeftrender","overflowX","Preview","loading","setLoading","finalFn","created","createdFn","initAddToDataMap","global","bodyColor","customAnimate","animateFactory","fromArrInsertKeyFrame","completeFn","beforeOnMounted","beforeOnMountedFn","loadingState","scripts","allp","s","onload","SCRIPTGLOBALNAME","registComponent","error","allplen","changeModaltoNormal","loadingNode","loadText","ColorPicker","initColor","setColor","colorPickerVisible","setColorPickerVisible","SketchPicker","c","newcolor","rgb","memo","colStyle","titletStyle","RightConfig","setCurrent","rightMapRenderListCategory","rightRenderListCategory","some","renderList","Component","getFormRegister","formMap","initTitle","initDescription","setTitle","setDescription","customGlobal","rightGlobalCustom","modalName","modalEditName","activeKey","TabPane","tab","span","originData","disabled","checked","globalExtra","modalConfig","modalExtra","scaleCancelFn","onWheelEvent","onWheel","deltaY","minValue","maxValue","scaleFn","increase","number","decrease","onWheelEventIframe","sendParent","Ticker","topRef","leftRef","topRender","setTopRender","renderWidth","ceil","renderHeight","clearTimeout","ContainerWrapper","children","classNames","rest","ticker","yh_container_wrapper","timeline","formItemLayout","labelCol","wrapperCol","SettingsModal","useForm","form","visible","onCancel","onOk","getFieldsValue","message","currentScale","initialValues","absorb","autofocus","label","Group","Option","step","Control","setVisible","configVisible","setConfigVisible","settingVisible","setSettingVisible","useMessage","api","contextHolder","xy","UnorderedListOutlined","LayoutOutlined","SyncOutlined","SettingOutlined","footer","keys","modalMap","actions","changeNormalToModal","success","removeModal","validateFields","then","resetFields","newModalMap","succeess","info","layout","rules","required","Text","LeftDataPannel","dataMap","dataSource","addVisible","setAddVisible","editVisible","setEditVisible","dataIndex","align","_v","record","size","JSON","stringify","editForm","setFieldsValue","newObj","staticSetToMap","formSubmit","startsWith","json","parse","marginBottom","pagination","columns","validator","resolve","reject","Error","exec","extra","TextArea","formComponentRegisterFn","formComponent","modules","FormComponentRegister","listener","containerConfig","setConfig","ele","emit","FunctionCenter","initConfig","reset","funcitonMap","configMap","nameMap","componentIdMap","cid","componentId","add","Set","getFunctionMap","getConfigMap","getNameMap","nameToKey","keylen","asyncMap","special","allId","needDelete","ids","getFunction","EventQuene","available","waiters","_continue","bind","take","task","eventList","iname","leave","shift","EventCenter","configFunction","functionCenter","getEventMap","resetEventMap","runEventQueue","DataCenter","setToMap","storeCurrentData","getValue","get","unmountMap","Map","ModalRender","storeData","z","parentDom","rootDom","unmount","parentElement","set","wrap","createModal","cssText","divs","ComponentItemFactory","destroy","remoteConfig","MmodalMask","shape","SaveOutlined","closeModal","keymap","C","D","E","F","G","I","J","K","L","m","M","n","N","o","O","P","q","Q","R","S","T","u","U","V","W","X","Y","Z","keycodeFilter","CommanderWrapper","commandMap","getList","remove","registerKeyBoard","origindestroy","newdestroy","keyboard","onKeydown","activeElement","altKey","keyString","keyname","join","excute","options","ComponentRegister","componentMap","componentList","emitEvent","createDefaultModalBlock","initialData","Store","storeDataList","listeners","getListeners","getOriginBlock","sign2","isInModalMap","modalBlock","newModaltoNormal","modalNameList","copyData","resetToInitData","check","resetToCustomData","resetListeners","replaceList","num","redo","maxLength","undo","cleanRedundant","flag","removeIndex","styleSheetId","AnimateFactory","customAnimateName","getCustomAnimateName","searchSheet","sheet","styleSheets","node","ownerNode","getStyleSheets","createTextNode","head","inserKeyframeAnimate","ruleText","insertRule","cssRules","deleteKeyFrameAnimate","animateName","sheets","ss","rule","deleteRule","addCustomAnimate","customAnimateNameArr","deleteCustomAnimate","keyframe","syncToStore","copy","originGlobal","syncStoreToConfig","dataAnimate","addUserInputIntoCustom","keyframeItem","keyframes","percent","positionX","positionY","defaultStore","defaultKey","script","defaultConfig","initStoreData","initComponentCache","modalMask","initFunctionMap","open_modal","_ctx","receive","multi","close_modal","_config","initDataCenterMap","initFormComponents","VerticalAlignMiddleOutlined","userConfigMerge","mergeConfig","UserConfig","iframeWrapperMoveState","commanderRegister","toRegist","formRegister","componentCache","urlFn","asyncComponentUrlMap","getStoreJSON","parseStoreJson","resetData","getAnimateFactory","getContextMenuState","getCurrentData","resetConfig","addLeftCategory","addRightCategory","addCoRegistMap","registCommander","command","getMarklineConfig","getComponentCache","chunk","chunkDefault","scriptRegistComponentSingle","leftProps","scriptSingleLoad","scriptLoading","createPannelOptions","option","CommanderItemFactory","useRegistFunc","dep","registFn","unRegist","setMessage","transformOrigin","IframeTarget","scrolling","iframeProps"],"mappings":"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"}